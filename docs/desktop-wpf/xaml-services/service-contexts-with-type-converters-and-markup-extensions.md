---
title: Contextos de servicio disponibles para los convertidores de tipos y las extensiones de marcado
ms.date: 03/30/2017
helpviewer_keywords:
- XAML [XAML Services], type converter services how-to
ms.assetid: b4dad00f-03da-4579-a4e9-d8d72d2ccbce
ms.openlocfilehash: 59c4385eb4df8c622be6164cdb0a1a911c445ca8
ms.sourcegitcommit: c2d9718996402993cf31541f11e95531bc68bad0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 02/27/2020
ms.locfileid: "81432897"
---
# <a name="service-contexts-available-to-type-converters-and-markup-extensions"></a><span data-ttu-id="115ec-102">Contextos de servicio disponibles para los convertidores de tipos y las extensiones de marcado</span><span class="sxs-lookup"><span data-stu-id="115ec-102">Service Contexts Available to Type Converters and Markup Extensions</span></span>
<span data-ttu-id="115ec-103">Los autores de los tipos que admiten los usos de la extensión de marcado y el convertidor de tipos deben tener a menudo la información contextual sobre dónde se encuentra un uso en el marcado o en la estructura gráfica del objeto adyacente.</span><span class="sxs-lookup"><span data-stu-id="115ec-103">Authors of the types that support type converter and markup extension usages must often have contextual information about where a usage is located in the markup, or in surrounding object graph structure.</span></span> <span data-ttu-id="115ec-104">Puede ser necesaria cierta información para que se cree una instancia correcta del objeto proporcionado o para que puedan crearse referencias a objetos existentes del gráfico del objeto.</span><span class="sxs-lookup"><span data-stu-id="115ec-104">Information might be needed so that the provided object is instantiated correctly or so that object references to existing objects in the object graph can be made.</span></span> <span data-ttu-id="115ec-105">Cuando se usa los servicios XAML de .NET, el contexto que podría ser necesario se expone como una serie de interfaces de servicio.</span><span class="sxs-lookup"><span data-stu-id="115ec-105">When using .NET XAML Services, the context that might be required is exposed as a series of service interfaces.</span></span> <span data-ttu-id="115ec-106">El código de soporte de la extensión de marcado o el convertidor de tipos puede consultar un servicio usando un contexto de proveedor de servicio que esté disponible y se haya pasado desde <xref:System.Xaml.XamlObjectWriter> o tipos relacionados.</span><span class="sxs-lookup"><span data-stu-id="115ec-106">Type converter or markup extension support code can query for a service by using a service provider context that is available and passed through from <xref:System.Xaml.XamlObjectWriter> or related types.</span></span> <span data-ttu-id="115ec-107">El contexto de esquema XAML está disponible directamente con uno de estos servicios.</span><span class="sxs-lookup"><span data-stu-id="115ec-107">The XAML schema context is directly available through one such service.</span></span> <span data-ttu-id="115ec-108">En este tema se describe cómo acceder a los contextos de servicio desde una implementación de convertidor de valor y se enumeran los servicios normalmente disponibles y sus funciones.</span><span class="sxs-lookup"><span data-stu-id="115ec-108">This topic describes how to access service contexts from a value converter implementation, and lists typically available services and their roles.</span></span>

## <a name="obtaining-services"></a><span data-ttu-id="115ec-109">Obtener servicios</span><span class="sxs-lookup"><span data-stu-id="115ec-109">Obtaining Services</span></span>

<span data-ttu-id="115ec-110">Como implementador de un convertidor de valores, suele necesitar acceder a algún tipo de contexto en el que se aplica el convertidor de valores.</span><span class="sxs-lookup"><span data-stu-id="115ec-110">As an implementer of a value converter, you often need access to some type of context in which the value converter is applied.</span></span> <span data-ttu-id="115ec-111">Este contexto puede incluir información como el contexto de esquema XAML activo, acceso al sistema de asignación de tipos que proporcionan el contexto de esquema XAML y el escritor de objetos XAML, etc.</span><span class="sxs-lookup"><span data-stu-id="115ec-111">This context might include information such as the active XAML schema context, access to the type-mapping system that the XAML schema context and XAML object writer provide, and so on.</span></span> <span data-ttu-id="115ec-112">Los servicios disponibles para una implementación de convertidor de tipos o extensión de marcado se comunican con los parámetros de contexto que forman parte de la firma de cada método virtual.</span><span class="sxs-lookup"><span data-stu-id="115ec-112">The services available for a markup extension or type converter implementation are communicated through the context parameters that are part of the signature of each virtual method.</span></span> <span data-ttu-id="115ec-113">En todos los casos, <xref:System.IServiceProvider> debe estar implementado en el contexto y puede llamar a <xref:System.IServiceProvider.GetService%2A?displayProperty=nameWithType> para pedir un servicio.</span><span class="sxs-lookup"><span data-stu-id="115ec-113">In every case, you have <xref:System.IServiceProvider> implemented in the context, and can call <xref:System.IServiceProvider.GetService%2A?displayProperty=nameWithType> to request a service.</span></span>

## <a name="services-for-a-markup-extension"></a><span data-ttu-id="115ec-114">Servicios para una extensión de marcado</span><span class="sxs-lookup"><span data-stu-id="115ec-114">Services for a Markup Extension</span></span>

<span data-ttu-id="115ec-115"><xref:System.Windows.Markup.MarkupExtension> solo tiene un método virtual, <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>.</span><span class="sxs-lookup"><span data-stu-id="115ec-115"><xref:System.Windows.Markup.MarkupExtension> has only one virtual method, <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>.</span></span> <span data-ttu-id="115ec-116">El parámetro de entrada `serviceProvider` indica cómo se comunican los servicios a las implementaciones cuando un procesador XAML llama a la extensión de marcado.</span><span class="sxs-lookup"><span data-stu-id="115ec-116">The input `serviceProvider` parameter is how the services are communicated to implementations when the markup extension is called by a XAML processor.</span></span> <span data-ttu-id="115ec-117">En el siguiente pseudocódigo se muestra cómo una implementación de extensión de marcado puede consultar los servicios en su <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>:</span><span class="sxs-lookup"><span data-stu-id="115ec-117">The following pseudocode illustrates how a markup extension implementation might query for services in its <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>:</span></span>

```csharp
public override object ProvideValue(IServiceProvider serviceProvider)
{
...
    // Get the IXamlTypeResolver from the service provider
    if (serviceProvider == null)
    {
        throw new ArgumentNullException("serviceProvider");
    }
    IXamlTypeResolver xamlTypeResolver = serviceProvider.GetService(typeof(IXamlTypeResolver)) as IXamlTypeResolver;
    if (xamlTypeResolver == null)
   {
        throw new ArgumentException("IXamlTypeResolver"));
    }
...
}
```

## <a name="services-for-a-type-converter"></a><span data-ttu-id="115ec-118">Servicios para un convertidor de tipos</span><span class="sxs-lookup"><span data-stu-id="115ec-118">Services for a Type Converter</span></span>

<span data-ttu-id="115ec-119"><xref:System.ComponentModel.TypeConverter> tiene cuatro métodos virtuales que usan un contexto de servicio y que admiten usos XAML.</span><span class="sxs-lookup"><span data-stu-id="115ec-119"><xref:System.ComponentModel.TypeConverter> has four virtual methods that use a service context and that support XAML usages.</span></span> <span data-ttu-id="115ec-120">Cada uno de estos métodos pasa un parámetro de entrada `context` .</span><span class="sxs-lookup"><span data-stu-id="115ec-120">Each of these methods passes an input `context` parameter.</span></span> <span data-ttu-id="115ec-121">Este parámetro es de tipo <xref:System.ComponentModel.ITypeDescriptorContext>, pero esa interfaz hereda <xref:System.IServiceProvider>; por lo tanto, hay un método <xref:System.IServiceProvider.GetService%2A> disponible para implementaciones de convertidor de tipos.</span><span class="sxs-lookup"><span data-stu-id="115ec-121">This parameter is of type <xref:System.ComponentModel.ITypeDescriptorContext>, but that interface inherits <xref:System.IServiceProvider>, and therefore, there is a <xref:System.IServiceProvider.GetService%2A> method available to type converter implementations.</span></span>

<span data-ttu-id="115ec-122">En el siguiente pseudocódigo se muestra cómo una implementación de convertidor de tipos para usos XAML puede consultar los servicios de una de sus invalidaciones, en este caso <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A>:</span><span class="sxs-lookup"><span data-stu-id="115ec-122">The following pseudocode illustrates how a type converter implementation for XAML usages might query for services in one of its overrides, in this case <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A>:</span></span>

```csharp
public override object ConvertFrom(ITypeDescriptorContext typeDescriptorContext,
  CultureInfo cultureInfo,
  object source)
{
    IRootObjectProvider rootProvider = typeDescriptorContext.GetService(typeof(IRootObjectProvider)) as IRootObjectProvider;
    if (rootProvider != null && source is String)
    {
        //return something, else ...
    }
    throw GetConvertFromException(source);
}
```

## <a name="services-for-a-value-serializer"></a><span data-ttu-id="115ec-123">Servicios para un serializador de valor</span><span class="sxs-lookup"><span data-stu-id="115ec-123">Services for a Value Serializer</span></span>

<span data-ttu-id="115ec-124">Para el contexto de serializador de valor, se usa un tipo de proveedor de servicios que es específico de la clase <xref:System.Windows.Markup.ValueSerializer> , <xref:System.Windows.Markup.IValueSerializerContext>.</span><span class="sxs-lookup"><span data-stu-id="115ec-124">For value serializer context, you use a service provider type that is specific to the <xref:System.Windows.Markup.ValueSerializer> class, <xref:System.Windows.Markup.IValueSerializerContext>.</span></span> <span data-ttu-id="115ec-125">Ese contexto se pasa a las invalidaciones de los cuatro métodos virtuales <xref:System.Windows.Markup.ValueSerializer> .</span><span class="sxs-lookup"><span data-stu-id="115ec-125">That context is passed to overrides of the four <xref:System.Windows.Markup.ValueSerializer> virtual methods.</span></span> <span data-ttu-id="115ec-126">Llame a <xref:System.IServiceProvider.GetService%2A> desde el contexto para obtener servicios.</span><span class="sxs-lookup"><span data-stu-id="115ec-126">Call <xref:System.IServiceProvider.GetService%2A> from the context to obtain services.</span></span>

## <a name="using-the-xaml-service-provider-contexts"></a><span data-ttu-id="115ec-127">Uso de los contextos de proveedor de servicio XAML</span><span class="sxs-lookup"><span data-stu-id="115ec-127">Using the XAML Service Provider Contexts</span></span>

<span data-ttu-id="115ec-128">El proveedor <xref:System.IServiceProvider.GetService%2A> de servicios para el acceso a los servicios XAML disponibles para las extensiones de marcado o convertidores de tipos se implementa como una clase interna, con la exposición solo a través de la interfaz y cómo se pasa al contexto relevante.</span><span class="sxs-lookup"><span data-stu-id="115ec-128">The service provider for <xref:System.IServiceProvider.GetService%2A> access to XAML services available to markup extensions or type converters is implemented as an internal class, with exposure only through the interface and how it is passed into the relevant context.</span></span> <span data-ttu-id="115ec-129">Cada vez que una operación de procesamiento XAML en las implementaciones predeterminadas de servicios XAML de .NET de ruta de acceso de carga o ruta de acceso de guardado invoca la extensión de marcado relevante o métodos de convertidor de tipos que requieren un contexto de servicio, se pasa este objeto interno.</span><span class="sxs-lookup"><span data-stu-id="115ec-129">Whenever a XAML processing operation in the default .NET XAML Services implementations of load path or save path invokes the relevant markup extension or type converter methods that require a service context, this internal object is passed.</span></span> <span data-ttu-id="115ec-130">Dependiendo de las circunstancias, el contexto de servicio del sistema proporciona `MarkupExtensionContext` o `TextSyntaxContext`, pero las características específicas de ambas clases son internas.</span><span class="sxs-lookup"><span data-stu-id="115ec-130">Depending on the circumstance, the system service context provides either `MarkupExtensionContext` or `TextSyntaxContext`, but the specifics of both of these classes are internal.</span></span> <span data-ttu-id="115ec-131">La interacción con estas clases se limita a pedir servicios desde ellas con <xref:System.IServiceProvider.GetService%2A>.</span><span class="sxs-lookup"><span data-stu-id="115ec-131">Your interaction with these classes is limited to requesting services from them, through <xref:System.IServiceProvider.GetService%2A>.</span></span>

## <a name="available-services-from-the-net-xaml-service-context"></a><span data-ttu-id="115ec-132">Servicios disponibles desde el contexto de servicio XAML de .NET</span><span class="sxs-lookup"><span data-stu-id="115ec-132">Available Services from the .NET XAML Service Context</span></span>

<span data-ttu-id="115ec-133">Servicios XAML de .NET define servicios para extensiones de marcado, convertidores de tipos, serializadores de valores y potencialmente otros usos.</span><span class="sxs-lookup"><span data-stu-id="115ec-133">.NET XAML Services defines services for markup extensions, type converters, value serializers, and potentially other usages.</span></span> <span data-ttu-id="115ec-134">En las secciones siguientes se describe cada uno de estos servicios y se proporcionan instrucciones sobre cómo usarlos en una implementación.</span><span class="sxs-lookup"><span data-stu-id="115ec-134">The following sections describe each of these services and provide guidance about how the service might be used in an implementation.</span></span>

### <a name="iserviceprovider"></a><span data-ttu-id="115ec-135">IServiceProvider</span><span class="sxs-lookup"><span data-stu-id="115ec-135">IServiceProvider</span></span>

<span data-ttu-id="115ec-136">**Documentación de referencia**:<xref:System.IServiceProvider></span><span class="sxs-lookup"><span data-stu-id="115ec-136">**Reference documentation**: <xref:System.IServiceProvider></span></span>

<span data-ttu-id="115ec-137">**Relevante para:** Operación básica de una infraestructura basada en servicios <xref:System.IServiceProvider.GetService%2A?displayProperty=nameWithType>en .NET para que pueda llamar a .</span><span class="sxs-lookup"><span data-stu-id="115ec-137">**Relevant to:** Basic operation of a service-based infrastructure in .NET so that you can call <xref:System.IServiceProvider.GetService%2A?displayProperty=nameWithType>.</span></span>

### <a name="itypedescriptorcontext"></a><span data-ttu-id="115ec-138">ITypeDescriptorContext</span><span class="sxs-lookup"><span data-stu-id="115ec-138">ITypeDescriptorContext</span></span>

<span data-ttu-id="115ec-139">**Documentación de referencia**:<xref:System.ComponentModel.ITypeDescriptorContext></span><span class="sxs-lookup"><span data-stu-id="115ec-139">**Reference documentation**: <xref:System.ComponentModel.ITypeDescriptorContext></span></span>

<span data-ttu-id="115ec-140">Deriva de <xref:System.IServiceProvider>.</span><span class="sxs-lookup"><span data-stu-id="115ec-140">Derives from <xref:System.IServiceProvider>.</span></span> <span data-ttu-id="115ec-141">Esta clase representa el contexto de las firmas estándares <xref:System.ComponentModel.TypeConverter> ; <xref:System.ComponentModel.TypeConverter> es una clase que existe desde .NET Framework 1.0.</span><span class="sxs-lookup"><span data-stu-id="115ec-141">This class represents context in the standard <xref:System.ComponentModel.TypeConverter> signatures; <xref:System.ComponentModel.TypeConverter> is a class that has existed since .NET Framework 1.0.</span></span> <span data-ttu-id="115ec-142">Es anterior a XAML y el escenario XAML <xref:System.ComponentModel.TypeConverter> para la conversión de tipo de valor de cadena.</span><span class="sxs-lookup"><span data-stu-id="115ec-142">It predates XAML and the XAML <xref:System.ComponentModel.TypeConverter> scenario for string-value type conversion.</span></span> <span data-ttu-id="115ec-143">En el contexto de servicios <xref:System.ComponentModel.TypeConverter> XAML de .NET, los métodos de se implementan explícitamente.</span><span class="sxs-lookup"><span data-stu-id="115ec-143">In .NET XAML Services context, methods of <xref:System.ComponentModel.TypeConverter> are implemented explicitly.</span></span> <span data-ttu-id="115ec-144">El comportamiento de la implementación explícita indica a los llamadores que la API <xref:System.ComponentModel.ITypeDescriptorContext> no es relevante para los sistemas de tipos XAML ni para leer o escribir objetos desde XAML.</span><span class="sxs-lookup"><span data-stu-id="115ec-144">The explicit implementation's behavior indicates to callers that the <xref:System.ComponentModel.ITypeDescriptorContext> API is not relevant for XAML type systems, or for reading or writing objects from XAML.</span></span> <span data-ttu-id="115ec-145"><xref:System.ComponentModel.ITypeDescriptorContext.Container%2A>, <xref:System.ComponentModel.ITypeDescriptorContext.Instance%2A>, <xref:System.ComponentModel.ITypeDescriptorContext.PropertyDescriptor%2A> y, `null` por lo general, devolver desde contextos de servicios XAML de .NET.</span><span class="sxs-lookup"><span data-stu-id="115ec-145"><xref:System.ComponentModel.ITypeDescriptorContext.Container%2A>, <xref:System.ComponentModel.ITypeDescriptorContext.Instance%2A>, and <xref:System.ComponentModel.ITypeDescriptorContext.PropertyDescriptor%2A> generally return `null` from .NET XAML Services contexts.</span></span>

### <a name="ivalueserializercontext"></a><span data-ttu-id="115ec-146">IValueSerializerContext</span><span class="sxs-lookup"><span data-stu-id="115ec-146">IValueSerializerContext</span></span>

<span data-ttu-id="115ec-147">**Documentación de referencia**:<xref:System.Windows.Markup.IValueSerializerContext></span><span class="sxs-lookup"><span data-stu-id="115ec-147">**Reference documentation**: <xref:System.Windows.Markup.IValueSerializerContext></span></span>

<span data-ttu-id="115ec-148">Se deriva de <xref:System.ComponentModel.ITypeDescriptorContext> y también se basa en las implementaciones explícitas para suprimir las implicaciones falsas sobre el sistema de tipos XAML.</span><span class="sxs-lookup"><span data-stu-id="115ec-148">Derives from <xref:System.ComponentModel.ITypeDescriptorContext> and also relies on explicit implementations to suppress false implications about the XAML type system.</span></span> <span data-ttu-id="115ec-149">Admite los métodos del asistente de búsqueda estática en <xref:System.Windows.Markup.ValueSerializer>.</span><span class="sxs-lookup"><span data-stu-id="115ec-149">Supports the static lookup helper methods on <xref:System.Windows.Markup.ValueSerializer>.</span></span>

### <a name="ixamltyperesolver"></a><span data-ttu-id="115ec-150">IXamlTypeResolver</span><span class="sxs-lookup"><span data-stu-id="115ec-150">IXamlTypeResolver</span></span>

<span data-ttu-id="115ec-151">**Documentación de referencia**:<xref:System.Windows.Markup.IXamlTypeResolver></span><span class="sxs-lookup"><span data-stu-id="115ec-151">**Reference documentation**: <xref:System.Windows.Markup.IXamlTypeResolver></span></span>

<span data-ttu-id="115ec-152">**Definida por:**  <xref:System.Windows.Markup> espacio de nombres, ensamblado System.Xaml</span><span class="sxs-lookup"><span data-stu-id="115ec-152">**Defined by:**  <xref:System.Windows.Markup> namespace, System.Xaml assembly</span></span>

<span data-ttu-id="115ec-153">**Relevante para:** escenarios de ruta de acceso de carga y la interacción con el contexto de esquema XAML</span><span class="sxs-lookup"><span data-stu-id="115ec-153">**Relevant to:** Load path scenarios, and interaction with XAML schema context</span></span>

<span data-ttu-id="115ec-154">**API de servicio:**  <xref:System.Windows.Markup.IXamlTypeResolver.Resolve%2A></span><span class="sxs-lookup"><span data-stu-id="115ec-154">**Service API:**  <xref:System.Windows.Markup.IXamlTypeResolver.Resolve%2A></span></span>

<span data-ttu-id="115ec-155">Puede influir en la asignación de tipo XAML a CLR que es necesaria cuando el escritor de XAML construye un objeto CLR en un gráfico de objetos.</span><span class="sxs-lookup"><span data-stu-id="115ec-155">Can influence the XAML-to-CLR type mapping that is necessary when the XAML writer constructs a CLR object in an object graph.</span></span> <span data-ttu-id="115ec-156"><xref:System.Windows.Markup.IXamlTypeResolver.Resolve%2A> procesa una cadena potencialmente calificada con prefijo que corresponde a un nombre de tipo XAML (<xref:System.Xaml.XamlType.Name%2A?displayProperty=nameWithType>) y devuelve un CLR <xref:System.Type>.</span><span class="sxs-lookup"><span data-stu-id="115ec-156"><xref:System.Windows.Markup.IXamlTypeResolver.Resolve%2A> processes a potentially prefix-qualified string that corresponds to a XAML type name (<xref:System.Xaml.XamlType.Name%2A?displayProperty=nameWithType>), and returns a CLR <xref:System.Type>.</span></span> <span data-ttu-id="115ec-157">La resolución de los tipos depende normalmente y en gran medida del contexto de esquema XAML.</span><span class="sxs-lookup"><span data-stu-id="115ec-157">Resolving types is typically heavily dependent on XAML schema context.</span></span> <span data-ttu-id="115ec-158">Solo el contexto de esquema XAML conoce consideraciones como qué ensamblados se cargan y a cuáles de estos ensamblados se puede o se debe acceder para la resolución de tipo.</span><span class="sxs-lookup"><span data-stu-id="115ec-158">Only the XAML schema context is aware of considerations such as which assemblies are loaded, and which of these assemblies can or should be accessed for type resolution.</span></span>

### <a name="iuricontext"></a><span data-ttu-id="115ec-159">IUriContext</span><span class="sxs-lookup"><span data-stu-id="115ec-159">IUriContext</span></span>

<span data-ttu-id="115ec-160">**Documentación de referencia**:<xref:System.Windows.Markup.IUriContext></span><span class="sxs-lookup"><span data-stu-id="115ec-160">**Reference documentation**: <xref:System.Windows.Markup.IUriContext></span></span>

<span data-ttu-id="115ec-161">**Definida por:**  <xref:System.Windows.Markup> espacio de nombres, ensamblado System.Xaml</span><span class="sxs-lookup"><span data-stu-id="115ec-161">**Defined by:**  <xref:System.Windows.Markup> namespace, System.Xaml assembly</span></span>

<span data-ttu-id="115ec-162">**Relevante para:** tratar rutas de acceso de carga y guardado de valores de miembro que son URI o valores `x:Uri` .</span><span class="sxs-lookup"><span data-stu-id="115ec-162">**Relevant to:** Load path and save path handling of member values that are URIs or `x:Uri` values.</span></span>

<span data-ttu-id="115ec-163">**API de servicio:**  <xref:System.Windows.Markup.IUriContext.BaseUri%2A></span><span class="sxs-lookup"><span data-stu-id="115ec-163">**Service API:**  <xref:System.Windows.Markup.IUriContext.BaseUri%2A></span></span>

<span data-ttu-id="115ec-164">Este servicio notifica una raíz URI disponible globalmente, si existe.</span><span class="sxs-lookup"><span data-stu-id="115ec-164">This service reports a globally available URI root, if any.</span></span> <span data-ttu-id="115ec-165">La raíz URI puede usarse para resolver los URI relativos como URI absolutos o viceversa.</span><span class="sxs-lookup"><span data-stu-id="115ec-165">The URI root can be used to resolve relative URIs to absolute URIs or vice versa.</span></span> <span data-ttu-id="115ec-166">Este escenario es principalmente relevante para los servicios de aplicación expuestos por un marco determinado o para las capacidades de una clase de elemento raíz usada con frecuencia en un marco.</span><span class="sxs-lookup"><span data-stu-id="115ec-166">This scenario is mainly relevant to application services that are exposed by a particular framework, or capabilities of a frequently used root element class in a framework.</span></span> <span data-ttu-id="115ec-167">El URI base se puede establecer como una opción de lector XAML que se pasa a la escritura de objeto XAML y es notificada por este servicio.</span><span class="sxs-lookup"><span data-stu-id="115ec-167">The base URI can be established as a XAML reader setting, which is then passed through to the XAML object writer and reported by this service.</span></span>

### <a name="iambientprovider"></a><span data-ttu-id="115ec-168">IAmbientProvider</span><span class="sxs-lookup"><span data-stu-id="115ec-168">IAmbientProvider</span></span>

<span data-ttu-id="115ec-169">**Documentación de referencia**:<xref:System.Xaml.IAmbientProvider></span><span class="sxs-lookup"><span data-stu-id="115ec-169">**Reference documentation**: <xref:System.Xaml.IAmbientProvider></span></span>

<span data-ttu-id="115ec-170">**Definida por:**  <xref:System.Xaml> espacio de nombres, ensamblado System.Xaml</span><span class="sxs-lookup"><span data-stu-id="115ec-170">**Defined by:**  <xref:System.Xaml> namespace, System.Xaml assembly</span></span>

<span data-ttu-id="115ec-171">**Relevante para:** el tratamiento de rutas de acceso de carga y aplazamientos de búsquedas de control u optimizaciones.</span><span class="sxs-lookup"><span data-stu-id="115ec-171">**Relevant to:** Load path handling and type lookup deferrals or optimizations.</span></span>

<span data-ttu-id="115ec-172">**API de servicio:**  <xref:System.Xaml.IAmbientProvider.GetAllAmbientValues%2A>, otras tres.</span><span class="sxs-lookup"><span data-stu-id="115ec-172">**Service APIs:**  <xref:System.Xaml.IAmbientProvider.GetAllAmbientValues%2A>, three others.</span></span>

<span data-ttu-id="115ec-173">El concepto de ambiente en XAML es una técnica para marcar a un miembro determinado de un tipo como ambiente.</span><span class="sxs-lookup"><span data-stu-id="115ec-173">The ambience concept in XAML is a technique for marking a particular member of a type as ambient.</span></span> <span data-ttu-id="115ec-174">Como alternativa, un tipo puede ser ambiente para que todos los valores de propiedad que contienen una instancia del tipo se consideren propiedades de ambiente.</span><span class="sxs-lookup"><span data-stu-id="115ec-174">Alternatively, a type can be ambient so that all property values that hold an instance of the type should be considered ambient properties.</span></span> <span data-ttu-id="115ec-175">Las extensiones de marcado o los convertidores de tipos que son más adelante el flujo de nodo XAML y que son descendientes del gráfico de objetos pueden acceder a la propiedad de ambiente o instancia de tipo en tiempo de carga; o bien, puede usar el conocimiento de la estructura de ambiente en el momento de guardar.</span><span class="sxs-lookup"><span data-stu-id="115ec-175">Markup extensions or type converters that are further along the XAML node stream and that are descendants in the object graph can access the ambient property or type instance at load time; or they can use knowledge of the ambient structure at save time.</span></span> <span data-ttu-id="115ec-176">Esto puede afectar al grado de calificación que se necesita para resolver tipos para otros servicios, como <xref:System.Windows.Markup.IXamlTypeResolver> o `x:Type`.</span><span class="sxs-lookup"><span data-stu-id="115ec-176">This can affect the degree of qualification that is needed to resolve types for other services, such as for <xref:System.Windows.Markup.IXamlTypeResolver> or for `x:Type`.</span></span> <span data-ttu-id="115ec-177">Consulte también <xref:System.Xaml.AmbientPropertyValue>.</span><span class="sxs-lookup"><span data-stu-id="115ec-177">See also <xref:System.Xaml.AmbientPropertyValue>.</span></span>

### <a name="ixamlschemacontextprovider"></a><span data-ttu-id="115ec-178">IXamlSchemaContextProvider</span><span class="sxs-lookup"><span data-stu-id="115ec-178">IXamlSchemaContextProvider</span></span>

<span data-ttu-id="115ec-179">**Documentación de referencia**:<xref:System.Xaml.IXamlSchemaContextProvider></span><span class="sxs-lookup"><span data-stu-id="115ec-179">**Reference documentation**: <xref:System.Xaml.IXamlSchemaContextProvider></span></span>

<span data-ttu-id="115ec-180">**Definida por:**  <xref:System.Xaml> espacio de nombres, ensamblado System.Xaml</span><span class="sxs-lookup"><span data-stu-id="115ec-180">**Defined by:**  <xref:System.Xaml> namespace, System.Xaml assembly</span></span>

<span data-ttu-id="115ec-181">**Relevante para:** ruta de acceso de carga y cualquier operación que deba resolver un tipo XAML como un tipo de copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="115ec-181">**Relevant to:** Load path, and any operation that must resolve a XAML type to a backing type.</span></span>

<span data-ttu-id="115ec-182">**API de servicio:**  <xref:System.Xaml.IXamlSchemaContextProvider.SchemaContext%2A></span><span class="sxs-lookup"><span data-stu-id="115ec-182">**Service API:**  <xref:System.Xaml.IXamlSchemaContextProvider.SchemaContext%2A></span></span>

<span data-ttu-id="115ec-183">El contexto de esquema XAML es necesario para las operaciones de carga diferidas porque el mismo contexto del esquema debe actuar sobre el área diferida para integrar el contenido diferido.</span><span class="sxs-lookup"><span data-stu-id="115ec-183">XAML schema context is necessary for any defer load operations, because the same schema context must act on the deferred area in order to integrate the deferred content.</span></span> <span data-ttu-id="115ec-184">Para más información sobre la función del contexto de esquema XAML, vea [XAML Services](../../../api/index.md).</span><span class="sxs-lookup"><span data-stu-id="115ec-184">For more information about the role of the XAML schema context, see [XAML Services](../../../api/index.md).</span></span>

### <a name="irootobjectprovider"></a><span data-ttu-id="115ec-185">IRootObjectProvider</span><span class="sxs-lookup"><span data-stu-id="115ec-185">IRootObjectProvider</span></span>

<span data-ttu-id="115ec-186">**Documentación de referencia**:<xref:System.Xaml.IRootObjectProvider></span><span class="sxs-lookup"><span data-stu-id="115ec-186">**Reference documentation**: <xref:System.Xaml.IRootObjectProvider></span></span>

<span data-ttu-id="115ec-187">**Definida por:**  <xref:System.Xaml> espacio de nombres, ensamblado System.Xaml</span><span class="sxs-lookup"><span data-stu-id="115ec-187">**Defined by:**  <xref:System.Xaml> namespace, System.Xaml assembly</span></span>

<span data-ttu-id="115ec-188">**Relevante para:** ruta de acceso de carga.</span><span class="sxs-lookup"><span data-stu-id="115ec-188">**Relevant to:** Load path.</span></span>

<span data-ttu-id="115ec-189">**API de servicio:**  <xref:System.Xaml.IRootObjectProvider.RootObject%2A></span><span class="sxs-lookup"><span data-stu-id="115ec-189">**Service API:**  <xref:System.Xaml.IRootObjectProvider.RootObject%2A></span></span>

<span data-ttu-id="115ec-190">Este escenario es relevante para los servicios de aplicación expuestos por un marco determinado o por las capacidades de una clase de elemento raíz usada con frecuencia en un marco.</span><span class="sxs-lookup"><span data-stu-id="115ec-190">The service is relevant to application services that are exposed by a particular framework or by capabilities of a frequently used root element class in a framework.</span></span> <span data-ttu-id="115ec-191">Un escenario para obtener el objeto raíz es la conexión con el código subyacente y la conexión de eventos.</span><span class="sxs-lookup"><span data-stu-id="115ec-191">One scenario for obtaining the root object is connecting code-behind and event wiring.</span></span> <span data-ttu-id="115ec-192">Por ejemplo, la implementación de WPF de `x:Class` se usa para compilar el marcado y conectar cualquier atributo de controlador de eventos que se encuentra en cualquier otra posición del marcado XAML.</span><span class="sxs-lookup"><span data-stu-id="115ec-192">For example, the WPF implementation of `x:Class` is used for markup compile and wiring of any event handler attribute that is found at any other position in the XAML markup.</span></span> <span data-ttu-id="115ec-193">El punto de conexión de las clases parciales definidas por el código subyacente y el marcado para la compilación del marcado está en el elemento raíz.</span><span class="sxs-lookup"><span data-stu-id="115ec-193">The connection point of markup and code-behind defined partial classes for markup compile is at the root element.</span></span>

### <a name="ixamlnamespaceresolver"></a><span data-ttu-id="115ec-194">IXamlNamespaceResolver</span><span class="sxs-lookup"><span data-stu-id="115ec-194">IXamlNamespaceResolver</span></span>

<span data-ttu-id="115ec-195">**Documentación de referencia**:<xref:System.Xaml.IXamlNamespaceResolver></span><span class="sxs-lookup"><span data-stu-id="115ec-195">**Reference documentation**: <xref:System.Xaml.IXamlNamespaceResolver></span></span>

<span data-ttu-id="115ec-196">**Definida por:**  <xref:System.Xaml> espacio de nombres, ensamblado System.Xaml</span><span class="sxs-lookup"><span data-stu-id="115ec-196">**Defined by:**  <xref:System.Xaml> namespace, System.Xaml assembly</span></span>

<span data-ttu-id="115ec-197">**Relevante para:** la ruta de acceso de carga y la ruta de acceso de guardado.</span><span class="sxs-lookup"><span data-stu-id="115ec-197">**Relevant to:** Load path, save path.</span></span>

<span data-ttu-id="115ec-198">**API de servicio:** <xref:System.Xaml.IXamlNamespaceResolver.GetNamespace%2A> para la ruta de acceso de carga y <xref:System.Xaml.IXamlNamespaceResolver.GetNamespacePrefixes%2A> para la ruta de acceso de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="115ec-198">**Service API:** <xref:System.Xaml.IXamlNamespaceResolver.GetNamespace%2A> for load path, <xref:System.Xaml.IXamlNamespaceResolver.GetNamespacePrefixes%2A> for save path.</span></span>

<span data-ttu-id="115ec-199"><xref:System.Xaml.IXamlNamespaceResolver> es un servicio que puede devolver un URI/identificador de espacio de nombres XAML basado en su prefijo según se ha asignado en el marcado XAML original.</span><span class="sxs-lookup"><span data-stu-id="115ec-199"><xref:System.Xaml.IXamlNamespaceResolver> is a service that can return a XAML namespace identifier / URI based on its prefix as mapped in the originating XAML markup.</span></span>

### <a name="iprovidevaluetarget"></a><span data-ttu-id="115ec-200">IProvideValueTarget</span><span class="sxs-lookup"><span data-stu-id="115ec-200">IProvideValueTarget</span></span>

<span data-ttu-id="115ec-201">**Documentación de referencia**:<xref:System.Windows.Markup.IProvideValueTarget></span><span class="sxs-lookup"><span data-stu-id="115ec-201">**Reference documentation**: <xref:System.Windows.Markup.IProvideValueTarget></span></span>

<span data-ttu-id="115ec-202">**Definida por:**  <xref:System.Windows.Markup> espacio de nombres, ensamblado System.Xaml</span><span class="sxs-lookup"><span data-stu-id="115ec-202">**Defined by:**  <xref:System.Windows.Markup> namespace, System.Xaml assembly</span></span>

<span data-ttu-id="115ec-203">**Relevante para:** la ruta de acceso de carga y la ruta de acceso de guardado.h.</span><span class="sxs-lookup"><span data-stu-id="115ec-203">**Relevant to:** Load path and save path.</span></span>

<span data-ttu-id="115ec-204">**API de servicio:**<xref:System.Windows.Markup.IProvideValueTarget.TargetObject%2A>, . <xref:System.Windows.Markup.IProvideValueTarget.TargetProperty%2A>  </span><span class="sxs-lookup"><span data-stu-id="115ec-204">**Service APIs:**  <xref:System.Windows.Markup.IProvideValueTarget.TargetObject%2A>, <xref:System.Windows.Markup.IProvideValueTarget.TargetProperty%2A>.</span></span>

<span data-ttu-id="115ec-205"><xref:System.Windows.Markup.IProvideValueTarget> permite que una extensión de marcado o tipo de convertidor obtenga el contexto sobre dónde está actuando en tiempo de carga.</span><span class="sxs-lookup"><span data-stu-id="115ec-205"><xref:System.Windows.Markup.IProvideValueTarget> enables a type converter or markup extension to obtain context about where it is acting at load time.</span></span> <span data-ttu-id="115ec-206">Las implementaciones pueden usar este contexto para invalidar un uso.</span><span class="sxs-lookup"><span data-stu-id="115ec-206">Implementations might use this context to invalidate a usage.</span></span> <span data-ttu-id="115ec-207">Por ejemplo, WPF tiene lógica dentro de algunas de sus extensiones de marcado como <xref:System.Windows.DynamicResourceExtension>.</span><span class="sxs-lookup"><span data-stu-id="115ec-207">For example, WPF has logic inside some of its markup extensions such as <xref:System.Windows.DynamicResourceExtension>.</span></span> <span data-ttu-id="115ec-208">Las lógica comprueba <xref:System.Windows.Markup.IProvideValueTarget.TargetProperty%2A> para asegurarse de que la extensión solo se use para establecer las propiedades de dependencia (o una lista breve de otras propiedades de no dependencia).</span><span class="sxs-lookup"><span data-stu-id="115ec-208">The logic checks the <xref:System.Windows.Markup.IProvideValueTarget.TargetProperty%2A> to make sure that the extension is only used to set dependency properties (or a short list of other non-dependency properties).</span></span>

### <a name="ixamlnameresolver"></a><span data-ttu-id="115ec-209">IXamlNameResolver</span><span class="sxs-lookup"><span data-stu-id="115ec-209">IXamlNameResolver</span></span>

<span data-ttu-id="115ec-210">**Documentación de referencia**:<xref:System.Xaml.IXamlNameResolver></span><span class="sxs-lookup"><span data-stu-id="115ec-210">**Reference documentation**: <xref:System.Xaml.IXamlNameResolver></span></span>

<span data-ttu-id="115ec-211">**Definida por:**  <xref:System.Xaml> espacio de nombres, ensamblado System.Xaml</span><span class="sxs-lookup"><span data-stu-id="115ec-211">**Defined by:**  <xref:System.Xaml> namespace, System.Xaml assembly</span></span>

<span data-ttu-id="115ec-212">**Relevante para:** Cargar la definición del gráfico `x:Name`de `x:Reference`objetos de ruta de acceso, resolver objetos identificados por , , o técnicas específicas del marco de trabajo.</span><span class="sxs-lookup"><span data-stu-id="115ec-212">**Relevant to:** Load path object graph definition, resolving objects identified by `x:Name`, `x:Reference`, or framework-specific techniques.</span></span>

<span data-ttu-id="115ec-213">**API de servicio:**  <xref:System.Xaml.IXamlNameResolver.Resolve%2A>; otras API para los escenarios más avanzados como el tratamiento de las referencias adelantadas.</span><span class="sxs-lookup"><span data-stu-id="115ec-213">**Service APIs:**  <xref:System.Xaml.IXamlNameResolver.Resolve%2A>; other APIs for more advanced scenarios such as dealing with forward references.</span></span>

<span data-ttu-id="115ec-214">La implementación del `x:Reference` control de los servicios XAML de .NET se basa en este servicio.</span><span class="sxs-lookup"><span data-stu-id="115ec-214">.NET XAML Services implementation of `x:Reference` handling relies on this service.</span></span> <span data-ttu-id="115ec-215">Los marcos o las herramientas específicos que admiten el marco usan este servicio para el control de `x:Name` o el control de propiedades (<xref:System.Windows.Markup.RuntimeNamePropertyAttribute> con atributos) equivalente.</span><span class="sxs-lookup"><span data-stu-id="115ec-215">Specific frameworks or tools that support the framework use this service for `x:Name` handling or equivalent (<xref:System.Windows.Markup.RuntimeNamePropertyAttribute> attributed) property handling.</span></span>

### <a name="idestinationtypeprovider"></a><span data-ttu-id="115ec-216">IDestinationTypeProvider</span><span class="sxs-lookup"><span data-stu-id="115ec-216">IDestinationTypeProvider</span></span>

<span data-ttu-id="115ec-217">**Documentación de referencia**:<xref:System.Xaml.IDestinationTypeProvider></span><span class="sxs-lookup"><span data-stu-id="115ec-217">**Reference documentation**: <xref:System.Xaml.IDestinationTypeProvider></span></span>

<span data-ttu-id="115ec-218">**Definida por:**  <xref:System.Xaml> espacio de nombres, ensamblado System.Xaml</span><span class="sxs-lookup"><span data-stu-id="115ec-218">**Defined by:**  <xref:System.Xaml> namespace, System.Xaml assembly</span></span>

<span data-ttu-id="115ec-219">**Relevante para:** la resolución de la ruta de acceso de carga de la información de tipo CLR indirecta.</span><span class="sxs-lookup"><span data-stu-id="115ec-219">**Relevant to:** Load path resolution of indirect CLR type information.</span></span>

<span data-ttu-id="115ec-220">**API de servicio:** <xref:System.Xaml.IDestinationTypeProvider.GetDestinationType%2A></span><span class="sxs-lookup"><span data-stu-id="115ec-220">**Service API:** <xref:System.Xaml.IDestinationTypeProvider.GetDestinationType%2A></span></span>

<span data-ttu-id="115ec-221">Para obtener más información, vea <xref:System.Xaml.IDestinationTypeProvider>.</span><span class="sxs-lookup"><span data-stu-id="115ec-221">For more information, see <xref:System.Xaml.IDestinationTypeProvider>.</span></span>

## <a name="see-also"></a><span data-ttu-id="115ec-222">Consulte también</span><span class="sxs-lookup"><span data-stu-id="115ec-222">See also</span></span>

- <xref:System.Windows.Markup.MarkupExtension>
- <xref:System.Xaml.XamlObjectWriter>
- [<span data-ttu-id="115ec-223">Información general sobre las extensiones de marcado para el lenguaje XAML</span><span class="sxs-lookup"><span data-stu-id="115ec-223">Markup Extensions for XAML Overview</span></span>](markup-extensions-overview.md)
- [<span data-ttu-id="115ec-224">Información general sobre los convertidores de tipos para XAML</span><span class="sxs-lookup"><span data-stu-id="115ec-224">Type Converters for XAML Overview</span></span>](type-converters-overview.md)
