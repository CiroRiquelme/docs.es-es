---
title: Trabajar con calendarios
ms.date: 04/01/2019
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- globalization [.NET], calendars
- calendars, global applications
- global applications, calendars
- world-ready applications, calendars
- international applications [.NET], calendars
- culture, calendars
ms.assetid: 0c1534e5-979b-4c8a-a588-1c24301aefb3
ms.openlocfilehash: de8e5a03c769a22f3320c7785706555898bf8c1c
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/14/2020
ms.locfileid: "79401236"
---
# <a name="work-with-calendars"></a><span data-ttu-id="687d6-102">Trabajar con calendarios</span><span class="sxs-lookup"><span data-stu-id="687d6-102">Work with calendars</span></span>

<span data-ttu-id="687d6-103">Aunque un valor de fecha y hora representa un momento en el tiempo, su representación de cadena tiene en cuenta la referencia cultural y depende tanto de las convenciones empleadas para mostrar los valores de fecha y hora por una referencia cultural específica como del calendario usado por esa referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="687d6-103">Although a date and time value represents a moment in time, its string representation is culture-sensitive and depends both on the conventions used for displaying date and time values by a specific culture and on the calendar used by that culture.</span></span> <span data-ttu-id="687d6-104">En este tema se explora la compatibilidad con calendarios en .NET y se describe el uso de las clases de calendario al trabajar con valores de fecha.</span><span class="sxs-lookup"><span data-stu-id="687d6-104">This topic explores the support for calendars in .NET and discusses the use of the calendar classes when working with date values.</span></span>

## <a name="calendars-in-net"></a><span data-ttu-id="687d6-105">Calendarios en .NET</span><span class="sxs-lookup"><span data-stu-id="687d6-105">Calendars in .NET</span></span>

<span data-ttu-id="687d6-106">Todos los calendarios de <xref:System.Globalization.Calendar?displayProperty=nameWithType> .NET derivan de la clase, que proporciona la implementación del calendario base.</span><span class="sxs-lookup"><span data-stu-id="687d6-106">All calendars in .NET derive from the <xref:System.Globalization.Calendar?displayProperty=nameWithType> class, which provides the base calendar implementation.</span></span> <span data-ttu-id="687d6-107">Una de las clases que hereda de la clase <xref:System.Globalization.Calendar> es <xref:System.Globalization.EastAsianLunisolarCalendar>, que es la clase base para todos los calendarios lunisolares.</span><span class="sxs-lookup"><span data-stu-id="687d6-107">One of the classes that inherits from the <xref:System.Globalization.Calendar> class is the <xref:System.Globalization.EastAsianLunisolarCalendar> class, which is the base class for all lunisolar calendars.</span></span> <span data-ttu-id="687d6-108">.NET incluye las siguientes implementaciones de calendario:</span><span class="sxs-lookup"><span data-stu-id="687d6-108">.NET includes the following calendar implementations:</span></span>

- <span data-ttu-id="687d6-109"><xref:System.Globalization.ChineseLunisolarCalendar>, que representa el calendario lunisolar chino.</span><span class="sxs-lookup"><span data-stu-id="687d6-109"><xref:System.Globalization.ChineseLunisolarCalendar>, which represents the Chinese lunisolar calendar.</span></span>

- <span data-ttu-id="687d6-110"><xref:System.Globalization.GregorianCalendar>, que representa el calendario gregoriano.</span><span class="sxs-lookup"><span data-stu-id="687d6-110"><xref:System.Globalization.GregorianCalendar>, which represents the Gregorian calendar.</span></span> <span data-ttu-id="687d6-111">Este calendario se divide a su vez en subtipos (como el árabe y el francés de Oriente Medio) definidos por la enumeración <xref:System.Globalization.GregorianCalendarTypes?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="687d6-111">This calendar is further divided into subtypes (such as Arabic and Middle East French) that are defined by the <xref:System.Globalization.GregorianCalendarTypes?displayProperty=nameWithType> enumeration.</span></span> <span data-ttu-id="687d6-112">La propiedad <xref:System.Globalization.GregorianCalendar.CalendarType%2A?displayProperty=nameWithType> especifica el subtipo del calendario Gregoriano.</span><span class="sxs-lookup"><span data-stu-id="687d6-112">The <xref:System.Globalization.GregorianCalendar.CalendarType%2A?displayProperty=nameWithType> property specifies the subtype of the Gregorian calendar.</span></span>

- <span data-ttu-id="687d6-113"><xref:System.Globalization.HebrewCalendar>, que representa el calendario hebreo.</span><span class="sxs-lookup"><span data-stu-id="687d6-113"><xref:System.Globalization.HebrewCalendar>, which represents the Hebrew calendar.</span></span>

- <span data-ttu-id="687d6-114"><xref:System.Globalization.HijriCalendar>, que representa el calendario Hijri.</span><span class="sxs-lookup"><span data-stu-id="687d6-114"><xref:System.Globalization.HijriCalendar>, which represents the Hijri calendar.</span></span>

- <span data-ttu-id="687d6-115"><xref:System.Globalization.JapaneseCalendar>, que representa el calendario japonés.</span><span class="sxs-lookup"><span data-stu-id="687d6-115"><xref:System.Globalization.JapaneseCalendar>, which represents the Japanese calendar.</span></span>

- <span data-ttu-id="687d6-116"><xref:System.Globalization.JapaneseLunisolarCalendar>, que representa el calendario lunisolar japonés.</span><span class="sxs-lookup"><span data-stu-id="687d6-116"><xref:System.Globalization.JapaneseLunisolarCalendar>, which represents the Japanese lunisolar calendar.</span></span>

- <span data-ttu-id="687d6-117"><xref:System.Globalization.JulianCalendar>, que representa el calendario juliano.</span><span class="sxs-lookup"><span data-stu-id="687d6-117"><xref:System.Globalization.JulianCalendar>, which represents the Julian calendar.</span></span>

- <span data-ttu-id="687d6-118"><xref:System.Globalization.KoreanCalendar>, que representa el calendario coreano.</span><span class="sxs-lookup"><span data-stu-id="687d6-118"><xref:System.Globalization.KoreanCalendar>, which represents the Korean calendar.</span></span>

- <span data-ttu-id="687d6-119"><xref:System.Globalization.KoreanLunisolarCalendar>, que representa el calendario lunisolar coreano.</span><span class="sxs-lookup"><span data-stu-id="687d6-119"><xref:System.Globalization.KoreanLunisolarCalendar>, which represents the Korean lunisolar calendar.</span></span>

- <span data-ttu-id="687d6-120"><xref:System.Globalization.PersianCalendar>, que representa el calendario persa.</span><span class="sxs-lookup"><span data-stu-id="687d6-120"><xref:System.Globalization.PersianCalendar>, which represents the Persian calendar.</span></span>

- <span data-ttu-id="687d6-121"><xref:System.Globalization.TaiwanCalendar>, que representa el calendario taiwanés.</span><span class="sxs-lookup"><span data-stu-id="687d6-121"><xref:System.Globalization.TaiwanCalendar>, which represents the Taiwan calendar.</span></span>

- <span data-ttu-id="687d6-122"><xref:System.Globalization.TaiwanLunisolarCalendar>, que representa el calendario lunisolar taiwanés.</span><span class="sxs-lookup"><span data-stu-id="687d6-122"><xref:System.Globalization.TaiwanLunisolarCalendar>, which represents the Taiwan lunisolar calendar.</span></span>

- <span data-ttu-id="687d6-123"><xref:System.Globalization.ThaiBuddhistCalendar>, que representa el calendario budista tailandés.</span><span class="sxs-lookup"><span data-stu-id="687d6-123"><xref:System.Globalization.ThaiBuddhistCalendar>, which represents the Thai Buddhist calendar.</span></span>

- <span data-ttu-id="687d6-124"><xref:System.Globalization.UmAlQuraCalendar>, que representa el calendario Um-Al-Qura.</span><span class="sxs-lookup"><span data-stu-id="687d6-124"><xref:System.Globalization.UmAlQuraCalendar>, which represents the Um Al Qura calendar.</span></span>

<span data-ttu-id="687d6-125">Un calendario se puede usar de dos maneras:</span><span class="sxs-lookup"><span data-stu-id="687d6-125">A calendar can be used in one of two ways:</span></span>

- <span data-ttu-id="687d6-126">Como el calendario empleado por una referencia cultural específica.</span><span class="sxs-lookup"><span data-stu-id="687d6-126">As the calendar used by a specific culture.</span></span> <span data-ttu-id="687d6-127">Cada objeto <xref:System.Globalization.CultureInfo> tiene un calendario actual, que es el calendario que el objeto está usando actualmente.</span><span class="sxs-lookup"><span data-stu-id="687d6-127">Each <xref:System.Globalization.CultureInfo> object has a current calendar, which is the calendar that the object is currently using.</span></span> <span data-ttu-id="687d6-128">Las representaciones de cadena de todos los valores de fecha y hora reflejan automáticamente la referencia cultural actual y su calendario actual.</span><span class="sxs-lookup"><span data-stu-id="687d6-128">The string representations of all date and time values automatically reflect the current culture and its current calendar.</span></span> <span data-ttu-id="687d6-129">Normalmente, el calendario actual es el calendario predeterminado de la referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="687d6-129">Typically, the current calendar is the culture's default calendar.</span></span> <span data-ttu-id="687d6-130"><xref:System.Globalization.CultureInfo>los objetos también tienen calendarios opcionales, que incluyen calendarios adicionales que la referencia cultural puede usar.</span><span class="sxs-lookup"><span data-stu-id="687d6-130"><xref:System.Globalization.CultureInfo> objects also have optional calendars, which include additional calendars that the culture can use.</span></span>

- <span data-ttu-id="687d6-131">Como calendario independiente de una referencia cultural concreta.</span><span class="sxs-lookup"><span data-stu-id="687d6-131">As a standalone calendar independent of a specific culture.</span></span> <span data-ttu-id="687d6-132">En este caso, los métodos de <xref:System.Globalization.Calendar> se emplean para expresar las fechas como valores que reflejen el calendario.</span><span class="sxs-lookup"><span data-stu-id="687d6-132">In this case, <xref:System.Globalization.Calendar> methods are used to express dates as values that reflect the calendar.</span></span>

<span data-ttu-id="687d6-133">Tenga en cuenta que seis clases de calendario (<xref:System.Globalization.ChineseLunisolarCalendar>, <xref:System.Globalization.JapaneseLunisolarCalendar>, <xref:System.Globalization.JulianCalendar>, <xref:System.Globalization.KoreanLunisolarCalendar>, <xref:System.Globalization.PersianCalendar> y <xref:System.Globalization.TaiwanLunisolarCalendar>) solo se pueden usar como calendarios independientes.</span><span class="sxs-lookup"><span data-stu-id="687d6-133">Note that six calendar classes – <xref:System.Globalization.ChineseLunisolarCalendar>, <xref:System.Globalization.JapaneseLunisolarCalendar>, <xref:System.Globalization.JulianCalendar>, <xref:System.Globalization.KoreanLunisolarCalendar>, <xref:System.Globalization.PersianCalendar>, and <xref:System.Globalization.TaiwanLunisolarCalendar> – can be used only as standalone calendars.</span></span> <span data-ttu-id="687d6-134">Ninguna referencia cultural los usa como calendario predeterminado ni como calendario opcional.</span><span class="sxs-lookup"><span data-stu-id="687d6-134">They are not used by any culture as either the default calendar or as an optional calendar.</span></span>

## <a name="calendars-and-cultures"></a><span data-ttu-id="687d6-135">Calendarios y culturas</span><span class="sxs-lookup"><span data-stu-id="687d6-135">Calendars and cultures</span></span>

<span data-ttu-id="687d6-136">Cada referencia cultural tiene un calendario predeterminado, que está definido por la propiedad <xref:System.Globalization.CultureInfo.Calendar%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="687d6-136">Each culture has a default calendar, which is defined by the <xref:System.Globalization.CultureInfo.Calendar%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="687d6-137">La propiedad <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType> devuelve una matriz de objetos <xref:System.Globalization.Calendar> que especifica todos los calendarios admitidos por una referencia cultural determinada, incluido el calendario predeterminado de esa referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="687d6-137">The <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType> property returns an array of <xref:System.Globalization.Calendar> objects that specifies all the calendars supported by a particular culture, including that culture's default calendar.</span></span>

<span data-ttu-id="687d6-138">En el ejemplo siguiente se muestra cómo usar las propiedades <xref:System.Globalization.CultureInfo.Calendar%2A?displayProperty=nameWithType> y <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="687d6-138">The following example illustrates the <xref:System.Globalization.CultureInfo.Calendar%2A?displayProperty=nameWithType> and <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType> properties.</span></span> <span data-ttu-id="687d6-139">Crea objetos `CultureInfo` para las referencias culturales de tailandés (Tailandia) y japonés (Japón), y muestra sus calendarios predeterminados y opcionales.</span><span class="sxs-lookup"><span data-stu-id="687d6-139">It creates `CultureInfo` objects for the Thai (Thailand) and Japanese (Japan) cultures and displays their default and optional calendars.</span></span> <span data-ttu-id="687d6-140">Tenga en cuenta que, en ambos casos, el calendario predeterminado de la referencia cultural también se incluye en la colección <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="687d6-140">Note that in both cases, the culture's default calendar is also included in the <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType> collection.</span></span>

[!code-csharp[Conceptual.Calendars#1](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/calendarinfo1.cs#1)]
[!code-vb[Conceptual.Calendars#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/calendarinfo1.vb#1)]

<span data-ttu-id="687d6-141">El calendario en uso actualmente por un objeto <xref:System.Globalization.CultureInfo> determinado está definido por la propiedad <xref:System.Globalization.DateTimeFormatInfo.Calendar%2A?displayProperty=nameWithType> de la referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="687d6-141">The calendar currently in use by a particular <xref:System.Globalization.CultureInfo> object is defined by the culture's <xref:System.Globalization.DateTimeFormatInfo.Calendar%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="687d6-142">La propiedad <xref:System.Globalization.DateTimeFormatInfo> devuelve el objeto <xref:System.Globalization.CultureInfo.DateTimeFormat%2A?displayProperty=nameWithType> de la referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="687d6-142">A culture's <xref:System.Globalization.DateTimeFormatInfo> object is returned by the <xref:System.Globalization.CultureInfo.DateTimeFormat%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="687d6-143">Cuando se crea una referencia cultural, su valor predeterminado es igual que el valor de la propiedad <xref:System.Globalization.CultureInfo.Calendar%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="687d6-143">When a culture is created, its default value is the same as the value of the <xref:System.Globalization.CultureInfo.Calendar%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="687d6-144">Sin embargo, puede cambiar el calendario actual de la referencia cultural a cualquier calendario contenido en la matriz devuelta por la propiedad <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="687d6-144">However, you can change the culture's current calendar to any calendar contained in the array returned by the <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="687d6-145">Si intenta establecer el calendario actual en un calendario que no está incluido en el valor de propiedad <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType>, se produce <xref:System.ArgumentException>.</span><span class="sxs-lookup"><span data-stu-id="687d6-145">If you try to set the current calendar to a calendar that is not included in the <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType> property value, an <xref:System.ArgumentException> is thrown.</span></span>

<span data-ttu-id="687d6-146">En el ejemplo siguiente se cambia el calendario usado por la referencia cultural Árabe (Arabia Saudí).</span><span class="sxs-lookup"><span data-stu-id="687d6-146">The following example changes the calendar used by the Arabic (Saudi Arabia) culture.</span></span> <span data-ttu-id="687d6-147">Primero, se crean instancias de un valor <xref:System.DateTime> y se muestra usando la referencia cultural actual que, en este caso, es inglés (Estados Unidos), y el calendario de la referencia cultural actual (que en este caso es el calendario gregoriano).</span><span class="sxs-lookup"><span data-stu-id="687d6-147">It first instantiates a <xref:System.DateTime> value and displays it using the current culture - which, in this case, is English (United States) - and the current culture's calendar (which, in this case, is the Gregorian calendar).</span></span> <span data-ttu-id="687d6-148">A continuación, cambia la referencia cultural actual a Árabe (Arabia Saudí) y muestra la fecha usando su calendario predeterminado Um-Al-Qura.</span><span class="sxs-lookup"><span data-stu-id="687d6-148">Next, it changes the current culture to Arabic (Saudi Arabia) and displays the date using its default Um Al-Qura calendar.</span></span> <span data-ttu-id="687d6-149">Después, llama al método `CalendarExists` para determinar si la referencia cultural Árabe (Arabia Saudí) admite el calendario Hijri.</span><span class="sxs-lookup"><span data-stu-id="687d6-149">It then calls the `CalendarExists` method to determine whether the Hijri calendar is supported by the Arabic (Saudi Arabia) culture.</span></span> <span data-ttu-id="687d6-150">Puesto que se admite el calendario, cambia el calendario actual a Hijri y vuelve a mostrar la fecha.</span><span class="sxs-lookup"><span data-stu-id="687d6-150">Because the calendar is supported, it changes the current calendar to Hijri and again displays the date.</span></span> <span data-ttu-id="687d6-151">Tenga en cuenta que en cada caso la fecha se muestra usando el calendario actual de la referencia cultural actual.</span><span class="sxs-lookup"><span data-stu-id="687d6-151">Note that in each case, the date is displayed using the current culture's current calendar.</span></span>

[!code-csharp[Conceptual.Calendars#2](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/changecalendar2.cs#2)]
[!code-vb[Conceptual.Calendars#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/changecalendar2.vb#2)]

## <a name="dates-and-calendars"></a><span data-ttu-id="687d6-152">Fechas y calendarios</span><span class="sxs-lookup"><span data-stu-id="687d6-152">Dates and calendars</span></span>

<span data-ttu-id="687d6-153">Salvo los constructores que incluyen un parámetro de tipo <xref:System.Globalization.Calendar> y permiten que los elementos de una fecha (es decir, el mes, el día y el año) reflejen los valores de un calendario designado, los valores <xref:System.DateTime> y <xref:System.DateTimeOffset> siempre se basan en el calendario gregoriano.</span><span class="sxs-lookup"><span data-stu-id="687d6-153">With the exception of the constructors that include a parameter of type <xref:System.Globalization.Calendar> and allow the elements of a date (that is, the month, the day, and the year) to reflect values in a designated calendar, both <xref:System.DateTime> and <xref:System.DateTimeOffset> values are always based on the Gregorian calendar.</span></span> <span data-ttu-id="687d6-154">Esto significa, por ejemplo, que la propiedad <xref:System.DateTime.Year%2A?displayProperty=nameWithType> devuelve el año en el calendario gregoriano y la propiedad <xref:System.DateTime.Day%2A?displayProperty=nameWithType> devuelve el día del mes en el calendario gregoriano.</span><span class="sxs-lookup"><span data-stu-id="687d6-154">This means, for example, that the <xref:System.DateTime.Year%2A?displayProperty=nameWithType> property returns the year in the Gregorian calendar, and the <xref:System.DateTime.Day%2A?displayProperty=nameWithType> property returns the day of the month in the Gregorian calendar.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="687d6-155">Es importante recordar que existe una diferencia entre un valor de fecha y su representación de cadena.</span><span class="sxs-lookup"><span data-stu-id="687d6-155">It is important to remember that there is a difference between a date value and its string representation.</span></span> <span data-ttu-id="687d6-156">El primero se basa en el calendario gregoriano, mientras que la última se basa en el calendario actual de una referencia cultural concreta.</span><span class="sxs-lookup"><span data-stu-id="687d6-156">The former is based on the Gregorian calendar; the latter is based on the current calendar of a specific culture.</span></span>

<span data-ttu-id="687d6-157">En el ejemplo siguiente se muestra esta diferencia entre las propiedades de <xref:System.DateTime> y sus métodos <xref:System.Globalization.Calendar> correspondientes.</span><span class="sxs-lookup"><span data-stu-id="687d6-157">The following example illustrates this difference between <xref:System.DateTime> properties and their corresponding <xref:System.Globalization.Calendar> methods.</span></span> <span data-ttu-id="687d6-158">En el ejemplo, la referencia cultural actual es Árabe (Egipto) y el calendario actual es Um-Al-Qura.</span><span class="sxs-lookup"><span data-stu-id="687d6-158">In the example, the current culture is Arabic (Egypt), and the current calendar is Um Al Qura.</span></span> <span data-ttu-id="687d6-159">Un valor <xref:System.DateTime> se establece en el decimoquinto día del séptimo mes de 2011.</span><span class="sxs-lookup"><span data-stu-id="687d6-159">A <xref:System.DateTime> value is set to the fifteenth day of the seventh month of 2011.</span></span> <span data-ttu-id="687d6-160">Está claro que esto se interpreta como una fecha gregoriana, ya que el método <xref:System.DateTime.ToString%28System.String%2CSystem.IFormatProvider%29?displayProperty=nameWithType> devuelve estos mismos valores cuando se usan las convenciones de la referencia cultural para todos los idiomas.</span><span class="sxs-lookup"><span data-stu-id="687d6-160">It is clear that this is interpreted as a Gregorian date, because these same values are returned by the <xref:System.DateTime.ToString%28System.String%2CSystem.IFormatProvider%29?displayProperty=nameWithType> method when it uses the conventions of the invariant culture.</span></span> <span data-ttu-id="687d6-161">La representación de cadena de la fecha a la que se aplica formato con las convenciones de la referencia cultural actual es 14/08/32, que es la fecha equivalente en el calendario Um-Al-Qura.</span><span class="sxs-lookup"><span data-stu-id="687d6-161">The string representation of the date that is formatted using the conventions of the current culture is 14/08/32, which is the equivalent date in the Um Al Qura calendar.</span></span> <span data-ttu-id="687d6-162">Después, se usan miembros de `DateTime` y `Calendar` para devolver el día, el mes y el año del valor <xref:System.DateTime>.</span><span class="sxs-lookup"><span data-stu-id="687d6-162">Next, members of `DateTime` and `Calendar` are used to return the day, the month, and the year of the <xref:System.DateTime> value.</span></span> <span data-ttu-id="687d6-163">En cada caso, los valores devueltos por los miembros de <xref:System.DateTime> reflejan los valores en el calendario gregoriano, mientras que los valores devueltos por los miembros de <xref:System.Globalization.UmAlQuraCalendar> reflejan los valores en el calendario Uum-al-Qura.</span><span class="sxs-lookup"><span data-stu-id="687d6-163">In each case, the values returned by <xref:System.DateTime> members reflect values in the Gregorian calendar, whereas values returned by <xref:System.Globalization.UmAlQuraCalendar> members reflect values in the Uum al-Qura calendar.</span></span>

[!code-csharp[Conceptual.Calendars#3](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/datesandcalendars2.cs#3)]
[!code-vb[Conceptual.Calendars#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/datesandcalendars2.vb#3)]

### <a name="instantiate-dates-based-on-a-calendar"></a><span data-ttu-id="687d6-164">Crear fechas basadas en un calendario</span><span class="sxs-lookup"><span data-stu-id="687d6-164">Instantiate dates based on a calendar</span></span>

<span data-ttu-id="687d6-165">Puesto que los valores <xref:System.DateTime> y <xref:System.DateTimeOffset> se basan en el calendario gregoriano, debe llamar a un constructor sobrecargado que incluya un parámetro de tipo <xref:System.Globalization.Calendar> para crear instancias de un valor de fecha si desea usar los valores de día, mes o año de otro calendario.</span><span class="sxs-lookup"><span data-stu-id="687d6-165">Because <xref:System.DateTime> and <xref:System.DateTimeOffset> values are based on the Gregorian calendar, you must call an overloaded constructor that includes a parameter of type <xref:System.Globalization.Calendar> to instantiate a date value if you want to use the day, month, or year values from a different calendar.</span></span> <span data-ttu-id="687d6-166">También puede llamar a una de las sobrecargas del método <xref:System.Globalization.Calendar.ToDateTime%2A?displayProperty=nameWithType> de un calendario específico para crear instancias de un objeto <xref:System.DateTime> basándose en los valores de un calendario determinado.</span><span class="sxs-lookup"><span data-stu-id="687d6-166">You can also call one of the overloads of a specific calendar's <xref:System.Globalization.Calendar.ToDateTime%2A?displayProperty=nameWithType> method to instantiate a <xref:System.DateTime> object based on the values of a particular calendar.</span></span>

<span data-ttu-id="687d6-167">En el ejemplo siguiente se crean instancias de un valor <xref:System.DateTime> pasando un objeto <xref:System.Globalization.HebrewCalendar> a un constructor <xref:System.DateTime> y se crean instancias de un segundo valor <xref:System.DateTime> llamando al método <xref:System.Globalization.HebrewCalendar.ToDateTime%28System.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%29?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="687d6-167">The following example instantiates one <xref:System.DateTime> value by passing a <xref:System.Globalization.HebrewCalendar> object to a <xref:System.DateTime> constructor, and instantiates a second <xref:System.DateTime> value by calling the <xref:System.Globalization.HebrewCalendar.ToDateTime%28System.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%29?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="687d6-168">Como los dos valores se crean con valores idénticos del calendario hebreo, la llamada al método <xref:System.DateTime.Equals%2A?displayProperty=nameWithType> muestra que los dos valores <xref:System.DateTime> son iguales.</span><span class="sxs-lookup"><span data-stu-id="687d6-168">Because the two values are created with identical values from the Hebrew calendar, the call to the <xref:System.DateTime.Equals%2A?displayProperty=nameWithType> method shows that the two <xref:System.DateTime> values are equal.</span></span>

[!code-csharp[Conceptual.Calendars#4](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/instantiatehcdate1.cs#4)]
[!code-vb[Conceptual.Calendars#4](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/instantiatehcdate1.vb#4)]

### <a name="represent-dates-in-the-current-calendar"></a><span data-ttu-id="687d6-169">Representar fechas en el calendario actual</span><span class="sxs-lookup"><span data-stu-id="687d6-169">Represent dates in the current calendar</span></span>

<span data-ttu-id="687d6-170">Los métodos de formato de fecha y hora siempre usan el calendario actual al convertir fechas en cadenas.</span><span class="sxs-lookup"><span data-stu-id="687d6-170">Date and time formatting methods always use the current calendar when converting dates to strings.</span></span> <span data-ttu-id="687d6-171">Esto significa que la representación de cadena del año, el mes y el día del mes refleja el calendario actual, y no refleja necesariamente el calendario gregoriano.</span><span class="sxs-lookup"><span data-stu-id="687d6-171">This means that the string representation of the year, the month, and the day of the month reflect the current calendar, and do not necessarily reflect the Gregorian calendar.</span></span>

<span data-ttu-id="687d6-172">En el ejemplo siguiente se muestra cómo afecta el calendario actual a la representación de cadena de una fecha.</span><span class="sxs-lookup"><span data-stu-id="687d6-172">The following example shows how the current calendar affects the string representation of a date.</span></span> <span data-ttu-id="687d6-173">Cambia la referencia cultural actual a Chino (tradicional, Taiwán) y crea instancias de un valor de fecha.</span><span class="sxs-lookup"><span data-stu-id="687d6-173">It changes the current culture to Chinese (Traditional, Taiwan), and instantiates a date value.</span></span> <span data-ttu-id="687d6-174">Después muestra el calendario actual y la fecha, cambia el calendario actual a <xref:System.Globalization.TaiwanCalendar> y vuelve a mostrar la fecha y el calendario actual.</span><span class="sxs-lookup"><span data-stu-id="687d6-174">It then displays the current calendar and the date, changes the current calendar to <xref:System.Globalization.TaiwanCalendar>, and displays the current calendar and date once again.</span></span> <span data-ttu-id="687d6-175">La primera vez que se muestra la fecha, se representa como una fecha del calendario gregoriano.</span><span class="sxs-lookup"><span data-stu-id="687d6-175">The first time the date is displayed, it is represented as a date in the Gregorian calendar.</span></span> <span data-ttu-id="687d6-176">La segunda vez que se muestra, se representa como una fecha del calendario taiwanés.</span><span class="sxs-lookup"><span data-stu-id="687d6-176">The second time it is displayed, it is represented as a date in the Taiwan calendar.</span></span>

[!code-csharp[Conceptual.Calendars#5](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/currentcalendar1.cs#5)]
[!code-vb[Conceptual.Calendars#5](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/currentcalendar1.vb#5)]

### <a name="represent-dates-in-a-non-current-calendar"></a><span data-ttu-id="687d6-177">Representar fechas en un calendario no actual</span><span class="sxs-lookup"><span data-stu-id="687d6-177">Represent dates in a non-current calendar</span></span>

<span data-ttu-id="687d6-178">Para representar una fecha mediante un calendario que no es el calendario actual de una referencia cultural determinada, debe llamar a métodos de ese objeto <xref:System.Globalization.Calendar>.</span><span class="sxs-lookup"><span data-stu-id="687d6-178">To represent a date using a calendar that is not the current calendar of a particular culture, you must call methods of that <xref:System.Globalization.Calendar> object.</span></span> <span data-ttu-id="687d6-179">Por ejemplo, los métodos <xref:System.Globalization.Calendar.GetYear%2A?displayProperty=nameWithType>, <xref:System.Globalization.Calendar.GetMonth%2A?displayProperty=nameWithType> y <xref:System.Globalization.Calendar.GetDayOfMonth%2A?displayProperty=nameWithType> convierten el año, el mes y el día a los valores que reflejan un calendario determinado.</span><span class="sxs-lookup"><span data-stu-id="687d6-179">For example, the <xref:System.Globalization.Calendar.GetYear%2A?displayProperty=nameWithType>, <xref:System.Globalization.Calendar.GetMonth%2A?displayProperty=nameWithType>, and <xref:System.Globalization.Calendar.GetDayOfMonth%2A?displayProperty=nameWithType> methods convert the year, month, and day to values that reflect a particular calendar.</span></span>

> [!WARNING]
> <span data-ttu-id="687d6-180">Puesto que algunos calendarios no son calendarios opcionales de ninguna referencia cultural, para representar fechas en estos calendarios siempre es necesario llamar a métodos de calendario.</span><span class="sxs-lookup"><span data-stu-id="687d6-180">Because some calendars are not optional calendars of any culture, representing dates in these calendars always requires that you call calendar methods.</span></span> <span data-ttu-id="687d6-181">Esto es cierto para todos los calendarios que se derivan de las clases <xref:System.Globalization.EastAsianLunisolarCalendar>, <xref:System.Globalization.JulianCalendar> y <xref:System.Globalization.PersianCalendar>.</span><span class="sxs-lookup"><span data-stu-id="687d6-181">This is true of all calendars that derive from the <xref:System.Globalization.EastAsianLunisolarCalendar>, <xref:System.Globalization.JulianCalendar>, and <xref:System.Globalization.PersianCalendar> classes.</span></span>

<span data-ttu-id="687d6-182">En el ejemplo siguiente se usa un objeto <xref:System.Globalization.JulianCalendar> para crear instancias de una fecha, el 9 de enero de 1905, en el calendario juliano.</span><span class="sxs-lookup"><span data-stu-id="687d6-182">The following example uses a <xref:System.Globalization.JulianCalendar> object to instantiate a date, January 9, 1905, in the Julian calendar.</span></span> <span data-ttu-id="687d6-183">Cuando esta fecha se muestra usando el calendario predeterminado (gregoriano), se representa como el 22 de enero de 1905.</span><span class="sxs-lookup"><span data-stu-id="687d6-183">When this date is displayed using the default (Gregorian) calendar, it is represented as January 22, 1905.</span></span> <span data-ttu-id="687d6-184">Las llamadas a métodos individuales de <xref:System.Globalization.JulianCalendar> permiten representar la fecha en el calendario juliano.</span><span class="sxs-lookup"><span data-stu-id="687d6-184">Calls to individual <xref:System.Globalization.JulianCalendar> methods enable the date to be represented in the Julian calendar.</span></span>

[!code-csharp[Conceptual.Calendars#6](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/noncurrentcalendar1.cs#6)]
[!code-vb[Conceptual.Calendars#6](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/noncurrentcalendar1.vb#6)]

### <a name="calendars-and-date-ranges"></a><span data-ttu-id="687d6-185">Calendarios y rangos de fechas</span><span class="sxs-lookup"><span data-stu-id="687d6-185">Calendars and date ranges</span></span>

<span data-ttu-id="687d6-186">La fecha más temprana admitida por un calendario se indica mediante la propiedad <xref:System.Globalization.Calendar.MinSupportedDateTime%2A?displayProperty=nameWithType> de dicho calendario.</span><span class="sxs-lookup"><span data-stu-id="687d6-186">The earliest date supported by a calendar is indicated by that calendar's <xref:System.Globalization.Calendar.MinSupportedDateTime%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="687d6-187">Para la clase <xref:System.Globalization.GregorianCalendar>, esa fecha es el 1 de enero del año 1 de la era cristiana.</span><span class="sxs-lookup"><span data-stu-id="687d6-187">For the <xref:System.Globalization.GregorianCalendar> class, that date is January 1, 0001 C.E.</span></span> <span data-ttu-id="687d6-188">La mayoría de los otros calendarios de .NET admiten una fecha posterior.</span><span class="sxs-lookup"><span data-stu-id="687d6-188">Most of the other calendars in .NET support a later date.</span></span> <span data-ttu-id="687d6-189">Al intentar trabajar con un valor de fecha y hora anterior a la fecha compatible más temprana de un calendario, se produce una excepción <xref:System.ArgumentOutOfRangeException>.</span><span class="sxs-lookup"><span data-stu-id="687d6-189">Trying to work with a date and time value that precedes a calendar's earliest supported date throws an <xref:System.ArgumentOutOfRangeException> exception.</span></span>

<span data-ttu-id="687d6-190">Sin embargo, hay una excepción importante.</span><span class="sxs-lookup"><span data-stu-id="687d6-190">However, there is one important exception.</span></span> <span data-ttu-id="687d6-191">El valor (sin inicializar) predeterminado de un objeto <xref:System.DateTime> y un objeto <xref:System.DateTimeOffset> es igual al valor <xref:System.Globalization.GregorianCalendar.MinSupportedDateTime%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="687d6-191">The default (uninitialized) value of a <xref:System.DateTime> object and a <xref:System.DateTimeOffset> object is equal to the <xref:System.Globalization.GregorianCalendar.MinSupportedDateTime%2A?displayProperty=nameWithType> value.</span></span> <span data-ttu-id="687d6-192">Si intenta dar formato a esta fecha en un calendario que no admite el 1 de enero de 0001 C.E.</span><span class="sxs-lookup"><span data-stu-id="687d6-192">If you try to format this date in a calendar that does not support January 1, 0001 C.E.</span></span> <span data-ttu-id="687d6-193">y no proporciona un especificador de formato, el método de formato utiliza el especificador de formato "s" (patrón de fecha/hora sortable) en lugar del especificador de formato "G" (patrón general de fecha y hora).</span><span class="sxs-lookup"><span data-stu-id="687d6-193">and you do not provide a format specifier, the formatting method uses the "s" (sortable date/time pattern) format specifier instead of the "G" (general date/time pattern) format specifier.</span></span> <span data-ttu-id="687d6-194">Como resultado, la operación de formato no produce una excepción <xref:System.ArgumentOutOfRangeException>.</span><span class="sxs-lookup"><span data-stu-id="687d6-194">As a result, the formatting operation does not throw an <xref:System.ArgumentOutOfRangeException> exception.</span></span> <span data-ttu-id="687d6-195">En su lugar, devuelve la fecha no compatible.</span><span class="sxs-lookup"><span data-stu-id="687d6-195">Instead, it returns the unsupported date.</span></span> <span data-ttu-id="687d6-196">Esto se ilustra en el ejemplo siguiente, que muestra el valor de <xref:System.DateTime.MinValue?displayProperty=nameWithType> cuando la referencia cultural actual se establece en japonés (Japón) con el calendario japonés y en árabe (Egipto) con el calendario Um-Al-Qura.</span><span class="sxs-lookup"><span data-stu-id="687d6-196">This is illustrated in the following example, which displays the value of <xref:System.DateTime.MinValue?displayProperty=nameWithType> when the current culture is set to Japanese (Japan) with the Japanese calendar, and to Arabic (Egypt) with the Um Al Qura calendar.</span></span> <span data-ttu-id="687d6-197">También establece la referencia cultural actual en inglés (Estados Unidos) y llama al método <xref:System.DateTime.ToString%28System.IFormatProvider%29?displayProperty=nameWithType> con cada uno de estos objetos <xref:System.Globalization.CultureInfo>.</span><span class="sxs-lookup"><span data-stu-id="687d6-197">It also sets the current culture to English (United States) and calls the <xref:System.DateTime.ToString%28System.IFormatProvider%29?displayProperty=nameWithType> method with each of these <xref:System.Globalization.CultureInfo> objects.</span></span> <span data-ttu-id="687d6-198">En cada caso, la fecha se muestra mediante el patrón de fecha y hora que se puede ordenar.</span><span class="sxs-lookup"><span data-stu-id="687d6-198">In each case, the date is displayed by using the sortable date/time pattern.</span></span>

[!code-csharp[Conceptual.Calendars#11](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/minsupporteddatetime1.cs#11)]
[!code-vb[Conceptual.Calendars#11](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/minsupporteddatetime1.vb#11)]

## <a name="work-with-eras"></a><span data-ttu-id="687d6-199">Trabajar con épocas</span><span class="sxs-lookup"><span data-stu-id="687d6-199">Work with eras</span></span>

<span data-ttu-id="687d6-200">Los calendarios suelen dividir las fechas en eras.</span><span class="sxs-lookup"><span data-stu-id="687d6-200">Calendars typically divide dates into eras.</span></span> <span data-ttu-id="687d6-201">Sin <xref:System.Globalization.Calendar> embargo, las clases de .NET no admiten <xref:System.Globalization.Calendar> todas las eras definidas por un calendario y la mayoría de las clases solo admiten una sola era.</span><span class="sxs-lookup"><span data-stu-id="687d6-201">However, the <xref:System.Globalization.Calendar> classes in .NET do not support every era defined by a calendar, and most of the <xref:System.Globalization.Calendar> classes support only a single era.</span></span> <span data-ttu-id="687d6-202">Únicamente las clases <xref:System.Globalization.JapaneseCalendar> y <xref:System.Globalization.JapaneseLunisolarCalendar> admiten varias eras.</span><span class="sxs-lookup"><span data-stu-id="687d6-202">Only the <xref:System.Globalization.JapaneseCalendar> and <xref:System.Globalization.JapaneseLunisolarCalendar> classes support multiple eras.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="687d6-203">La era Reiwa, una <xref:System.Globalization.JapaneseCalendar> nueva <xref:System.Globalization.JapaneseLunisolarCalendar>era en el y , comienza el 1 de mayo de 2019.</span><span class="sxs-lookup"><span data-stu-id="687d6-203">The Reiwa era, a new era in the <xref:System.Globalization.JapaneseCalendar> and <xref:System.Globalization.JapaneseLunisolarCalendar>, begins on May 1, 2019.</span></span> <span data-ttu-id="687d6-204">Este cambio afecta a todas las aplicaciones que usan estos calendarios.</span><span class="sxs-lookup"><span data-stu-id="687d6-204">This change affects all applications that use these calendars.</span></span> <span data-ttu-id="687d6-205">Para obtener más información, consulte los siguientes artículos:</span><span class="sxs-lookup"><span data-stu-id="687d6-205">See the following articles for more information:</span></span>
>
> - <span data-ttu-id="687d6-206">[Controlar una nueva era en el calendario japonés en .NET](https://devblogs.microsoft.com/dotnet/handling-a-new-era-in-the-japanese-calendar-in-net/), que documenta las características agregadas a .NET para admitir calendarios con varias eras y describe las prácticas recomendadas que se deben usar al controlar calendarios de varias eras.</span><span class="sxs-lookup"><span data-stu-id="687d6-206">[Handling a new era in the Japanese calendar in .NET](https://devblogs.microsoft.com/dotnet/handling-a-new-era-in-the-japanese-calendar-in-net/), which documents features added to .NET to support calendars with multiple eras and discusses best practices to use when handling multi-era calendars.</span></span>
> - <span data-ttu-id="687d6-207">[Prepare la aplicación para el cambio](/windows/uwp/design/globalizing/japanese-era-change)de la era japonesa, que proporciona información sobre cómo probar las aplicaciones en Windows para garantizar su preparación para el cambio de era.</span><span class="sxs-lookup"><span data-stu-id="687d6-207">[Prepare your application for the Japanese era change](/windows/uwp/design/globalizing/japanese-era-change), which provides information on testing your applications on Windows to ensure their readiness for the era change.</span></span>
> - <span data-ttu-id="687d6-208">[Resumen de las nuevas actualizaciones](https://support.microsoft.com/help/4477957/new-japanese-era-updates-for-net-framework)de la era japonesa para .NET Framework , que enumera las actualizaciones de .NET Framework para versiones individuales de Windows relacionadas con la nueva era del calendario japonés, toma nota de las nuevas características de .NET Framework para la compatibilidad con varias eras e incluye aspectos que debe buscar para probar las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="687d6-208">[Summary of new Japanese Era updates for .NET Framework](https://support.microsoft.com/help/4477957/new-japanese-era-updates-for-net-framework), which lists .NET Framework updates for individual Windows versions that are related to the new Japanese calendar era, notes new .NET Framework features for multi-era support, and includes things to look for in testing your applications.</span></span>

<span data-ttu-id="687d6-209">Una era en la mayoría de los calendarios denota un período de tiempo extremadamente largo.</span><span class="sxs-lookup"><span data-stu-id="687d6-209">An era in most calendars denotes an extremely long time period.</span></span> <span data-ttu-id="687d6-210">En el calendario gregoriano, por ejemplo, la era actual abarca más de dos milenios.</span><span class="sxs-lookup"><span data-stu-id="687d6-210">In the Gregorian calendar, for example, the current era spans more than two millennia.</span></span> <span data-ttu-id="687d6-211">Para <xref:System.Globalization.JapaneseCalendar> el <xref:System.Globalization.JapaneseLunisolarCalendar>y el , los dos calendarios que admiten varias eras, este no es el caso.</span><span class="sxs-lookup"><span data-stu-id="687d6-211">For the <xref:System.Globalization.JapaneseCalendar> and the <xref:System.Globalization.JapaneseLunisolarCalendar>, the two calendars that support multiple eras, this is not the case.</span></span> <span data-ttu-id="687d6-212">Una era corresponde al período del reinado de un emperador.</span><span class="sxs-lookup"><span data-stu-id="687d6-212">An era corresponds to the period of an emperor's reign.</span></span> <span data-ttu-id="687d6-213">El soporte para múltiples eras, especialmente cuando el límite superior de la era actual es desconocido, plantea desafíos especiales.</span><span class="sxs-lookup"><span data-stu-id="687d6-213">Support for multiple eras, particularly when the upper limit of the current era is unknown, poses special challenges.</span></span>

### <a name="eras-and-era-names"></a><span data-ttu-id="687d6-214">Eras y nombres de era</span><span class="sxs-lookup"><span data-stu-id="687d6-214">Eras and era names</span></span>

<span data-ttu-id="687d6-215">En .NET, los enteros que representan las eras admitidas por <xref:System.Globalization.Calendar.Eras%2A?displayProperty=nameWithType> una implementación de calendario determinada se almacenan en orden inverso en la matriz.</span><span class="sxs-lookup"><span data-stu-id="687d6-215">In .NET, integers that represent the eras supported by a particular calendar implementation are stored in reverse order in the <xref:System.Globalization.Calendar.Eras%2A?displayProperty=nameWithType> array.</span></span> <span data-ttu-id="687d6-216">La era actual (que es la era con el último <xref:System.Globalization.Calendar> intervalo de tiempo) está en el índice cero, y para las clases que admiten varias eras, cada índice sucesivo refleja la era anterior.</span><span class="sxs-lookup"><span data-stu-id="687d6-216">The current era (which is the era with the latest time range) is at index zero, and for <xref:System.Globalization.Calendar> classes that support multiple eras, each successive index reflects the previous era.</span></span> <span data-ttu-id="687d6-217">La propiedad estática <xref:System.Globalization.Calendar.CurrentEra?displayProperty=nameWithType> define el índice de la era actual en la matriz de <xref:System.Globalization.Calendar.Eras%2A?displayProperty=nameWithType>; es una constante cuyo valor es siempre cero.</span><span class="sxs-lookup"><span data-stu-id="687d6-217">The static <xref:System.Globalization.Calendar.CurrentEra?displayProperty=nameWithType> property defines the index of the current era in the <xref:System.Globalization.Calendar.Eras%2A?displayProperty=nameWithType> array; it is a constant whose value is always zero.</span></span> <span data-ttu-id="687d6-218">Las clases individuales de <xref:System.Globalization.Calendar> también incluyen campos estáticos que devuelven el valor de la era actual.</span><span class="sxs-lookup"><span data-stu-id="687d6-218">Individual <xref:System.Globalization.Calendar> classes also include static fields that return the value of the current era.</span></span> <span data-ttu-id="687d6-219">Se muestran en la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="687d6-219">They are listed in the following table.</span></span>

| <span data-ttu-id="687d6-220">Clase de calendario</span><span class="sxs-lookup"><span data-stu-id="687d6-220">Calendar class</span></span>                                        | <span data-ttu-id="687d6-221">Campo de era actual</span><span class="sxs-lookup"><span data-stu-id="687d6-221">Current era field</span></span>                                                 |
| ----------------------------------------------------- | ----------------------------------------------------------------- |
| <xref:System.Globalization.ChineseLunisolarCalendar>  | <xref:System.Globalization.ChineseLunisolarCalendar.ChineseEra>   |
| <xref:System.Globalization.GregorianCalendar>         | <xref:System.Globalization.GregorianCalendar.ADEra>               |
| <xref:System.Globalization.HebrewCalendar>            | <xref:System.Globalization.HebrewCalendar.HebrewEra>              |
| <xref:System.Globalization.HijriCalendar>             | <xref:System.Globalization.HijriCalendar.HijriEra>                |
| <xref:System.Globalization.JapaneseLunisolarCalendar> | <xref:System.Globalization.JapaneseLunisolarCalendar.JapaneseEra> |
| <xref:System.Globalization.JulianCalendar>            | <xref:System.Globalization.JulianCalendar.JulianEra>              |
| <xref:System.Globalization.KoreanCalendar>            | <xref:System.Globalization.KoreanCalendar.KoreanEra>              |
| <xref:System.Globalization.KoreanLunisolarCalendar>   | <xref:System.Globalization.KoreanLunisolarCalendar.GregorianEra>  |
| <xref:System.Globalization.PersianCalendar>           | <xref:System.Globalization.PersianCalendar.PersianEra>            |
| <xref:System.Globalization.ThaiBuddhistCalendar>      | <xref:System.Globalization.ThaiBuddhistCalendar.ThaiBuddhistEra>  |
| <xref:System.Globalization.UmAlQuraCalendar>          | <xref:System.Globalization.UmAlQuraCalendar.UmAlQuraEra>          |

<span data-ttu-id="687d6-222">El nombre correspondiente a un número de era determinado se puede recuperar pasando el número de era al método <xref:System.Globalization.DateTimeFormatInfo.GetEraName%2A?displayProperty=nameWithType> o <xref:System.Globalization.DateTimeFormatInfo.GetAbbreviatedEraName%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="687d6-222">The name that corresponds to a particular era number can be retrieved by passing the era number to the <xref:System.Globalization.DateTimeFormatInfo.GetEraName%2A?displayProperty=nameWithType> or <xref:System.Globalization.DateTimeFormatInfo.GetAbbreviatedEraName%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="687d6-223">En el ejemplo siguiente se llama a estos métodos para recuperar información sobre la compatibilidad de eras de la clase <xref:System.Globalization.GregorianCalendar>.</span><span class="sxs-lookup"><span data-stu-id="687d6-223">The following example calls these methods to retrieve information about era support in the <xref:System.Globalization.GregorianCalendar> class.</span></span> <span data-ttu-id="687d6-224">Muestra la fecha del calendario gregoriano que corresponde al 1 de enero del segundo año de la era actual, así como la fecha del calendario gregoriano que corresponde al 1 de enero del segundo año de cada era de calendario japonesa compatible.</span><span class="sxs-lookup"><span data-stu-id="687d6-224">It displays the Gregorian calendar date that corresponds to January 1 of the second year of the current era, as well as the Gregorian calendar date that corresponds to January 1 of the second year of each supported Japanese calendar era.</span></span>

[!code-csharp[Conceptual.Calendars#7](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/instantiatewithera1.cs)]
[!code-vb[Conceptual.Calendars#7](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/instantiatewithera1.vb)]

<span data-ttu-id="687d6-225">Además, la cadena de formato de fecha y hora personalizado "g" incluye el nombre de era de un calendario en la representación de cadena de una fecha y hora.</span><span class="sxs-lookup"><span data-stu-id="687d6-225">In addition, the "g" custom date and time format string includes a calendar's era name in the string representation of a date and time.</span></span> <span data-ttu-id="687d6-226">Para obtener más información, consulte Cadenas de formato de [fecha y hora personalizadas.](../../../docs/standard/base-types/custom-date-and-time-format-strings.md)</span><span class="sxs-lookup"><span data-stu-id="687d6-226">For more information, see [Custom date and time format strings](../../../docs/standard/base-types/custom-date-and-time-format-strings.md).</span></span>

### <a name="instantiatie-a-date-with-an-era"></a><span data-ttu-id="687d6-227">Instantiatie una cita con una era</span><span class="sxs-lookup"><span data-stu-id="687d6-227">Instantiatie a date with an era</span></span>

<span data-ttu-id="687d6-228">Para las <xref:System.Globalization.Calendar> dos clases que admiten varias eras, una fecha que consta de un valor determinado de año, mes y día del mes puede ser ambigua.</span><span class="sxs-lookup"><span data-stu-id="687d6-228">For the two <xref:System.Globalization.Calendar> classes that support multiple eras, a date that consists of a particular year, month, and day of the month value can be ambiguous.</span></span> <span data-ttu-id="687d6-229">Por ejemplo, todas las <xref:System.Globalization.JapaneseCalendar> eras soportadas por los años tienen cuyo número es 1.</span><span class="sxs-lookup"><span data-stu-id="687d6-229">For example, all eras supported by the <xref:System.Globalization.JapaneseCalendar> have years whose number is 1.</span></span> <span data-ttu-id="687d6-230">Normalmente, si no se especifica ninguna era, los métodos de fecha y hora y de calendario suponen que los valores pertenecen a la era actual.</span><span class="sxs-lookup"><span data-stu-id="687d6-230">Ordinarily, if an era is not specified, both date and time and calendar methods assume that values belong to the current era.</span></span> <span data-ttu-id="687d6-231">Esto es cierto <xref:System.DateTime.%23ctor%2A> <xref:System.DateTimeOffset.%23ctor%2A> para los constructores <xref:System.Globalization.Calendar>y que incluyen parámetros de tipo , así como el [JapaneseCalendar.ToDateTime](xref:System.Globalization.Calendar.ToDateTime(System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32)) y [JapaneseLunisolarCalendar.ToDateTime](xref:System.Globalization.Calendar.ToDateTime(System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32)) métodos.</span><span class="sxs-lookup"><span data-stu-id="687d6-231">This is true of the <xref:System.DateTime.%23ctor%2A> and <xref:System.DateTimeOffset.%23ctor%2A> constructors that include parameters of type <xref:System.Globalization.Calendar>, as well as the [JapaneseCalendar.ToDateTime](xref:System.Globalization.Calendar.ToDateTime(System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32)) and [JapaneseLunisolarCalendar.ToDateTime](xref:System.Globalization.Calendar.ToDateTime(System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32)) methods.</span></span> <span data-ttu-id="687d6-232">En el ejemplo siguiente se crea una instancia de una fecha que representa el 1 de enero del segundo año de una era no especificada.</span><span class="sxs-lookup"><span data-stu-id="687d6-232">The following example instantiates a date that represents January 1 of the second year of an unspecified era.</span></span> <span data-ttu-id="687d6-233">Si ejecuta el ejemplo cuando la era Reiwa es la era actual, la fecha se interpreta como el segundo año de la era Reiwa.</span><span class="sxs-lookup"><span data-stu-id="687d6-233">If you execute the example when the Reiwa era is the current era, the date is interpreted as the second year of the Reiwa era.</span></span> <span data-ttu-id="687d6-234">La era, el valor de la era, <xref:System.DateTime.ToString(System.String,System.IFormatProvider)?displayProperty=nameWithType> precede al año en la cadena devuelta por el método y corresponde al 1 de enero de 2020, en el calendario gregoriano.</span><span class="sxs-lookup"><span data-stu-id="687d6-234">The era, 令和, precedes the year in the string returned by the <xref:System.DateTime.ToString(System.String,System.IFormatProvider)?displayProperty=nameWithType> method and corresponds to January 1, 2020, in the Gregorian calendar.</span></span> <span data-ttu-id="687d6-235">(La era Reiwa comienza en el año 2019 del calendario gregoriano.)</span><span class="sxs-lookup"><span data-stu-id="687d6-235">(The Reiwa era begins in the year 2019 of the Gregorian calendar.)</span></span>

[!code-csharp[A date in the current era](~/samples/snippets/standard/datetime/calendars/current-era/cs/program.cs)]
[!code-vb[A date in the current era](~/samples/snippets/standard/datetime/calendars/current-era/vb/program.vb)]

<span data-ttu-id="687d6-236">Sin embargo, si la era cambia, la intención de este código se vuelve ambigua.</span><span class="sxs-lookup"><span data-stu-id="687d6-236">However, if the era changes, the intent of this code becomes ambiguous.</span></span> <span data-ttu-id="687d6-237">¿Está destinada la fecha a representar el segundo año de la era actual, o está destinada a representar el segundo año de la era Heisei?</span><span class="sxs-lookup"><span data-stu-id="687d6-237">Is the date intended to represent the second year of the current era, or is it intended to represent the second year of the Heisei era?</span></span> <span data-ttu-id="687d6-238">Hay dos maneras de evitar esta ambiguedad:</span><span class="sxs-lookup"><span data-stu-id="687d6-238">There are two ways to avoid this ambiguity:</span></span>

- <span data-ttu-id="687d6-239">Cree una instancia del valor <xref:System.Globalization.GregorianCalendar> de fecha y hora mediante la clase predeterminada.</span><span class="sxs-lookup"><span data-stu-id="687d6-239">Instantiate the date and time value using the default <xref:System.Globalization.GregorianCalendar> class.</span></span> <span data-ttu-id="687d6-240">A continuación, puede utilizar el calendario japonés o el calendario Lunisolar japonés para la representación de cadena de fechas, como se muestra en el ejemplo siguiente.</span><span class="sxs-lookup"><span data-stu-id="687d6-240">You can then use the Japanese calendar or the Japanese Lunisolar calendar for the string representation of dates, as the following example shows.</span></span>

  [!code-csharp[Insantiating a Gregorian date](~/samples/snippets/standard/datetime/calendars/gregorian/cs/program.cs)]
  [!code-vb[Instantiating a Gregorian date](~/samples/snippets/standard/datetime/calendars/gregorian/vb/program.vb)]

- <span data-ttu-id="687d6-241">Llame a un método de fecha y hora que especifique explícitamente una era.</span><span class="sxs-lookup"><span data-stu-id="687d6-241">Call a date and time method that explicitly specifies an era.</span></span> <span data-ttu-id="687d6-242">Esto incluye los siguientes métodos:</span><span class="sxs-lookup"><span data-stu-id="687d6-242">This includes the following methods:</span></span>

  - <span data-ttu-id="687d6-243">El <xref:System.Globalization.Calendar.ToDateTime(System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32)> método <xref:System.Globalization.JapaneseCalendar> de <xref:System.Globalization.JapaneseLunisolarCalendar> la clase o.</span><span class="sxs-lookup"><span data-stu-id="687d6-243">The <xref:System.Globalization.Calendar.ToDateTime(System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32)> method of the <xref:System.Globalization.JapaneseCalendar> or <xref:System.Globalization.JapaneseLunisolarCalendar> class.</span></span>

  - <span data-ttu-id="687d6-244">Un <xref:System.DateTime> <xref:System.DateTimeOffset> método o método de <xref:System.DateTime.Parse%2A> <xref:System.DateTime.TryParse%2A>análisis, como , <xref:System.DateTime.ParseExact%2A>, , <xref:System.DateTime.TryParseExact%2A>o , <xref:System.Globalization.DateTimeStyles> que incluye la cadena que se va a analizar y, opcionalmente, un argumento si la referencia cultural actual es japonés-japonés ("ja-JP") y el calendario de esa referencia cultural es el <xref:System.Globalization.JapaneseCalendar>archivo .</span><span class="sxs-lookup"><span data-stu-id="687d6-244">A <xref:System.DateTime> or <xref:System.DateTimeOffset> parsing method, such as <xref:System.DateTime.Parse%2A>, <xref:System.DateTime.TryParse%2A>, <xref:System.DateTime.ParseExact%2A>, or <xref:System.DateTime.TryParseExact%2A>, that includes the string to be parsed and optionally a <xref:System.Globalization.DateTimeStyles> argument if the current culture is Japanese-Japan ("ja-JP") and that culture's calendar is the <xref:System.Globalization.JapaneseCalendar>.</span></span> <span data-ttu-id="687d6-245">La cadena que se va a analizar debe incluir la era.</span><span class="sxs-lookup"><span data-stu-id="687d6-245">The string to be parsed must include the era.</span></span>

  - <span data-ttu-id="687d6-246">Un <xref:System.DateTime> <xref:System.DateTimeOffset> método de análisis `provider` que incluye <xref:System.IFormatProvider>un parámetro de tipo .</span><span class="sxs-lookup"><span data-stu-id="687d6-246">A <xref:System.DateTime> or <xref:System.DateTimeOffset> parsing method that includes a `provider` parameter of type <xref:System.IFormatProvider>.</span></span> <span data-ttu-id="687d6-247">`provider`debe ser <xref:System.Globalization.CultureInfo> un objeto que represente la referencia cultural japonés-japonés ("ja-JP") cuyo calendario actual <xref:System.Globalization.JapaneseCalendar> sea o <xref:System.Globalization.DateTimeFormatInfo> un objeto cuya <xref:System.Globalization.DateTimeFormatInfo.Calendar> propiedad sea <xref:System.Globalization.JapaneseCalendar>.</span><span class="sxs-lookup"><span data-stu-id="687d6-247">`provider` must be either a <xref:System.Globalization.CultureInfo> object that represents the Japanese-Japan ("ja-JP") culture whose current calendar is <xref:System.Globalization.JapaneseCalendar> or a <xref:System.Globalization.DateTimeFormatInfo> object whose <xref:System.Globalization.DateTimeFormatInfo.Calendar> property is <xref:System.Globalization.JapaneseCalendar>.</span></span> <span data-ttu-id="687d6-248">La cadena que se va a analizar debe incluir la era.</span><span class="sxs-lookup"><span data-stu-id="687d6-248">The string to be parsed must include the era.</span></span>

  <span data-ttu-id="687d6-249">En el ejemplo siguiente se utilizan tres de estos métodos para crear instancias de una fecha y hora en la era Meiji, que comenzó el 8 de septiembre de 1868 y terminó el 29 de julio de 1912.</span><span class="sxs-lookup"><span data-stu-id="687d6-249">The following example uses three of these methods to instantiate a date and time in the Meiji era, which began on September 8, 1868, and ended on July 29, 1912.</span></span>

  [!code-csharp[A date in a specified era](~/samples/snippets/standard/datetime/calendars/specify-era/cs/program.cs)]
  [!code-vb[A date in a specified era](~/samples/snippets/standard/datetime/calendars/specify-era/vb/program.vb)]

> [!TIP]
> <span data-ttu-id="687d6-250">Cuando trabaje con calendarios que admitan varias eras, utilice *siempre* la fecha gregoriana para crear una instancia de una fecha o especifique la era cuando cree una instancia de una fecha y hora basadas en ese calendario.</span><span class="sxs-lookup"><span data-stu-id="687d6-250">When working with calendars that support multiple eras, *always* use the Gregorian date to instantiate a date, or specify the era when you instantiate a date and time based on that calendar.</span></span>

<span data-ttu-id="687d6-251">Al especificar una era <xref:System.Globalization.Calendar.ToDateTime(System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32)> para el método, se proporciona el <xref:System.Globalization.Calendar.Eras> índice de la era en la propiedad del calendario.</span><span class="sxs-lookup"><span data-stu-id="687d6-251">In specifying an era to the <xref:System.Globalization.Calendar.ToDateTime(System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32)> method, you provide the index of the era in the calendar's <xref:System.Globalization.Calendar.Eras> property.</span></span> <span data-ttu-id="687d6-252">Para los calendarios cuyas eras están sujetas a cambios, sin embargo, estos índices no son valores constantes; la era actual está en el índice 0, y la era más antigua está en el índice. `Eras.Length - 1`</span><span class="sxs-lookup"><span data-stu-id="687d6-252">For calendars whose eras are subject to change, however, these indexes are not constant values; the current era is at index 0, and the oldest era is at index `Eras.Length - 1`.</span></span> <span data-ttu-id="687d6-253">Cuando se agrega una nueva era a un calendario, los índices de las eras anteriores aumentan en uno.</span><span class="sxs-lookup"><span data-stu-id="687d6-253">When a new era is added to a calendar, the indexes of the previous eras increase by one.</span></span> <span data-ttu-id="687d6-254">Puede proporcionar el índice de era adecuado de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="687d6-254">You can supply the appropriate era index as follows:</span></span>

- <span data-ttu-id="687d6-255">Para las fechas de la era <xref:System.Globalization.Calendar.CurrentEra> actual, utilice siempre la propiedad del calendario.</span><span class="sxs-lookup"><span data-stu-id="687d6-255">For dates in the current era, always use the calendar's <xref:System.Globalization.Calendar.CurrentEra> property.</span></span>

- <span data-ttu-id="687d6-256">Para las fechas de una <xref:System.Globalization.DateTimeFormatInfo.GetEraName%2A?displayProperty=nameWithType> era especificada, utilice el método para recuperar el índice que corresponde a un nombre de era especificado.</span><span class="sxs-lookup"><span data-stu-id="687d6-256">For dates in a specified era, use the <xref:System.Globalization.DateTimeFormatInfo.GetEraName%2A?displayProperty=nameWithType> method to retrieve the index that corresponds to a specified era name.</span></span> <span data-ttu-id="687d6-257">Esto requiere que <xref:System.Globalization.JapaneseCalendar> sea el calendario <xref:System.Globalization.CultureInfo> actual del objeto que representa la referencia cultural ja-JP.</span><span class="sxs-lookup"><span data-stu-id="687d6-257">This requires that the <xref:System.Globalization.JapaneseCalendar> be the current calendar of the <xref:System.Globalization.CultureInfo> object that represents the ja-JP culture.</span></span>  <span data-ttu-id="687d6-258">(Esta técnica también <xref:System.Globalization.JapaneseLunisolarCalendar> funciona para el, ya que <xref:System.Globalization.JapaneseCalendar>soporta las mismas eras que el .) El ejemplo anterior ilustra este enfoque.</span><span class="sxs-lookup"><span data-stu-id="687d6-258">(This technique works for the <xref:System.Globalization.JapaneseLunisolarCalendar> as well, since it supports the same eras as the <xref:System.Globalization.JapaneseCalendar>.) The previous example illustrates this approach.</span></span>

### <a name="calendars-eras-and-date-ranges-relaxed-range-checks"></a><span data-ttu-id="687d6-259">Calendarios, borrar y intervalos de fechas: comprobaciones de rango relajado</span><span class="sxs-lookup"><span data-stu-id="687d6-259">Calendars, eras, and date ranges: Relaxed range checks</span></span>

<span data-ttu-id="687d6-260">Al igual que los calendarios individuales han <xref:System.Globalization.JapaneseCalendar> admitido <xref:System.Globalization.JapaneseLunisolarCalendar> intervalos de fechas, las eras en las clases y también tienen rangos admitidos.</span><span class="sxs-lookup"><span data-stu-id="687d6-260">Very much like individual calendars have supported date ranges, eras in the <xref:System.Globalization.JapaneseCalendar> and <xref:System.Globalization.JapaneseLunisolarCalendar> classes also have supported ranges.</span></span> <span data-ttu-id="687d6-261">Anteriormente, .NET usaba comprobaciones de intervalo de era estrictas para asegurarse de que una fecha específica de la era estaba dentro del intervalo de esa era.</span><span class="sxs-lookup"><span data-stu-id="687d6-261">Previously, .NET used strict era range checks to ensure that an era-specific date was within the range of that era.</span></span> <span data-ttu-id="687d6-262">Es decir, si una fecha está fuera del intervalo de la <xref:System.ArgumentOutOfRangeException>era especificada, el método produce un archivo .</span><span class="sxs-lookup"><span data-stu-id="687d6-262">That is, if a date is outside of the range of the specified era, the method throws an <xref:System.ArgumentOutOfRangeException>.</span></span> <span data-ttu-id="687d6-263">Actualmente, .NET usa la comprobación de intervalos relajada de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="687d6-263">Currently, .NET uses relaxed ranged checking by default.</span></span> <span data-ttu-id="687d6-264">Las actualizaciones de todas las versiones de .NET introdujeron comprobaciones de rango de era relajada; el intento de crear instancias de una fecha específica de la era que está fuera del intervalo de la era especificada "se desborda" en la siguiente era y no se produce ninguna excepción.</span><span class="sxs-lookup"><span data-stu-id="687d6-264">Updates to all versions of .NET introduced relaxed era range checks; the attempt to instantiate an era-specific date that is outside the range of the specified era "overflows" into the following era, and no exception is thrown.</span></span>

<span data-ttu-id="687d6-265">El siguiente ejemplo intenta crear una instancia de una fecha en el año 65 de la era Showa, que comenzó el 25 de diciembre de 1926 y terminó el 7 de enero de 1989.</span><span class="sxs-lookup"><span data-stu-id="687d6-265">The following example attempts to instantiate a date in the 65th year of the Showa era, which began on December 25, 1926 and ended on January 7, 1989.</span></span> <span data-ttu-id="687d6-266">Esta fecha corresponde al 9 de enero de 1990, que está <xref:System.Globalization.JapaneseCalendar>fuera del rango de la era Showa en el .</span><span class="sxs-lookup"><span data-stu-id="687d6-266">This date corresponds to January 9, 1990, which is outside the range of the Showa era in the <xref:System.Globalization.JapaneseCalendar>.</span></span> <span data-ttu-id="687d6-267">Como se ilustra en la salida del ejemplo, la fecha que muestra el ejemplo es el 9 de enero de 1990, en el segundo año de la era Heisei.</span><span class="sxs-lookup"><span data-stu-id="687d6-267">As the output from the example illustrates, the date displayed by the example is January 9, 1990, in the second year of the Heisei era.</span></span>

  [!code-csharp[Relaxed range checks](~/samples/snippets/standard/datetime/calendars/relaxed-range/cs/program.cs)]
  [!code-vb[Relaxed range checks](~/samples/snippets/standard/datetime/calendars/relaxed-range/vb/program.vb)]

<span data-ttu-id="687d6-268">Si las comprobaciones de rango relajado no son deseables, puede restaurar comprobaciones de rango estrictas de varias maneras, dependiendo de la versión de .NET en la que se ejecuta la aplicación:</span><span class="sxs-lookup"><span data-stu-id="687d6-268">If relaxed range checks are undesirable, you can restore strict range checks in a number of ways, depending on the version of .NET on which your application is running:</span></span>

- <span data-ttu-id="687d6-269">**.NET Core:** Agregue lo siguiente al archivo de configuración *.netcore.runtime.json:*</span><span class="sxs-lookup"><span data-stu-id="687d6-269">**.NET Core:** Add the following to the *.netcore.runtime.json* config file:</span></span>

  ```json
  "runtimeOptions": {
    "configProperties": {
        "Switch.System.Globalization.EnforceJapaneseEraYearRanges": true
    }
  }
  ```

- <span data-ttu-id="687d6-270">**.NET Framework 4.6 o posterior:** Establezca el siguiente modificador AppContext en el archivo *app.config:*</span><span class="sxs-lookup"><span data-stu-id="687d6-270">**.NET Framework 4.6 or later:** Set the following AppContext switch in the *app.config* file:</span></span>

  ```xml
  <?xml version="1.0" encoding="utf-8"?>
  <configuration>
    <runtime>
      <AppContextSwitchOverrides value="Switch.System.Globalization.EnforceJapaneseEraYearRanges=true" />
    </runtime>
  </configuration>
  ```

- <span data-ttu-id="687d6-271">**.NET Framework 4.5.2 o anterior:** Establezca el siguiente valor del Registro:</span><span class="sxs-lookup"><span data-stu-id="687d6-271">**.NET Framework 4.5.2 or earlier:** Set the following registry value:</span></span>

   |  |  |
   |--|--|
   | <span data-ttu-id="687d6-272">**Clave**</span><span class="sxs-lookup"><span data-stu-id="687d6-272">**Key**</span></span> | <span data-ttu-id="687d6-273">**HKEY_LOCAL_MACHINE,Software,\\Microsoft . NETFramework-AppContext**</span><span class="sxs-lookup"><span data-stu-id="687d6-273">**HKEY_LOCAL_MACHINE\Software\Microsoft\\.NETFramework\AppContext**</span></span> |
   | <span data-ttu-id="687d6-274">**Nombre**</span><span class="sxs-lookup"><span data-stu-id="687d6-274">**Name**</span></span> | <span data-ttu-id="687d6-275">Switch.System.Globalization.EnforceJapaneseEraYearRanges</span><span class="sxs-lookup"><span data-stu-id="687d6-275">Switch.System.Globalization.EnforceJapaneseEraYearRanges</span></span> |
   | <span data-ttu-id="687d6-276">**Tipo**</span><span class="sxs-lookup"><span data-stu-id="687d6-276">**Type**</span></span> | <span data-ttu-id="687d6-277">REG_SZ</span><span class="sxs-lookup"><span data-stu-id="687d6-277">REG_SZ</span></span> |
   | <span data-ttu-id="687d6-278">**Valor**</span><span class="sxs-lookup"><span data-stu-id="687d6-278">**Value**</span></span> | <span data-ttu-id="687d6-279">true</span><span class="sxs-lookup"><span data-stu-id="687d6-279">true</span></span> |

<span data-ttu-id="687d6-280">Con las comprobaciones de rango estrictas <xref:System.ArgumentOutOfRangeException> habilitadas, el ejemplo anterior produce un y muestra el siguiente resultado:</span><span class="sxs-lookup"><span data-stu-id="687d6-280">With strict range checks enabled, the previous example throws an <xref:System.ArgumentOutOfRangeException> and displays the following output:</span></span>

```console
Unhandled Exception: System.ArgumentOutOfRangeException: Valid values are between 1 and 64, inclusive.
Parameter name: year
   at System.Globalization.GregorianCalendarHelper.GetYearOffset(Int32 year, Int32 era, Boolean throwOnError)
   at System.Globalization.GregorianCalendarHelper.ToDateTime(Int32 year, Int32 month, Int32 day, Int32 hour, Int32 minute, Int32 second, Int32 millisecond, Int32 era)
   at Example.Main()
```

### <a name="represent-dates-in-calendars-with-multiple-eras"></a><span data-ttu-id="687d6-281">Representar fechas en calendarios con múltiples épocas</span><span class="sxs-lookup"><span data-stu-id="687d6-281">Represent dates in calendars with multiple eras</span></span>

<span data-ttu-id="687d6-282">Si un objeto <xref:System.Globalization.Calendar> admite eras y es el calendario actual de un objeto <xref:System.Globalization.CultureInfo>, la era se incluye en la representación de cadena de un valor de fecha y hora para los modelos de fecha y hora completa, fecha larga y fecha corta.</span><span class="sxs-lookup"><span data-stu-id="687d6-282">If a <xref:System.Globalization.Calendar> object supports eras and is the current calendar of a <xref:System.Globalization.CultureInfo> object, the era is included in the string representation of a date and time value for the full date and time, long date, and short date patterns.</span></span> <span data-ttu-id="687d6-283">En el ejemplo siguiente se muestran estos modelos de fecha cuando la referencia cultural actual es Japonés (Japón) y el calendario actual es el calendario japonés.</span><span class="sxs-lookup"><span data-stu-id="687d6-283">The following example displays these date patterns when the current culture is Japan (Japanese) and the current calendar is the Japanese calendar.</span></span>

[!code-csharp[Conceptual.Calendars#8](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/formatstrings1.cs#8)]
[!code-vb[Conceptual.Calendars#8](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/formatstrings1.vb#8)]

> [!WARNING]
> <span data-ttu-id="687d6-284">La <xref:System.Globalization.JapaneseCalendar> clase es la única clase de calendario en .NET que admite fechas <xref:System.Globalization.CultureInfo> en más de una <xref:System.Globalization.CultureInfo> era y que puede ser el calendario actual de un objeto, específicamente, de un objeto que representa la referencia cultural japonesa (Japón).</span><span class="sxs-lookup"><span data-stu-id="687d6-284">The <xref:System.Globalization.JapaneseCalendar> class is the only calendar class in .NET that both supports dates in more than one era and that can be the current calendar of a <xref:System.Globalization.CultureInfo> object - specifically, of a <xref:System.Globalization.CultureInfo> object that represents the Japanese (Japan) culture.</span></span>

<span data-ttu-id="687d6-285">Para todos los demás calendarios, el especificador de formato personalizado "g" incluye la era en la cadena de resultado.</span><span class="sxs-lookup"><span data-stu-id="687d6-285">For all calendars, the "g" custom format specifier includes the era in the result string.</span></span> <span data-ttu-id="687d6-286">En el ejemplo siguiente se usa la cadena de formato personalizada "MM-dd-yyyy g" para incluir la era en la cadena de resultado cuando el calendario actual es el calendario gregoriano.</span><span class="sxs-lookup"><span data-stu-id="687d6-286">The following example uses the "MM-dd-yyyy g" custom format string to include the era in the result string when the current calendar is the Gregorian calendar.</span></span>

[!code-csharp[Conceptual.Calendars#9](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/formatstrings2.cs#9)]
[!code-vb[Conceptual.Calendars#9](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/formatstrings2.vb#9)]

<span data-ttu-id="687d6-287">En aquellos casos donde la representación de cadena de una fecha se expresa en un calendario que no es el actual, la clase <xref:System.Globalization.Calendar> incluye un método <xref:System.Globalization.Calendar.GetEra%2A?displayProperty=nameWithType> que se puede usar junto con los métodos <xref:System.Globalization.Calendar.GetYear%2A?displayProperty=nameWithType>, <xref:System.Globalization.Calendar.GetMonth%2A?displayProperty=nameWithType> y <xref:System.Globalization.Calendar.GetDayOfMonth%2A?displayProperty=nameWithType> para indicar de forma inequívoca una fecha y la era a la que pertenece.</span><span class="sxs-lookup"><span data-stu-id="687d6-287">In cases where the string representation of a date is expressed in a calendar that is not the current calendar, the <xref:System.Globalization.Calendar> class includes a <xref:System.Globalization.Calendar.GetEra%2A?displayProperty=nameWithType> method that can be used along with the <xref:System.Globalization.Calendar.GetYear%2A?displayProperty=nameWithType>, <xref:System.Globalization.Calendar.GetMonth%2A?displayProperty=nameWithType>, and <xref:System.Globalization.Calendar.GetDayOfMonth%2A?displayProperty=nameWithType> methods to unambiguously indicate a date as well as the era to which it belongs.</span></span> <span data-ttu-id="687d6-288">En el ejemplo siguiente se usa la clase <xref:System.Globalization.JapaneseLunisolarCalendar> para proporcionar una ilustración.</span><span class="sxs-lookup"><span data-stu-id="687d6-288">The following example uses the <xref:System.Globalization.JapaneseLunisolarCalendar> class to provide an illustration.</span></span> <span data-ttu-id="687d6-289">Sin embargo, tenga en cuenta que para incluir un nombre descriptivo o una abreviatura en lugar de un entero para la era en la cadena de resultado hay que crear una instancia de un objeto <xref:System.Globalization.DateTimeFormatInfo> y convertir <xref:System.Globalization.JapaneseCalendar> en su calendario actual.</span><span class="sxs-lookup"><span data-stu-id="687d6-289">However, note that including a meaningful name or abbreviation instead of an integer for the era in the result string requires that you instantiate a <xref:System.Globalization.DateTimeFormatInfo> object and make <xref:System.Globalization.JapaneseCalendar> its current calendar.</span></span> <span data-ttu-id="687d6-290">(El calendario <xref:System.Globalization.JapaneseLunisolarCalendar> no puede ser el calendario actual de ninguna referencia cultural, pero en este caso los dos calendarios comparten las mismas eras.)</span><span class="sxs-lookup"><span data-stu-id="687d6-290">(The <xref:System.Globalization.JapaneseLunisolarCalendar> calendar cannot be the current calendar of any culture, but in this case the two calendars share the same eras.)</span></span>

[!code-csharp[Conceptual.Calendars#10](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/formatstrings3.cs#10)]
[!code-vb[Conceptual.Calendars#10](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/formatstrings3.vb#10)]

<span data-ttu-id="687d6-291">En los calendarios japoneses, el primer año de una época se llama Gannen.</span><span class="sxs-lookup"><span data-stu-id="687d6-291">In the Japanese calendars, the first year of an era is called Gannen (元年).</span></span> <span data-ttu-id="687d6-292">Por ejemplo, en lugar de Heisei 1, el primer año de la era Heisei se puede describir como Heisei Gannen.</span><span class="sxs-lookup"><span data-stu-id="687d6-292">For example, instead of Heisei 1, the first year of the Heisei era can be described as Heisei Gannen.</span></span> <span data-ttu-id="687d6-293">.NET adopta esta convención en las operaciones de formato para fechas y horas formateadas con las siguientes cadenas de formato de fecha y hora estándar o personalizadas cuando se utilizan con un <xref:System.Globalization.CultureInfo> objeto que representa la referencia cultural japonés-japonés ("ja-JP") con la <xref:System.Globalization.JapaneseCalendar> clase:</span><span class="sxs-lookup"><span data-stu-id="687d6-293">.NET adopts this convention in formatting operations for dates and times formatted with the following standard or custom date and time format strings when they are used with a <xref:System.Globalization.CultureInfo> object that represents the Japanese-Japan ("ja-JP") culture with the <xref:System.Globalization.JapaneseCalendar> class:</span></span>

- <span data-ttu-id="687d6-294">[El patrón](../base-types/standard-date-and-time-format-strings.md#LongDate)de fecha larga, indicado por la cadena de formato de fecha y hora estándar "D".</span><span class="sxs-lookup"><span data-stu-id="687d6-294">[The long date pattern](../base-types/standard-date-and-time-format-strings.md#LongDate), indicated by the "D" standard date and time format string.</span></span>
- <span data-ttu-id="687d6-295">[El patrón](../base-types/standard-date-and-time-format-strings.md#FullDateLongTime)de larga hora de fecha completa, indicado por la cadena de formato de fecha y hora estándar "F".</span><span class="sxs-lookup"><span data-stu-id="687d6-295">[The full date long time pattern](../base-types/standard-date-and-time-format-strings.md#FullDateLongTime), indicated by the "F" standard date and time format string.</span></span>
- <span data-ttu-id="687d6-296">[El patrón](../base-types/standard-date-and-time-format-strings.md#FullDateShortTime)de tiempo corto de fecha completa, indicado por la cadena de formato de fecha y hora estándar "f".</span><span class="sxs-lookup"><span data-stu-id="687d6-296">[The full date short time pattern](../base-types/standard-date-and-time-format-strings.md#FullDateShortTime), indicated by the "f" standard date and time format string.</span></span>
- <span data-ttu-id="687d6-297">[El patrón de año/mes](../base-types/standard-date-and-time-format-strings.md#YearMonth), indicado por la cadena de formato de fecha y hora estándar Y" o "y".</span><span class="sxs-lookup"><span data-stu-id="687d6-297">[The year/month pattern](../base-types/standard-date-and-time-format-strings.md#YearMonth), indicated by the Y" or "y" standard date and time format string.</span></span>
- <span data-ttu-id="687d6-298">[La cadena de formato de fecha y [hora personalizada](../base-types/custom-date-and-time-format-strings.md)"ggy'' o "ggy".</span><span class="sxs-lookup"><span data-stu-id="687d6-298">[The "ggy'年'" or "ggy年" [custom date and time format string](../base-types/custom-date-and-time-format-strings.md).</span></span>

<span data-ttu-id="687d6-299">Por ejemplo, en el ejemplo siguiente se muestra una fecha en <xref:System.Globalization.JapaneseCalendar>el primer año de la era Heisei en el archivo .</span><span class="sxs-lookup"><span data-stu-id="687d6-299">For example, the following example displays a date in the first year of the Heisei era in the <xref:System.Globalization.JapaneseCalendar>.</span></span>

  [!code-csharp[gannen](~/samples/snippets/standard/datetime/calendars/gannen/cs/program.cs)]
  [!code-vb[gannen](~/samples/snippets/standard/datetime/calendars/gannen/vb/gannen-fmt.vb)]

<span data-ttu-id="687d6-300">Si este comportamiento no es deseable en las operaciones de formato, puede restaurar el comportamiento anterior, que siempre representa el primer año de una era como "1" en lugar de "Gannen", haciendo lo siguiente, dependiendo de la versión de .NET:</span><span class="sxs-lookup"><span data-stu-id="687d6-300">If this behavior is undesirable in formatting operations, you can restore the previous behavior, which always represents the first year of an era as "1" rather than "Gannen", by doing the following, depending on the version of .NET:</span></span>

- <span data-ttu-id="687d6-301">**.NET Core:** Agregue lo siguiente al archivo de configuración *.netcore.runtime.json:*</span><span class="sxs-lookup"><span data-stu-id="687d6-301">**.NET Core:** Add the following to the *.netcore.runtime.json* config file:</span></span>

  ```json
  "runtimeOptions": {
    "configProperties": {
        "Switch.System.Globalization.FormatJapaneseFirstYearAsANumber": true
    }
  }
  ```

- <span data-ttu-id="687d6-302">**.NET Framework 4.6 o posterior:** Establezca el siguiente modificador AppContext en el archivo *app.config:*</span><span class="sxs-lookup"><span data-stu-id="687d6-302">**.NET Framework 4.6 or later:** Set the following AppContext switch in the *app.config* file:</span></span>

  ```xml
  <?xml version="1.0" encoding="utf-8"?>
  <configuration>
    <runtime>
      <AppContextSwitchOverrides value="Switch.System.Globalization.FormatJapaneseFirstYearAsANumber=true" />
    </runtime>
  </configuration>
  ```

- <span data-ttu-id="687d6-303">**.NET Framework 4.5.2 o anterior:** Establezca el siguiente valor del Registro:</span><span class="sxs-lookup"><span data-stu-id="687d6-303">**.NET Framework 4.5.2 or earlier:** Set the following registry value:</span></span>

   |  |  |
   |--|--|
   | <span data-ttu-id="687d6-304">**Clave**</span><span class="sxs-lookup"><span data-stu-id="687d6-304">**Key**</span></span> | <span data-ttu-id="687d6-305">**HKEY_LOCAL_MACHINE,Software,\\Microsoft . NETFramework-AppContext**</span><span class="sxs-lookup"><span data-stu-id="687d6-305">**HKEY_LOCAL_MACHINE\Software\Microsoft\\.NETFramework\AppContext**</span></span> |
   | <span data-ttu-id="687d6-306">**Nombre**</span><span class="sxs-lookup"><span data-stu-id="687d6-306">**Name**</span></span> | <span data-ttu-id="687d6-307">Switch.System.Globalization.FormatJapaneseFirstYearAsANumber</span><span class="sxs-lookup"><span data-stu-id="687d6-307">Switch.System.Globalization.FormatJapaneseFirstYearAsANumber</span></span> |
   | <span data-ttu-id="687d6-308">**Tipo**</span><span class="sxs-lookup"><span data-stu-id="687d6-308">**Type**</span></span> | <span data-ttu-id="687d6-309">REG_SZ</span><span class="sxs-lookup"><span data-stu-id="687d6-309">REG_SZ</span></span> |
   | <span data-ttu-id="687d6-310">**Valor**</span><span class="sxs-lookup"><span data-stu-id="687d6-310">**Value**</span></span> | <span data-ttu-id="687d6-311">true</span><span class="sxs-lookup"><span data-stu-id="687d6-311">true</span></span> |

<span data-ttu-id="687d6-312">Con la compatibilidad de gannen en las operaciones de formato deshabilitada, el ejemplo anterior muestra el siguiente resultado:</span><span class="sxs-lookup"><span data-stu-id="687d6-312">With gannen support in formatting operations disabled, the previous example displays the following output:</span></span>

```console
Japanese calendar date: 平成1年8月18日 (Gregorian: Friday, August 18, 1989)
```

<span data-ttu-id="687d6-313">.NET también se ha actualizado para que las operaciones de análisis de fecha y hora admitan cadenas que contienen el año representado como "1" o Gannen.</span><span class="sxs-lookup"><span data-stu-id="687d6-313">.NET has also been updated so that date and time parsing operations support strings that contain the year represented as either "1" or Gannen.</span></span> <span data-ttu-id="687d6-314">Aunque no debería necesitar hacer esto, puede restaurar el comportamiento anterior para reconocer solo "1" como el primer año de una era.</span><span class="sxs-lookup"><span data-stu-id="687d6-314">Although you should not need to do this, you can restore the previous behavior to recognizes only "1" as the first year of an era.</span></span> <span data-ttu-id="687d6-315">Puede hacerlo de la siguiente manera, dependiendo de la versión de .NET:</span><span class="sxs-lookup"><span data-stu-id="687d6-315">You can do this as follows, depending on the version of .NET:</span></span>

- <span data-ttu-id="687d6-316">**.NET Core:** Agregue lo siguiente al archivo de configuración *.netcore.runtime.json:*</span><span class="sxs-lookup"><span data-stu-id="687d6-316">**.NET Core:** Add the following to the *.netcore.runtime.json* config file:</span></span>

  ```json
  "runtimeOptions": {
    "configProperties": {
        "Switch.System.Globalization.EnforceLegacyJapaneseDateParsing": true
    }
  }
  ```

- <span data-ttu-id="687d6-317">**.NET Framework 4.6 o posterior:** Establezca el siguiente modificador AppContext en el archivo *app.config:*</span><span class="sxs-lookup"><span data-stu-id="687d6-317">**.NET Framework 4.6 or later:** Set the following AppContext switch in the *app.config* file:</span></span>

  ```xml
  <?xml version="1.0" encoding="utf-8"?>
  <configuration>
    <runtime>
      <AppContextSwitchOverrides value="Switch.System.Globalization.EnforceLegacyJapaneseDateParsing=true" />
    </runtime>
  </configuration>
  ```

- <span data-ttu-id="687d6-318">**.NET Framework 4.5.2 o anterior:** Establezca el siguiente valor del Registro:</span><span class="sxs-lookup"><span data-stu-id="687d6-318">**.NET Framework 4.5.2 or earlier:** Set the following registry value:</span></span>

   |  |  |
   |--|--|
   | <span data-ttu-id="687d6-319">**Clave**</span><span class="sxs-lookup"><span data-stu-id="687d6-319">**Key**</span></span> | <span data-ttu-id="687d6-320">**HKEY_LOCAL_MACHINE,Software,\\Microsoft . NETFramework-AppContext**</span><span class="sxs-lookup"><span data-stu-id="687d6-320">**HKEY_LOCAL_MACHINE\Software\Microsoft\\.NETFramework\AppContext**</span></span> |
   | <span data-ttu-id="687d6-321">**Nombre**</span><span class="sxs-lookup"><span data-stu-id="687d6-321">**Name**</span></span> | <span data-ttu-id="687d6-322">Switch.System.Globalization.EnforceLegacyJapaneseDateParsing</span><span class="sxs-lookup"><span data-stu-id="687d6-322">Switch.System.Globalization.EnforceLegacyJapaneseDateParsing</span></span> |
   | <span data-ttu-id="687d6-323">**Tipo**</span><span class="sxs-lookup"><span data-stu-id="687d6-323">**Type**</span></span> | <span data-ttu-id="687d6-324">REG_SZ</span><span class="sxs-lookup"><span data-stu-id="687d6-324">REG_SZ</span></span> |
   | <span data-ttu-id="687d6-325">**Valor**</span><span class="sxs-lookup"><span data-stu-id="687d6-325">**Value**</span></span> | <span data-ttu-id="687d6-326">true</span><span class="sxs-lookup"><span data-stu-id="687d6-326">true</span></span> |

## <a name="see-also"></a><span data-ttu-id="687d6-327">Consulte también</span><span class="sxs-lookup"><span data-stu-id="687d6-327">See also</span></span>

- [<span data-ttu-id="687d6-328">Cómo: Mostrar fechas en calendarios no gregorianos</span><span class="sxs-lookup"><span data-stu-id="687d6-328">How to: Display dates in non-Gregorian calendars</span></span>](../../../docs/standard/base-types/how-to-display-dates-in-non-gregorian-calendars.md)
- [<span data-ttu-id="687d6-329">Ejemplo: Utilidad de rango de semanas del calendario</span><span class="sxs-lookup"><span data-stu-id="687d6-329">Sample: Calendar week range utility</span></span>](https://code.msdn.microsoft.com/NET-Framework-4-Calendar-3360a84a)
- [<span data-ttu-id="687d6-330">Clase de calendario</span><span class="sxs-lookup"><span data-stu-id="687d6-330">Calendar class</span></span>](xref:System.Globalization.Calendar)
