---
title: Información general sobre la función de arrastrar y colocar
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- drag-and-drop [WPF], implementing
- drag sources [WPF], drag-and-drop
- data transfer [WPF], drag-and-drop
- drag-and-drop [WPF], about
- drag-and-drop [WPF], events
- drop targets [WPF], drag-and-drop
ms.assetid: 1a5b27b0-0ac5-4cdf-86c0-86ac0271fa64
ms.openlocfilehash: dd42af77300a7a93bbcbfa4c8f1fc365fc3f5da1
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/12/2020
ms.locfileid: "79185984"
---
# <a name="drag-and-drop-overview"></a><span data-ttu-id="2b39f-102">Información general sobre la función de arrastrar y colocar</span><span class="sxs-lookup"><span data-stu-id="2b39f-102">Drag and Drop Overview</span></span>
<span data-ttu-id="2b39f-103">Este tema proporciona información general sobre la compatibilidad con arrastrar y colocar en aplicaciones [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="2b39f-103">This topic provides an overview of drag-and-drop support in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] applications.</span></span> <span data-ttu-id="2b39f-104">Arrastrar y colocar se refiere normalmente a un método de transferencia de datos que implica el uso de un mouse (o cualquier otro dispositivo señalador) para seleccionar uno o más objetos, arrastrar estos objetos sobre un destino deseado en la [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] y soltarlos.</span><span class="sxs-lookup"><span data-stu-id="2b39f-104">Drag-and-drop commonly refers to a method of data transfer that involves using a mouse (or some other pointing device) to select one or more objects, dragging these objects over some desired drop target in the [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)], and dropping them.</span></span>  

<a name="Drag_and_Drop_Support"></a>
## <a name="drag-and-drop-support-in-wpf"></a><span data-ttu-id="2b39f-105">Compatibilidad con arrastrar y colocar en WPF</span><span class="sxs-lookup"><span data-stu-id="2b39f-105">Drag-and-Drop Support in WPF</span></span>  
 <span data-ttu-id="2b39f-106">Las operaciones de arrastrar y colocar suelen incluir dos partes: un origen de arrastre en el que se origina el objeto arrastrado y un destino de colocación que recibe el objeto colocado.</span><span class="sxs-lookup"><span data-stu-id="2b39f-106">Drag-and-drop operations typically involve two parties: a drag source from which the dragged object originates and a drop target which receives the dropped object.</span></span>  <span data-ttu-id="2b39f-107">El origen de arrastre y el destino de colocación pueden ser elementos de la interfaz de usuario de la misma aplicación o de otra aplicación.</span><span class="sxs-lookup"><span data-stu-id="2b39f-107">The drag source and drop target may be UI elements in the same application or a different application.</span></span>  
  
 <span data-ttu-id="2b39f-108">El tipo y número de objetos que se pueden manipular con arrastrar y colocar es completamente arbitrario.</span><span class="sxs-lookup"><span data-stu-id="2b39f-108">The type and number of objects that can be manipulated with drag-and-drop is completely arbitrary.</span></span> <span data-ttu-id="2b39f-109">Por ejemplo, los archivos, las carpetas y las selecciones de contenido son algunos de los objetos más comunes que se manipulan mediante operaciones de arrastrar y colocar.</span><span class="sxs-lookup"><span data-stu-id="2b39f-109">For example, files, folders, and selections of content are some of the more common objects manipulated through drag-and-drop operations.</span></span>  
  
 <span data-ttu-id="2b39f-110">Las acciones concretas realizadas durante una operación de arrastrar y colocar son específicas de la aplicación y a menudo están determinadas por el contexto.</span><span class="sxs-lookup"><span data-stu-id="2b39f-110">The particular actions performed during a drag-and-drop operation are application specific, and often determined by context.</span></span>  <span data-ttu-id="2b39f-111">Por ejemplo, al arrastrar una selección de archivos de una carpeta a otra en el mismo dispositivo de almacenamiento, los archivos se mueven de forma predeterminada, mientras que arrastrar archivos desde un recurso compartido UNC (Convención de nomenclatura universal) a una carpeta local copia los archivos de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="2b39f-111">For example, dragging a selection of files from one folder to another on the same storage device moves the files by default, whereas dragging files from a Universal Naming Convention (UNC) share to a local folder copies the files by default.</span></span>  
  
 <span data-ttu-id="2b39f-112">Las funciones de arrastrar y colocar proporcionadas por [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] están diseñadas para ser altamente flexibles y personalizables, para que admitan una amplia variedad de escenarios de arrastrar y colocar.</span><span class="sxs-lookup"><span data-stu-id="2b39f-112">The drag-and-drop facilities provided by [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] are designed to be highly flexible and customizable to support a wide variety of drag-and-drop scenarios.</span></span>  <span data-ttu-id="2b39f-113">Arrastrar y colocar permite manipular objetos en una sola aplicación o entre aplicaciones diferentes.</span><span class="sxs-lookup"><span data-stu-id="2b39f-113">Drag-and-drop supports manipulating objects within a single application, or between different applications.</span></span> <span data-ttu-id="2b39f-114">Arrastrar y soltar entre [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] aplicaciones y otras aplicaciones de Windows también es totalmente compatible.</span><span class="sxs-lookup"><span data-stu-id="2b39f-114">Dragging-and-dropping between [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] applications and other Windows applications is also fully supported.</span></span>  
  
 <span data-ttu-id="2b39f-115">En [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], cualquier <xref:System.Windows.UIElement> o <xref:System.Windows.ContentElement> puede participar en una operación de arrastrar y colocar.</span><span class="sxs-lookup"><span data-stu-id="2b39f-115">In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], any <xref:System.Windows.UIElement> or <xref:System.Windows.ContentElement> can participate in drag-and-drop.</span></span> <span data-ttu-id="2b39f-116">Los eventos y los métodos necesarios para las operaciones de arrastrar y colocar están definidos en la clase <xref:System.Windows.DragDrop>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-116">The events and methods required for drag-and-drop operations are defined in the <xref:System.Windows.DragDrop> class.</span></span> <span data-ttu-id="2b39f-117">Las clases <xref:System.Windows.UIElement> y <xref:System.Windows.ContentElement> contienen un alias para los eventos adjuntos <xref:System.Windows.DragDrop>, de modo que los eventos aparezcan en la lista de miembros de clase cuando se hereda un <xref:System.Windows.UIElement> o <xref:System.Windows.ContentElement> como elemento base.</span><span class="sxs-lookup"><span data-stu-id="2b39f-117">The <xref:System.Windows.UIElement> and <xref:System.Windows.ContentElement> classes contain aliases for the <xref:System.Windows.DragDrop> attached events so that the events appear in the class members list when a <xref:System.Windows.UIElement> or <xref:System.Windows.ContentElement> is inherited as a base element.</span></span> <span data-ttu-id="2b39f-118">Los controladores de eventos que están asociados a estos eventos se asocian al evento adjunto <xref:System.Windows.DragDrop> subyacente y reciben la misma instancia de datos de evento.</span><span class="sxs-lookup"><span data-stu-id="2b39f-118">Event handlers that are attached to these events are attached to the underlying <xref:System.Windows.DragDrop> attached event and receive the same event data instance.</span></span> <span data-ttu-id="2b39f-119">Para obtener más información, vea el evento <xref:System.Windows.UIElement.Drop?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-119">For more information, see the <xref:System.Windows.UIElement.Drop?displayProperty=nameWithType> event.</span></span>  
  
> [!IMPORTANT]
> <span data-ttu-id="2b39f-120">La operación de arrastrar y colocar de OLE no funciona en la zona de Internet.</span><span class="sxs-lookup"><span data-stu-id="2b39f-120">OLE drag-and-drop does not work while in the Internet zone.</span></span>  
  
<a name="Data_Transfer"></a>
## <a name="data-transfer"></a><span data-ttu-id="2b39f-121">Transferencia de datos</span><span class="sxs-lookup"><span data-stu-id="2b39f-121">Data Transfer</span></span>  
 <span data-ttu-id="2b39f-122">Arrastrar y colocar es parte de un área más general de transferencia de datos.</span><span class="sxs-lookup"><span data-stu-id="2b39f-122">Drag-and-drop is part of the more general area of data transfer.</span></span> <span data-ttu-id="2b39f-123">La transferencia de datos incluye la operación de arrastrar y colocar, así como la operación de copiar y pegar.</span><span class="sxs-lookup"><span data-stu-id="2b39f-123">Data transfer includes drag-and-drop and copy-and-paste operations.</span></span> <span data-ttu-id="2b39f-124">Una operación de arrastrar y colocar es análoga a una operación de copiar y pegar o cortar y pegar que se usa para transferir datos de un objeto o aplicación a otro mediante el Portapapeles del sistema.</span><span class="sxs-lookup"><span data-stu-id="2b39f-124">A drag-and-drop operation is analogous to a copy-and-paste or cut-and-paste operation that is used to transfer data from one object or application to another by using the system clipboard.</span></span> <span data-ttu-id="2b39f-125">Ambos tipos de operaciones requieren:</span><span class="sxs-lookup"><span data-stu-id="2b39f-125">Both types of operations require:</span></span>  
  
- <span data-ttu-id="2b39f-126">Un objeto de origen que proporciona los datos.</span><span class="sxs-lookup"><span data-stu-id="2b39f-126">A source object that provides the data.</span></span>  
  
- <span data-ttu-id="2b39f-127">Una manera de almacenar temporalmente los datos transferidos.</span><span class="sxs-lookup"><span data-stu-id="2b39f-127">A way to temporarily store the transferred data.</span></span>  
  
- <span data-ttu-id="2b39f-128">Un objeto de destino que recibe los datos.</span><span class="sxs-lookup"><span data-stu-id="2b39f-128">A target object that receives the data.</span></span>  
  
 <span data-ttu-id="2b39f-129">En una operación de copiar y pegar, el Portapapeles del sistema se usa para almacenar temporalmente los datos transferidos; en una operación de arrastrar y colocar, se usa un <xref:System.Windows.DataObject> para almacenar los datos.</span><span class="sxs-lookup"><span data-stu-id="2b39f-129">In a copy-and-paste operation, the system clipboard is used to temporarily store the transferred data; in a drag-and-drop operation, a <xref:System.Windows.DataObject> is used to store the data.</span></span> <span data-ttu-id="2b39f-130">Desde el punto de vista conceptual, un objeto de datos consta de uno o más pares de <xref:System.Object> que contienen los datos reales y un identificador de formato de datos correspondiente.</span><span class="sxs-lookup"><span data-stu-id="2b39f-130">Conceptually, a data object consists of one or more pairs of an <xref:System.Object> that contains the actual data, and a corresponding data format identifier.</span></span>  
  
 <span data-ttu-id="2b39f-131">El origen de arrastre inicia una operación de arrastrar y colocar llamando al método estático <xref:System.Windows.DragDrop.DoDragDrop%2A?displayProperty=nameWithType> y transfiriéndole los datos transferidos.</span><span class="sxs-lookup"><span data-stu-id="2b39f-131">The drag source initiates a drag-and-drop operation by calling the static <xref:System.Windows.DragDrop.DoDragDrop%2A?displayProperty=nameWithType> method and passing the transferred data to it.</span></span> <span data-ttu-id="2b39f-132">El método <xref:System.Windows.DragDrop.DoDragDrop%2A> ajustará automáticamente los datos en un <xref:System.Windows.DataObject>, si es necesario.</span><span class="sxs-lookup"><span data-stu-id="2b39f-132">The <xref:System.Windows.DragDrop.DoDragDrop%2A> method will automatically wrap the data in a <xref:System.Windows.DataObject> if necessary.</span></span> <span data-ttu-id="2b39f-133">Para un mayor control del formato de datos, puede ajustar los datos en un <xref:System.Windows.DataObject> antes de pasarlos al método <xref:System.Windows.DragDrop.DoDragDrop%2A>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-133">For greater control over the data format, you can wrap the data in a <xref:System.Windows.DataObject> before passing it to the <xref:System.Windows.DragDrop.DoDragDrop%2A> method.</span></span> <span data-ttu-id="2b39f-134">El destino de colocación es responsable de extraer los datos del <xref:System.Windows.DataObject>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-134">The drop target is responsible for extracting the data from the <xref:System.Windows.DataObject>.</span></span> <span data-ttu-id="2b39f-135">Para obtener más información sobre cómo trabajar con objetos de datos, consulte [Datos y objetos de datos](data-and-data-objects.md).</span><span class="sxs-lookup"><span data-stu-id="2b39f-135">For more information about working with data objects, see [Data and Data Objects](data-and-data-objects.md).</span></span>  
  
 <span data-ttu-id="2b39f-136">El origen y el destino de una operación de arrastrar y colocar son elementos de la interfaz de usuario; sin embargo, los datos que se transfieren no suelen tener una representación visual.</span><span class="sxs-lookup"><span data-stu-id="2b39f-136">The source and target of a drag-and-drop operation are UI elements; however, the data that is actually being transferred typically does not have a visual representation.</span></span> <span data-ttu-id="2b39f-137">Puede escribir código para proporcionar una representación visual de los datos que se arrastran, como ocurre al arrastrar archivos en el Explorador de Windows.</span><span class="sxs-lookup"><span data-stu-id="2b39f-137">You can write code to provide a visual representation of the data that is dragged, such as occurs when dragging files in Windows Explorer.</span></span> <span data-ttu-id="2b39f-138">De forma predeterminada, se proporciona información al usuario cambiando el cursor para representar el efecto que la operación de arrastrar y colocar tendrá en los datos, por ejemplo si los datos se mueven o se copian.</span><span class="sxs-lookup"><span data-stu-id="2b39f-138">By default, feedback is provided to the user by changing the cursor to represent the effect that the drag-and-drop operation will have on the data, such as whether the data will be moved or copied.</span></span>  
  
### <a name="drag-and-drop-effects"></a><span data-ttu-id="2b39f-139">Efectos de arrastrar y colocar</span><span class="sxs-lookup"><span data-stu-id="2b39f-139">Drag-and-Drop Effects</span></span>  
 <span data-ttu-id="2b39f-140">Las operaciones de arrastrar y colocar pueden tener efectos distintos en los datos transferidos.</span><span class="sxs-lookup"><span data-stu-id="2b39f-140">Drag-and-drop operations can have different effects on the transferred data.</span></span> <span data-ttu-id="2b39f-141">Por ejemplo, puede copiar los datos o puede mover los datos.</span><span class="sxs-lookup"><span data-stu-id="2b39f-141">For example, you can copy the data or you can move the data.</span></span> [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="2b39f-142">define una enumeración <xref:System.Windows.DragDropEffects> que puede usar para especificar el efecto de una operación de arrastrar y colocar.</span><span class="sxs-lookup"><span data-stu-id="2b39f-142">defines a <xref:System.Windows.DragDropEffects> enumeration that you can use to specify the effect of a drag-and-drop operation.</span></span> <span data-ttu-id="2b39f-143">En el origen de arrastre, puede especificar los efectos que el origen permitirá en el método <xref:System.Windows.DragDrop.DoDragDrop%2A>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-143">In the drag source, you can specify the effects that the source will allow in the <xref:System.Windows.DragDrop.DoDragDrop%2A> method.</span></span> <span data-ttu-id="2b39f-144">En el destino de colocación, puede especificar el efecto que pretende tener el destino en la propiedad <xref:System.Windows.DragEventArgs.Effects%2A> de la clase <xref:System.Windows.DragEventArgs>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-144">In the drop target, you can specify the effect that the target intends in the <xref:System.Windows.DragEventArgs.Effects%2A> property of the <xref:System.Windows.DragEventArgs> class.</span></span> <span data-ttu-id="2b39f-145">Cuando el destino de colocación especifica su efecto deseado en el evento <xref:System.Windows.DragDrop.DragOver>, esta información se devuelve al origen de arrastre en el evento <xref:System.Windows.DragDrop.GiveFeedback>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-145">When the drop target specifies its intended effect in the <xref:System.Windows.DragDrop.DragOver> event, that information is passed back to the drag source in the <xref:System.Windows.DragDrop.GiveFeedback> event.</span></span> <span data-ttu-id="2b39f-146">El origen de arrastre usa esta información para informar al usuario de qué efecto pretende tener en los datos el destino de colocación.</span><span class="sxs-lookup"><span data-stu-id="2b39f-146">The drag source uses this information to inform the user what effect the drop target intends to have on the data.</span></span> <span data-ttu-id="2b39f-147">Cuando se colocan los datos, el destino de colocación especifica su efecto real en el evento <xref:System.Windows.DragDrop.Drop>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-147">When the data is dropped, the drop target specifies its actual effect in the <xref:System.Windows.DragDrop.Drop> event.</span></span> <span data-ttu-id="2b39f-148">Esta información se devuelve al origen de arrastre como valor devuelto del método <xref:System.Windows.DragDrop.DoDragDrop%2A>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-148">That information is passed back to the drag source as the return value of the <xref:System.Windows.DragDrop.DoDragDrop%2A> method.</span></span> <span data-ttu-id="2b39f-149">Si el destino de colocación devuelve un efecto que no está en la lista de orígenes de arrastre de `allowedEffects`, la operación de arrastrar y colocar se cancela sin que se produzca ninguna transferencia de datos.</span><span class="sxs-lookup"><span data-stu-id="2b39f-149">If the drop target returns an effect that is not in the drag sources list of `allowedEffects`, the drag-and-drop operation is cancelled without any data transfer occurring.</span></span>  
  
 <span data-ttu-id="2b39f-150">Es importante recordar que, en [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], los valores <xref:System.Windows.DragDropEffects> solo se usan para proporcionar comunicación entre el origen de arrastre y el destino de colocación relativa a los efectos de la operación de arrastrar y colocar.</span><span class="sxs-lookup"><span data-stu-id="2b39f-150">It is important to remember that in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], the <xref:System.Windows.DragDropEffects> values are only used to provide communication between the drag source and the drop target regarding the effects of the drag-and-drop operation.</span></span> <span data-ttu-id="2b39f-151">El efecto real de la operación de arrastrar y colocar depende de que se escriba el código adecuado en la aplicación.</span><span class="sxs-lookup"><span data-stu-id="2b39f-151">The actual effect of the drag-and-drop operation depends on you to write the appropriate code in your application.</span></span>  
  
 <span data-ttu-id="2b39f-152">Por ejemplo, el destino de colocación podría especificar que el efecto de colocar datos es mover los datos.</span><span class="sxs-lookup"><span data-stu-id="2b39f-152">For example, the drop target might specify that the effect of dropping data on it is to move the data.</span></span> <span data-ttu-id="2b39f-153">Sin embargo, para mover los datos, estos deben agregarse al elemento de destino y quitarse del elemento de origen.</span><span class="sxs-lookup"><span data-stu-id="2b39f-153">However, to move the data, it must be both added to the target element and removed from the source element.</span></span> <span data-ttu-id="2b39f-154">El elemento de origen podría indicar que permite mover los datos, pero si no se proporciona el código para quitar los datos del elemento de origen, el resultado final será que los datos se copian pero no se mueven.</span><span class="sxs-lookup"><span data-stu-id="2b39f-154">The source element might indicate that it allows moving the data, but if you do not provide the code to remove the data from the source element, the end result will be that the data is copied, and not moved.</span></span>  
  
<a name="Drag_and_Drop_Events"></a>
## <a name="drag-and-drop-events"></a><span data-ttu-id="2b39f-155">Eventos de arrastrar y colocar</span><span class="sxs-lookup"><span data-stu-id="2b39f-155">Drag-and-Drop Events</span></span>  
 <span data-ttu-id="2b39f-156">Las operaciones de arrastrar y colocar admiten un modelo basado en eventos.</span><span class="sxs-lookup"><span data-stu-id="2b39f-156">Drag-and-drop operations support an event driven model.</span></span>  <span data-ttu-id="2b39f-157">El origen de arrastre y el destino de colocación usan un conjunto estándar de eventos para controlar las operaciones de arrastrar y colocar.</span><span class="sxs-lookup"><span data-stu-id="2b39f-157">Both the drag source and the drop target use a standard set of events to handle drag-and-drop operations.</span></span>  <span data-ttu-id="2b39f-158">Las tablas siguientes resumen los eventos estándar de arrastrar y colocar.</span><span class="sxs-lookup"><span data-stu-id="2b39f-158">The following tables summarize the standard drag-and-drop events.</span></span> <span data-ttu-id="2b39f-159">Se trata de eventos adjuntos a la clase <xref:System.Windows.DragDrop>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-159">These are attached events on the <xref:System.Windows.DragDrop> class.</span></span> <span data-ttu-id="2b39f-160">Para obtener más información sobre los eventos adjuntos, consulte [Información general sobre eventos adjuntos](attached-events-overview.md).</span><span class="sxs-lookup"><span data-stu-id="2b39f-160">For more information about attached events, see [Attached Events Overview](attached-events-overview.md).</span></span>  
  
### <a name="drag-source-events"></a><span data-ttu-id="2b39f-161">Eventos del origen de arrastre</span><span class="sxs-lookup"><span data-stu-id="2b39f-161">Drag Source Events</span></span>  
  
|<span data-ttu-id="2b39f-162">Evento</span><span class="sxs-lookup"><span data-stu-id="2b39f-162">Event</span></span>|<span data-ttu-id="2b39f-163">Resumen</span><span class="sxs-lookup"><span data-stu-id="2b39f-163">Summary</span></span>|  
|-----------|-------------|  
|<xref:System.Windows.DragDrop.GiveFeedback>|<span data-ttu-id="2b39f-164">Este evento se produce continuamente durante una operación de arrastrar y colocar y permite al origen de colocación proporcionar información al usuario.</span><span class="sxs-lookup"><span data-stu-id="2b39f-164">This event occurs continuously during a drag-and-drop operation, and enables the drop source to give feedback information to the user.</span></span> <span data-ttu-id="2b39f-165">Esta información suelen proporcionarse mediante un cambio en la apariencia del puntero del mouse para indicar los efectos permitidos por el destino de colocación.</span><span class="sxs-lookup"><span data-stu-id="2b39f-165">This feedback is commonly given by changing the appearance of the mouse pointer to indicate the effects allowed by the drop target.</span></span>  <span data-ttu-id="2b39f-166">Se trata de un evento de propagación.</span><span class="sxs-lookup"><span data-stu-id="2b39f-166">This is a bubbling event.</span></span>|  
|<xref:System.Windows.DragDrop.QueryContinueDrag>|<span data-ttu-id="2b39f-167">Este evento se produce cuando hay un cambio en los estados del botón del mouse o el teclado durante una operación de arrastrar y colocar, y permite al origen de colocación cancelar la operación de arrastrar y colocar en función de los estados del botón o del teclado.</span><span class="sxs-lookup"><span data-stu-id="2b39f-167">This event occurs when there is a change in the keyboard or mouse button states during a drag-and-drop operation, and enables the drop source to cancel the drag-and-drop operation depending on the key/button states.</span></span> <span data-ttu-id="2b39f-168">Se trata de un evento de propagación.</span><span class="sxs-lookup"><span data-stu-id="2b39f-168">This is a bubbling event.</span></span>|  
|<xref:System.Windows.DragDrop.PreviewGiveFeedback>|<span data-ttu-id="2b39f-169">Versión de tunelización de <xref:System.Windows.DragDrop.GiveFeedback>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-169">Tunneling version of <xref:System.Windows.DragDrop.GiveFeedback>.</span></span>|  
|<xref:System.Windows.DragDrop.PreviewQueryContinueDrag>|<span data-ttu-id="2b39f-170">Versión de tunelización de <xref:System.Windows.DragDrop.QueryContinueDrag>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-170">Tunneling version of <xref:System.Windows.DragDrop.QueryContinueDrag>.</span></span>|  
  
### <a name="drop-target-events"></a><span data-ttu-id="2b39f-171">Eventos del destino de colocación</span><span class="sxs-lookup"><span data-stu-id="2b39f-171">Drop Target Events</span></span>  
  
|<span data-ttu-id="2b39f-172">Evento</span><span class="sxs-lookup"><span data-stu-id="2b39f-172">Event</span></span>|<span data-ttu-id="2b39f-173">Resumen</span><span class="sxs-lookup"><span data-stu-id="2b39f-173">Summary</span></span>|  
|-----------|-------------|  
|<xref:System.Windows.DragDrop.DragEnter>|<span data-ttu-id="2b39f-174">Este evento se produce cuando se arrastra un objeto dentro de los límites del destino de colocación.</span><span class="sxs-lookup"><span data-stu-id="2b39f-174">This event occurs when an object is dragged into the drop target's boundary.</span></span> <span data-ttu-id="2b39f-175">Se trata de un evento de propagación.</span><span class="sxs-lookup"><span data-stu-id="2b39f-175">This is a bubbling event.</span></span>|  
|<xref:System.Windows.DragDrop.DragLeave>|<span data-ttu-id="2b39f-176">Este evento se produce cuando se arrastra un objeto fuera de los límites del destino de colocación.</span><span class="sxs-lookup"><span data-stu-id="2b39f-176">This event occurs when an object is dragged out of the drop target's boundary.</span></span>  <span data-ttu-id="2b39f-177">Se trata de un evento de propagación.</span><span class="sxs-lookup"><span data-stu-id="2b39f-177">This is a bubbling event.</span></span>|  
|<xref:System.Windows.DragDrop.DragOver>|<span data-ttu-id="2b39f-178">Este evento se produce continuamente mientras se arrastra (se mueve) un objeto dentro de los límites del destino de colocación.</span><span class="sxs-lookup"><span data-stu-id="2b39f-178">This event occurs continuously while an object is dragged (moved) within the drop target's boundary.</span></span> <span data-ttu-id="2b39f-179">Se trata de un evento de propagación.</span><span class="sxs-lookup"><span data-stu-id="2b39f-179">This is a bubbling event.</span></span>|  
|<xref:System.Windows.DragDrop.Drop>|<span data-ttu-id="2b39f-180">Este evento se produce cuando se coloca un objeto en el destino de colocación.</span><span class="sxs-lookup"><span data-stu-id="2b39f-180">This event occurs when an object is dropped on the drop target.</span></span>  <span data-ttu-id="2b39f-181">Se trata de un evento de propagación.</span><span class="sxs-lookup"><span data-stu-id="2b39f-181">This is a bubbling event.</span></span>|  
|<xref:System.Windows.DragDrop.PreviewDragEnter>|<span data-ttu-id="2b39f-182">Versión de tunelización de <xref:System.Windows.DragDrop.DragEnter>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-182">Tunneling version of <xref:System.Windows.DragDrop.DragEnter>.</span></span>|  
|<xref:System.Windows.DragDrop.PreviewDragLeave>|<span data-ttu-id="2b39f-183">Versión de tunelización de <xref:System.Windows.DragDrop.DragLeave>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-183">Tunneling version of <xref:System.Windows.DragDrop.DragLeave>.</span></span>|  
|<xref:System.Windows.DragDrop.PreviewDragOver>|<span data-ttu-id="2b39f-184">Versión de tunelización de <xref:System.Windows.DragDrop.DragOver>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-184">Tunneling version of <xref:System.Windows.DragDrop.DragOver>.</span></span>|  
|<xref:System.Windows.DragDrop.PreviewDrop>|<span data-ttu-id="2b39f-185">Versión de tunelización de <xref:System.Windows.DragDrop.Drop>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-185">Tunneling version of <xref:System.Windows.DragDrop.Drop>.</span></span>|  
  
 <span data-ttu-id="2b39f-186">Para controlar los eventos de arrastrar y colocar para las instancias de un objeto, agregue controladores para los eventos enumerados en las tablas anteriores.</span><span class="sxs-lookup"><span data-stu-id="2b39f-186">To handle drag-and-drop events for instances of an object, add handlers for the events listed in the preceding tables.</span></span> <span data-ttu-id="2b39f-187">Para controlar los eventos de arrastrar y colocar en el nivel de clase, invalide los métodos virtuales On\*Event y On\*PreviewEvent correspondientes.</span><span class="sxs-lookup"><span data-stu-id="2b39f-187">To handle drag-and-drop events at the class level, override the corresponding virtual On\*Event and On\*PreviewEvent methods.</span></span> <span data-ttu-id="2b39f-188">Para obtener más información, consulte [Control de clases de eventos enrutados mediante clases base de control](marking-routed-events-as-handled-and-class-handling.md#Class_Handling_of_Routed_Events).</span><span class="sxs-lookup"><span data-stu-id="2b39f-188">For more information, see [Class Handling of Routed Events by Control Base Classes](marking-routed-events-as-handled-and-class-handling.md#Class_Handling_of_Routed_Events).</span></span>  
  
<a name="Implementing_Drag_And_Drop"></a>
## <a name="implementing-drag-and-drop"></a><span data-ttu-id="2b39f-189">Implementación de arrastrar y colocar</span><span class="sxs-lookup"><span data-stu-id="2b39f-189">Implementing Drag-and-Drop</span></span>  
 <span data-ttu-id="2b39f-190">Un elemento de la interfaz de usuario puede ser un origen de arrastre, un destino de colocación o ambos.</span><span class="sxs-lookup"><span data-stu-id="2b39f-190">A UI element can be a drag source, a drop target, or both.</span></span> <span data-ttu-id="2b39f-191">Para implementar la operación básica de arrastrar y colocar, escriba código para iniciar la operación de arrastrar y colocar y para procesar los datos colocados.</span><span class="sxs-lookup"><span data-stu-id="2b39f-191">To implement basic drag-and-drop, you write code to initiate the drag-and-drop operation and to process the dropped data.</span></span> <span data-ttu-id="2b39f-192">Puede mejorar la experiencia de arrastrar y colocar controlando los eventos de arrastrar y colocar opcionales.</span><span class="sxs-lookup"><span data-stu-id="2b39f-192">You can enhance the drag-and-drop experience by handling optional drag-and-drop events.</span></span>  
  
 <span data-ttu-id="2b39f-193">Para implementar la operación básica de arrastrar y colocar, realice las siguientes tareas:</span><span class="sxs-lookup"><span data-stu-id="2b39f-193">To implement basic drag-and-drop, you will complete the following tasks:</span></span>  
  
- <span data-ttu-id="2b39f-194">Identifique el elemento que será un origen de arrastre.</span><span class="sxs-lookup"><span data-stu-id="2b39f-194">Identify the element that will be a drag source.</span></span> <span data-ttu-id="2b39f-195">Un origen de arrastre puede ser un <xref:System.Windows.UIElement> o un <xref:System.Windows.ContentElement>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-195">A drag source can be a <xref:System.Windows.UIElement> or a <xref:System.Windows.ContentElement>.</span></span>  
  
- <span data-ttu-id="2b39f-196">Cree un controlador de eventos en el origen de arrastre que iniciará la operación de arrastrar y colocar.</span><span class="sxs-lookup"><span data-stu-id="2b39f-196">Create an event handler on the drag source that will initiate the drag-and-drop operation.</span></span> <span data-ttu-id="2b39f-197">El evento suele ser un evento <xref:System.Windows.UIElement.MouseMove>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-197">The event is typically the <xref:System.Windows.UIElement.MouseMove> event.</span></span>  
  
- <span data-ttu-id="2b39f-198">En el controlador de eventos del origen de arrastre, llame al método <xref:System.Windows.DragDrop.DoDragDrop%2A> para que inicie la operación de arrastrar y colocar.</span><span class="sxs-lookup"><span data-stu-id="2b39f-198">In the drag source event handler, call the <xref:System.Windows.DragDrop.DoDragDrop%2A> method to initiate the drag-and-drop operation.</span></span> <span data-ttu-id="2b39f-199">En la llamada a <xref:System.Windows.DragDrop.DoDragDrop%2A>, especifique el origen de arrastre, los datos que se van a transferir y los efectos permitidos.</span><span class="sxs-lookup"><span data-stu-id="2b39f-199">In the <xref:System.Windows.DragDrop.DoDragDrop%2A> call, specify the drag source, the data to be transferred, and the allowed effects.</span></span>  
  
- <span data-ttu-id="2b39f-200">Identifique el elemento que será un destino de colocación.</span><span class="sxs-lookup"><span data-stu-id="2b39f-200">Identify the element that will be a drop target.</span></span> <span data-ttu-id="2b39f-201">Un destino de colocación puede ser un <xref:System.Windows.UIElement> o un <xref:System.Windows.ContentElement>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-201">A drop target can be <xref:System.Windows.UIElement> or a <xref:System.Windows.ContentElement>.</span></span>  
  
- <span data-ttu-id="2b39f-202">En el destino de colocación, establezca la propiedad <xref:System.Windows.UIElement.AllowDrop%2A> en `true`.</span><span class="sxs-lookup"><span data-stu-id="2b39f-202">On the drop target, set the <xref:System.Windows.UIElement.AllowDrop%2A> property to `true`.</span></span>  
  
- <span data-ttu-id="2b39f-203">En el destino de colocación, cree un controlador de eventos <xref:System.Windows.DragDrop.Drop> para procesar los datos colocados.</span><span class="sxs-lookup"><span data-stu-id="2b39f-203">In the drop target, create a <xref:System.Windows.DragDrop.Drop> event handler to process the dropped data.</span></span>  
  
- <span data-ttu-id="2b39f-204">En el controlador de eventos <xref:System.Windows.DragDrop.Drop>, extraiga los datos de <xref:System.Windows.DragEventArgs> mediante los métodos <xref:System.Windows.DataObject.GetDataPresent%2A> y <xref:System.Windows.DataObject.GetData%2A>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-204">In the <xref:System.Windows.DragDrop.Drop> event handler, extract the data from the <xref:System.Windows.DragEventArgs> by using the <xref:System.Windows.DataObject.GetDataPresent%2A> and <xref:System.Windows.DataObject.GetData%2A> methods.</span></span>  
  
- <span data-ttu-id="2b39f-205">En el controlador de eventos <xref:System.Windows.DragDrop.Drop>, use los datos para realizar la operación de arrastrar y colocar deseada.</span><span class="sxs-lookup"><span data-stu-id="2b39f-205">In the <xref:System.Windows.DragDrop.Drop> event handler, use the data to perform the desired drag-and-drop operation.</span></span>  
  
 <span data-ttu-id="2b39f-206">Puede mejorar la implementación de arrastrar y colocar creando un <xref:System.Windows.DataObject> personalizado y controlando eventos opcionales de origen de arrastre y destino de colocación, como se muestra en las siguientes tareas:</span><span class="sxs-lookup"><span data-stu-id="2b39f-206">You can enhance your drag-and-drop implementation by creating a custom <xref:System.Windows.DataObject> and by handling optional drag source and drop target events, as shown in the following tasks:</span></span>  
  
- <span data-ttu-id="2b39f-207">Para transferir datos personalizados o varios elementos de datos, cree un <xref:System.Windows.DataObject> para pasar al método <xref:System.Windows.DragDrop.DoDragDrop%2A>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-207">To transfer custom data or multiple data items, create a <xref:System.Windows.DataObject> to pass to the <xref:System.Windows.DragDrop.DoDragDrop%2A> method.</span></span>  
  
- <span data-ttu-id="2b39f-208">Para realizar acciones adicionales durante un arrastre, controle los eventos <xref:System.Windows.DragDrop.DragEnter>, <xref:System.Windows.DragDrop.DragOver> y <xref:System.Windows.DragDrop.DragLeave> en el destino de colocación.</span><span class="sxs-lookup"><span data-stu-id="2b39f-208">To perform additional actions during a drag, handle the <xref:System.Windows.DragDrop.DragEnter>, <xref:System.Windows.DragDrop.DragOver>, and <xref:System.Windows.DragDrop.DragLeave> events on the drop target.</span></span>  
  
- <span data-ttu-id="2b39f-209">Para cambiar la apariencia del puntero del mouse, controle el evento <xref:System.Windows.DragDrop.GiveFeedback> en el origen de arrastre.</span><span class="sxs-lookup"><span data-stu-id="2b39f-209">To change the appearance of the mouse pointer, handle the <xref:System.Windows.DragDrop.GiveFeedback> event on the drag source.</span></span>  
  
- <span data-ttu-id="2b39f-210">Para cambiar cómo se cancela la operación de arrastrar y colocar, controle el evento <xref:System.Windows.DragDrop.QueryContinueDrag> en el origen de arrastre.</span><span class="sxs-lookup"><span data-stu-id="2b39f-210">To change how the drag-and-drop operation is canceled, handle the <xref:System.Windows.DragDrop.QueryContinueDrag> event on the drag source.</span></span>  
  
<a name="Drag_And_Drop_Example"></a>
## <a name="drag-and-drop-example"></a><span data-ttu-id="2b39f-211">Ejemplo de arrastrar y colocar</span><span class="sxs-lookup"><span data-stu-id="2b39f-211">Drag-and-Drop Example</span></span>  
 <span data-ttu-id="2b39f-212">En esta sección se describe cómo se implementa una operación de arrastrar y colocar para un elemento <xref:System.Windows.Shapes.Ellipse>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-212">This section describes how to implement drag-and-drop for an <xref:System.Windows.Shapes.Ellipse> element.</span></span> <span data-ttu-id="2b39f-213"><xref:System.Windows.Shapes.Ellipse> es tanto un origen de arrastre como un destino de colocación.</span><span class="sxs-lookup"><span data-stu-id="2b39f-213">The <xref:System.Windows.Shapes.Ellipse> is both a drag source and a drop target.</span></span> <span data-ttu-id="2b39f-214">Los datos transferidos son la representación de cadena de la propiedad <xref:System.Windows.Shapes.Shape.Fill%2A> de la elipse.</span><span class="sxs-lookup"><span data-stu-id="2b39f-214">The transferred data is the string representation of the ellipse’s <xref:System.Windows.Shapes.Shape.Fill%2A> property.</span></span> <span data-ttu-id="2b39f-215">El siguiente XAML muestra el elemento <xref:System.Windows.Shapes.Ellipse> y los eventos relacionados de arrastrar y colocar que controla.</span><span class="sxs-lookup"><span data-stu-id="2b39f-215">The following XAML shows the <xref:System.Windows.Shapes.Ellipse> element and the drag-and-drop related events that it handles.</span></span> <span data-ttu-id="2b39f-216">Si desea conocer los pasos completos para implementar una función de arrastrar y colocar, consulte [Tutorial: Habilitar la técnica de arrastrar y colocar en un control de usuario](walkthrough-enabling-drag-and-drop-on-a-user-control.md).</span><span class="sxs-lookup"><span data-stu-id="2b39f-216">For complete steps on how to implement drag-and-drop, see [Walkthrough: Enabling Drag and Drop on a User Control](walkthrough-enabling-drag-and-drop-on-a-user-control.md).</span></span>  
  
 [!code-xaml[DragDropSnippets#EllipseXaml](~/samples/snippets/csharp/VS_Snippets_Wpf/dragdropsnippets/cs/mainwindow.xaml#ellipsexaml)]  
  
### <a name="enabling-an-element-to-be-a-drag-source"></a><span data-ttu-id="2b39f-217">Habilitar un elemento para que sea un origen de arrastre</span><span class="sxs-lookup"><span data-stu-id="2b39f-217">Enabling an Element to be a Drag Source</span></span>  
 <span data-ttu-id="2b39f-218">Un objeto que es un origen de arrastre es responsable de:</span><span class="sxs-lookup"><span data-stu-id="2b39f-218">An object that is a drag source is responsible for:</span></span>  
  
- <span data-ttu-id="2b39f-219">Identificar cuándo se produce un arrastre.</span><span class="sxs-lookup"><span data-stu-id="2b39f-219">Identifying when a drag occurs.</span></span>  
  
- <span data-ttu-id="2b39f-220">Iniciar la operación de arrastrar y colocar.</span><span class="sxs-lookup"><span data-stu-id="2b39f-220">Initiating the drag-and-drop operation.</span></span>  
  
- <span data-ttu-id="2b39f-221">Identificar los datos que se van a transferir.</span><span class="sxs-lookup"><span data-stu-id="2b39f-221">Identifying the data to be transferred.</span></span>  
  
- <span data-ttu-id="2b39f-222">Especificar los efectos que puede tener la operación de arrastrar y colocar en los datos transferidos.</span><span class="sxs-lookup"><span data-stu-id="2b39f-222">Specifying the effects that the drag-and-drop operation is allowed to have on the transferred data.</span></span>  
  
 <span data-ttu-id="2b39f-223">El origen de arrastre también puede proporcionar información al usuario sobre las acciones permitidas (mover, copiar, ninguna) y puede cancelar la operación de arrastrar y colocar en función de las acciones del usuario, como presionar la tecla ESC durante la operación de arrastre.</span><span class="sxs-lookup"><span data-stu-id="2b39f-223">The drag source may also give feedback to the user regarding the allowed actions (move, copy, none), and can cancel the drag-and-drop operation based on additional user input, such as pressing the ESC key during the drag.</span></span>  
  
 <span data-ttu-id="2b39f-224">Es responsabilidad de la aplicación determinar cuándo se produce un arrastre y, a continuación, iniciar la operación de arrastrar y colocar mediante una llamada al método <xref:System.Windows.DragDrop.DoDragDrop%2A>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-224">It is the responsibility of your application to determine when a drag occurs, and then initiate the drag-and-drop operation by calling the <xref:System.Windows.DragDrop.DoDragDrop%2A> method.</span></span> <span data-ttu-id="2b39f-225">Normalmente, es cuando se produce un evento <xref:System.Windows.UIElement.MouseMove> en el elemento que se va a arrastrar mientras se presiona un botón del mouse.</span><span class="sxs-lookup"><span data-stu-id="2b39f-225">Typically, this is when a <xref:System.Windows.UIElement.MouseMove> event occurs over the element to be dragged while a mouse button is pressed.</span></span> <span data-ttu-id="2b39f-226">En el ejemplo siguiente se muestra cómo iniciar una operación de arrastrar y colocar desde el controlador de eventos <xref:System.Windows.UIElement.MouseMove> de un elemento <xref:System.Windows.Shapes.Ellipse> para convertirlo en un origen de arrastre.</span><span class="sxs-lookup"><span data-stu-id="2b39f-226">The following example shows how to initiate a drag-and-drop operation from the <xref:System.Windows.UIElement.MouseMove> event handler of an <xref:System.Windows.Shapes.Ellipse> element to make it a drag source.</span></span> <span data-ttu-id="2b39f-227">Los datos transferidos son la representación de cadena de la propiedad <xref:System.Windows.Shapes.Shape.Fill%2A> de la elipse.</span><span class="sxs-lookup"><span data-stu-id="2b39f-227">The transferred data is the string representation of the ellipse’s <xref:System.Windows.Shapes.Shape.Fill%2A> property.</span></span>  
  
 [!code-csharp[DragDropSnippets#DoDragDrop](~/samples/snippets/csharp/VS_Snippets_Wpf/dragdropsnippets/cs/mainwindow.xaml.cs#dodragdrop)]
 [!code-vb[DragDropSnippets#DoDragDrop](~/samples/snippets/visualbasic/VS_Snippets_Wpf/dragdropsnippets/vb/mainwindow.xaml.vb#dodragdrop)]  
  
 <span data-ttu-id="2b39f-228">Dentro del controlador de eventos <xref:System.Windows.UIElement.MouseMove>, llame al método <xref:System.Windows.DragDrop.DoDragDrop%2A> para que inicie la operación de arrastrar y colocar.</span><span class="sxs-lookup"><span data-stu-id="2b39f-228">Inside of the <xref:System.Windows.UIElement.MouseMove> event handler, call the <xref:System.Windows.DragDrop.DoDragDrop%2A> method to initiate the drag-and-drop operation.</span></span> <span data-ttu-id="2b39f-229">El método <xref:System.Windows.DragDrop.DoDragDrop%2A> toma tres parámetros:</span><span class="sxs-lookup"><span data-stu-id="2b39f-229">The <xref:System.Windows.DragDrop.DoDragDrop%2A> method takes three parameters:</span></span>  
  
- <span data-ttu-id="2b39f-230">`dragSource` – Una referencia al objeto de dependencia que es el origen de los datos transferidos; suele ser el origen del evento <xref:System.Windows.UIElement.MouseMove>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-230">`dragSource` – A reference to the dependency object that is the source of the transferred data; this is typically the source of the <xref:System.Windows.UIElement.MouseMove> event.</span></span>  
  
- <span data-ttu-id="2b39f-231">`data` – Un objeto que contiene los datos transferidos, ajustados en un <xref:System.Windows.DataObject>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-231">`data` - An object that contains the transferred data, wrapped in a <xref:System.Windows.DataObject>.</span></span>  
  
- <span data-ttu-id="2b39f-232">`allowedEffects` – Uno de los valores de enumeración <xref:System.Windows.DragDropEffects> que especifica los efectos permitidos de la operación de arrastrar y colocar.</span><span class="sxs-lookup"><span data-stu-id="2b39f-232">`allowedEffects` - One of the <xref:System.Windows.DragDropEffects> enumeration values that specifies the permitted effects of the drag-and-drop operation.</span></span>  
  
 <span data-ttu-id="2b39f-233">Puede pasar cualquier objeto serializable en el parámetro `data`.</span><span class="sxs-lookup"><span data-stu-id="2b39f-233">Any serializable object can be passed in the `data` parameter.</span></span> <span data-ttu-id="2b39f-234">Si los datos todavía no están ajustados en un <xref:System.Windows.DataObject>, se ajustarán automáticamente en un <xref:System.Windows.DataObject> nuevo.</span><span class="sxs-lookup"><span data-stu-id="2b39f-234">If the data is not already wrapped in a <xref:System.Windows.DataObject>, it will automatically be wrapped in a new <xref:System.Windows.DataObject>.</span></span> <span data-ttu-id="2b39f-235">Para pasar varios elementos de datos, debe crear por su cuenta el <xref:System.Windows.DataObject> y pasarlo al método <xref:System.Windows.DragDrop.DoDragDrop%2A>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-235">To pass multiple data items, you must create the <xref:System.Windows.DataObject> yourself, and pass it to the <xref:System.Windows.DragDrop.DoDragDrop%2A> method.</span></span> <span data-ttu-id="2b39f-236">Para obtener más información, consulte [Datos y objetos de datos](data-and-data-objects.md).</span><span class="sxs-lookup"><span data-stu-id="2b39f-236">For more information, see [Data and Data Objects](data-and-data-objects.md).</span></span>  
  
 <span data-ttu-id="2b39f-237">El parámetro `allowedEffects` se usa para especificar lo que el origen de arrastre permitirá que haga el destino de colocación con los datos transferidos.</span><span class="sxs-lookup"><span data-stu-id="2b39f-237">The `allowedEffects` parameter is used to specify what the drag source will allow the drop target to do with the transferred data.</span></span> <span data-ttu-id="2b39f-238">Los valores comunes para un origen de arrastre son <xref:System.Windows.DragDropEffects.Copy>, <xref:System.Windows.DragDropEffects.Move> y <xref:System.Windows.DragDropEffects.All>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-238">The common values for a drag source are <xref:System.Windows.DragDropEffects.Copy>, <xref:System.Windows.DragDropEffects.Move>, and <xref:System.Windows.DragDropEffects.All>.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="2b39f-239">El destino de colocación también puede especificar qué efectos desea tener como respuesta a los datos colocados.</span><span class="sxs-lookup"><span data-stu-id="2b39f-239">The drop target is also able to specify what effects it intends in response to the dropped data.</span></span> <span data-ttu-id="2b39f-240">Por ejemplo, si el destino de colocación no reconoce el tipo de datos que se van a colocar, puede rechazar los datos estableciendo sus efectos permitidos en <xref:System.Windows.DragDropEffects.None>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-240">For example, if the drop target does not recognize the data type to be dropped, it can refuse the data by setting its allowed effects to <xref:System.Windows.DragDropEffects.None>.</span></span> <span data-ttu-id="2b39f-241">Normalmente lo hace en su controlador de eventos <xref:System.Windows.DragDrop.DragOver>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-241">It typically does this in its <xref:System.Windows.DragDrop.DragOver> event handler.</span></span>  
  
 <span data-ttu-id="2b39f-242">Opcionalmente, un origen de arrastre puede controlar los eventos <xref:System.Windows.DragDrop.GiveFeedback> y <xref:System.Windows.DragDrop.QueryContinueDrag>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-242">A drag source can optionally handle the <xref:System.Windows.DragDrop.GiveFeedback> and <xref:System.Windows.DragDrop.QueryContinueDrag> events.</span></span> <span data-ttu-id="2b39f-243">Estos eventos tienen controladores predeterminados que se usan a menos que marque los eventos como controlados.</span><span class="sxs-lookup"><span data-stu-id="2b39f-243">These events have default handlers that are used unless you mark the events as handled.</span></span> <span data-ttu-id="2b39f-244">Normalmente, omitirá estos eventos a menos que necesite cambiar su comportamiento predeterminado.</span><span class="sxs-lookup"><span data-stu-id="2b39f-244">You will typically ignore these events unless you have a specific need to change their default behavior.</span></span>  
  
 <span data-ttu-id="2b39f-245">El evento <xref:System.Windows.DragDrop.GiveFeedback> se produce continuamente mientras se arrastra el origen de arrastre.</span><span class="sxs-lookup"><span data-stu-id="2b39f-245">The <xref:System.Windows.DragDrop.GiveFeedback> event is raised continuously while the drag source is being dragged.</span></span> <span data-ttu-id="2b39f-246">El controlador predeterminado de este evento comprueba si el origen de arrastre se encuentra sobre un destino para colocar válido.</span><span class="sxs-lookup"><span data-stu-id="2b39f-246">The default handler for this event checks whether the drag source is over a valid drop target.</span></span> <span data-ttu-id="2b39f-247">Si es así, comprueba los efectos permitidos del destino de colocación.</span><span class="sxs-lookup"><span data-stu-id="2b39f-247">If it is, it checks the allowed effects of the drop target.</span></span> <span data-ttu-id="2b39f-248">A continuación, ofrece información al usuario final sobre los efectos de colocación permitidos.</span><span class="sxs-lookup"><span data-stu-id="2b39f-248">It then gives feedback to the end user regarding the allowed drop effects.</span></span> <span data-ttu-id="2b39f-249">Esto suele hacerse cambiando el cursor del mouse al cursor de mover, copiar o no colocar.</span><span class="sxs-lookup"><span data-stu-id="2b39f-249">This is typically done by changing the mouse cursor to a no-drop, copy, or move cursor.</span></span> <span data-ttu-id="2b39f-250">Solo se debe controlar este evento si necesita usar cursores personalizados para proporcionar información al usuario.</span><span class="sxs-lookup"><span data-stu-id="2b39f-250">You should only handle this event if you need to use custom cursors to provide feedback to the user.</span></span> <span data-ttu-id="2b39f-251">Si controla este evento, asegúrese de marcarlo como controlado para que el controlador predeterminado no invalide el controlador.</span><span class="sxs-lookup"><span data-stu-id="2b39f-251">If you handle this event, be sure to mark it as handled so that the default handler does not override your handler.</span></span>  
  
 <span data-ttu-id="2b39f-252">El evento <xref:System.Windows.DragDrop.QueryContinueDrag> se produce continuamente mientras se arrastra el origen de arrastre.</span><span class="sxs-lookup"><span data-stu-id="2b39f-252">The <xref:System.Windows.DragDrop.QueryContinueDrag> event is raised continuously while the drag source is being dragged.</span></span> <span data-ttu-id="2b39f-253">Puede controlar este evento para determinar qué acción finaliza la operación de arrastrar y colocar en función del estado de las teclas ESC, MAYÚS, CTRL y ALT, así como el estado de los botones del mouse.</span><span class="sxs-lookup"><span data-stu-id="2b39f-253">You can handle this event to determine what action ends the drag-and-drop operation based on the state of the ESC, SHIFT, CTRL, and ALT keys, as well as the state of the mouse buttons.</span></span> <span data-ttu-id="2b39f-254">El controlador predeterminado para este evento cancela la operación de arrastrar y colocar si se presiona la tecla ESC y coloca los datos si se suelta el botón del mouse.</span><span class="sxs-lookup"><span data-stu-id="2b39f-254">The default handler for this event cancels the drag-and-drop operation if the ESC key is pressed, and drops the data if the mouse button is released.</span></span>  
  
> [!CAUTION]
> <span data-ttu-id="2b39f-255">Estos eventos se generan continuamente durante la operación de arrastrar y colocar.</span><span class="sxs-lookup"><span data-stu-id="2b39f-255">These events are raised continuously during the drag-and-drop operation.</span></span> <span data-ttu-id="2b39f-256">Por lo tanto, debe evitar las tareas que consumen muchos recursos en los controladores de eventos.</span><span class="sxs-lookup"><span data-stu-id="2b39f-256">Therefore, you should avoid resource-intensive tasks in the event handlers.</span></span>  <span data-ttu-id="2b39f-257">Por ejemplo, use un cursor en caché en lugar de crear un nuevo cursor cada vez que se produzca el evento <xref:System.Windows.DragDrop.GiveFeedback>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-257">For example, use a cached cursor instead of creating a new cursor each time the <xref:System.Windows.DragDrop.GiveFeedback> event is raised.</span></span>  
  
### <a name="enabling-an-element-to-be-a-drop-target"></a><span data-ttu-id="2b39f-258">Habilitar un elemento para que sea un destino de colocación</span><span class="sxs-lookup"><span data-stu-id="2b39f-258">Enabling an Element to be a Drop Target</span></span>  
 <span data-ttu-id="2b39f-259">Un objeto que es un destino de colocación es responsable de:</span><span class="sxs-lookup"><span data-stu-id="2b39f-259">An object that is a drop target is responsible for:</span></span>  
  
- <span data-ttu-id="2b39f-260">Especificar que es un destino de colocación válido.</span><span class="sxs-lookup"><span data-stu-id="2b39f-260">Specifying that it is a valid drop target.</span></span>  
  
- <span data-ttu-id="2b39f-261">Responder al origen de arrastre cuando se arrastra sobre el destino.</span><span class="sxs-lookup"><span data-stu-id="2b39f-261">Responding to the drag source when it drags over the target.</span></span>  
  
- <span data-ttu-id="2b39f-262">Comprobar que los datos transferidos están en un formato que puede recibir.</span><span class="sxs-lookup"><span data-stu-id="2b39f-262">Checking that the transferred data is in a format that it can receive.</span></span>  
  
- <span data-ttu-id="2b39f-263">Procesar los datos colocados.</span><span class="sxs-lookup"><span data-stu-id="2b39f-263">Processing the dropped data.</span></span>  
  
 <span data-ttu-id="2b39f-264">Para especificar que un elemento es un destino de colocación, su propiedad <xref:System.Windows.UIElement.AllowDrop%2A> se establece en `true`.</span><span class="sxs-lookup"><span data-stu-id="2b39f-264">To specify that an element is a drop target, you set its <xref:System.Windows.UIElement.AllowDrop%2A> property to `true`.</span></span> <span data-ttu-id="2b39f-265">A continuación, se generarán los eventos del destino de colocación en el elemento para que pueda controlarlos.</span><span class="sxs-lookup"><span data-stu-id="2b39f-265">The drop target events will then be raised on the element so that you can handle them.</span></span> <span data-ttu-id="2b39f-266">Durante una operación de arrastrar y colocar, se produce la siguiente secuencia de eventos en el destino de colocación:</span><span class="sxs-lookup"><span data-stu-id="2b39f-266">During a drag-and-drop operation, the following sequence of events occurs on the drop target:</span></span>  
  
1. <xref:System.Windows.DragDrop.DragEnter>  
  
2. <xref:System.Windows.DragDrop.DragOver>  
  
3. <span data-ttu-id="2b39f-267"><xref:System.Windows.DragDrop.DragLeave> o <xref:System.Windows.DragDrop.Drop></span><span class="sxs-lookup"><span data-stu-id="2b39f-267"><xref:System.Windows.DragDrop.DragLeave> or <xref:System.Windows.DragDrop.Drop></span></span>  
  
 <span data-ttu-id="2b39f-268">El evento <xref:System.Windows.DragDrop.DragEnter> se produce cuando se arrastran los datos dentro de los límites del destino de colocación.</span><span class="sxs-lookup"><span data-stu-id="2b39f-268">The <xref:System.Windows.DragDrop.DragEnter> event occurs when the data is dragged into the drop target's boundary.</span></span> <span data-ttu-id="2b39f-269">Normalmente, este evento se controla para que proporcione una vista previa de los efectos de la operación de arrastrar y colocar, si es adecuado para la aplicación.</span><span class="sxs-lookup"><span data-stu-id="2b39f-269">You typically handle this event to provide a preview of the effects of the drag-and-drop operation, if appropriate for your application.</span></span> <span data-ttu-id="2b39f-270">No establezca la propiedad <xref:System.Windows.DragEventArgs.Effects%2A?displayProperty=nameWithType> en el evento <xref:System.Windows.DragDrop.DragEnter>, ya que se sobrescribirá en el evento <xref:System.Windows.DragDrop.DragOver>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-270">Do not set the <xref:System.Windows.DragEventArgs.Effects%2A?displayProperty=nameWithType> property in the <xref:System.Windows.DragDrop.DragEnter> event, as it will be overwritten in the <xref:System.Windows.DragDrop.DragOver> event.</span></span>  
  
 <span data-ttu-id="2b39f-271">El ejemplo siguiente muestra el controlador de eventos <xref:System.Windows.DragDrop.DragEnter> para un elemento <xref:System.Windows.Shapes.Ellipse>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-271">The following example shows the <xref:System.Windows.DragDrop.DragEnter> event handler for an <xref:System.Windows.Shapes.Ellipse> element.</span></span> <span data-ttu-id="2b39f-272">Este código muestra una vista previa de los efectos de la operación de arrastrar y colocar guardando el pincel <xref:System.Windows.Shapes.Shape.Fill%2A> actual.</span><span class="sxs-lookup"><span data-stu-id="2b39f-272">This code previews the effects of the drag-and-drop operation by saving the current <xref:System.Windows.Shapes.Shape.Fill%2A> brush.</span></span> <span data-ttu-id="2b39f-273">A continuación, usa el método <xref:System.Windows.DataObject.GetDataPresent%2A> para comprobar si el <xref:System.Windows.DataObject> que se está arrastrando sobre la elipse contiene datos de cadena que se pueden convertir en un <xref:System.Windows.Media.Brush>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-273">It then uses the <xref:System.Windows.DataObject.GetDataPresent%2A> method to check whether the <xref:System.Windows.DataObject> being dragged over the ellipse contains string data that can be converted to a <xref:System.Windows.Media.Brush>.</span></span> <span data-ttu-id="2b39f-274">Si es así, los datos se extraen mediante el método <xref:System.Windows.DataObject.GetData%2A>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-274">If so, the data is extracted using the <xref:System.Windows.DataObject.GetData%2A> method.</span></span> <span data-ttu-id="2b39f-275">A continuación, se convierte en un <xref:System.Windows.Media.Brush> y se aplica a la elipse.</span><span class="sxs-lookup"><span data-stu-id="2b39f-275">It is then converted to a <xref:System.Windows.Media.Brush> and applied to the ellipse.</span></span> <span data-ttu-id="2b39f-276">El cambio se revierte en el controlador de eventos <xref:System.Windows.DragDrop.DragLeave>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-276">The change is reverted in the <xref:System.Windows.DragDrop.DragLeave> event handler.</span></span> <span data-ttu-id="2b39f-277">Si los datos no se pueden convertir en un <xref:System.Windows.Media.Brush>, no se lleva a cabo ninguna acción.</span><span class="sxs-lookup"><span data-stu-id="2b39f-277">If the data cannot be converted to a <xref:System.Windows.Media.Brush>, no action is performed.</span></span>  
  
 [!code-csharp[DragDropSnippets#DragEnter](~/samples/snippets/csharp/VS_Snippets_Wpf/dragdropsnippets/cs/mainwindow.xaml.cs#dragenter)]
 [!code-vb[DragDropSnippets#DragEnter](~/samples/snippets/visualbasic/VS_Snippets_Wpf/dragdropsnippets/vb/mainwindow.xaml.vb#dragenter)]  
  
 <span data-ttu-id="2b39f-278">El evento <xref:System.Windows.DragDrop.DragOver> se produce continuamente mientras se arrastran los datos sobre el destino de colocación.</span><span class="sxs-lookup"><span data-stu-id="2b39f-278">The <xref:System.Windows.DragDrop.DragOver> event occurs continuously while the data is dragged over the drop target.</span></span> <span data-ttu-id="2b39f-279">Este evento se empareja con el evento <xref:System.Windows.DragDrop.GiveFeedback> en el origen de arrastre.</span><span class="sxs-lookup"><span data-stu-id="2b39f-279">This event is paired with the <xref:System.Windows.DragDrop.GiveFeedback> event on the drag source.</span></span> <span data-ttu-id="2b39f-280">En el controlador de eventos <xref:System.Windows.DragDrop.DragOver>, suelen usarse los métodos <xref:System.Windows.DataObject.GetDataPresent%2A> y <xref:System.Windows.DataObject.GetData%2A> para comprobar si los datos transferidos están en un formato que el destino de colocación puede procesar.</span><span class="sxs-lookup"><span data-stu-id="2b39f-280">In the <xref:System.Windows.DragDrop.DragOver> event handler, you typically use the <xref:System.Windows.DataObject.GetDataPresent%2A> and <xref:System.Windows.DataObject.GetData%2A> methods to check whether the transferred data is in a format that the drop target can process.</span></span> <span data-ttu-id="2b39f-281">También se puede comprobar si está presionada alguna tecla modificadora, lo que normalmente indicará si el usuario pretende realizar una acción de mover o copiar.</span><span class="sxs-lookup"><span data-stu-id="2b39f-281">You can also check whether any modifier keys are pressed, which will typically indicate whether the user intends a move or copy action.</span></span> <span data-ttu-id="2b39f-282">Una vez realizadas estas comprobaciones, se establece la propiedad <xref:System.Windows.DragEventArgs.Effects%2A?displayProperty=nameWithType> para que notifique al origen de arrastre qué efectos tendrá la colocación de los datos.</span><span class="sxs-lookup"><span data-stu-id="2b39f-282">After these checks are performed, you set the <xref:System.Windows.DragEventArgs.Effects%2A?displayProperty=nameWithType> property to notify the drag source what effect dropping the data will have.</span></span> <span data-ttu-id="2b39f-283">El origen de arrastre recibe esta información en los argumentos del evento <xref:System.Windows.DragDrop.GiveFeedback> y puede establecer un cursor apropiado para proporcionar información al usuario.</span><span class="sxs-lookup"><span data-stu-id="2b39f-283">The drag source receives this information in the <xref:System.Windows.DragDrop.GiveFeedback> event args, and can set an appropriate cursor to give feedback to the user.</span></span>  
  
 <span data-ttu-id="2b39f-284">El ejemplo siguiente muestra el controlador de eventos <xref:System.Windows.DragDrop.DragOver> para un elemento <xref:System.Windows.Shapes.Ellipse>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-284">The following example shows the <xref:System.Windows.DragDrop.DragOver> event handler for an <xref:System.Windows.Shapes.Ellipse> element.</span></span> <span data-ttu-id="2b39f-285">Este código comprueba si el <xref:System.Windows.DataObject> que se está arrastrando sobre la elipse contiene datos de cadena que se pueden convertir en un <xref:System.Windows.Media.Brush>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-285">This code checks to see if the <xref:System.Windows.DataObject> being dragged over the ellipse contains string data that can be converted to a <xref:System.Windows.Media.Brush>.</span></span> <span data-ttu-id="2b39f-286">Si es así, establece la propiedad <xref:System.Windows.DragEventArgs.Effects%2A?displayProperty=nameWithType> en <xref:System.Windows.DragDropEffects.Copy>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-286">If so, it sets the <xref:System.Windows.DragEventArgs.Effects%2A?displayProperty=nameWithType> property to <xref:System.Windows.DragDropEffects.Copy>.</span></span> <span data-ttu-id="2b39f-287">Esto indica al origen de arrastre que los datos se pueden copiar a la elipse.</span><span class="sxs-lookup"><span data-stu-id="2b39f-287">This indicates to the drag source that the data can be copied to the ellipse.</span></span> <span data-ttu-id="2b39f-288">Si los datos no se pueden convertir en un <xref:System.Windows.Media.Brush>, la propiedad <xref:System.Windows.DragEventArgs.Effects%2A?displayProperty=nameWithType> se establece en <xref:System.Windows.DragDropEffects.None>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-288">If the data cannot be converted to a <xref:System.Windows.Media.Brush>, the <xref:System.Windows.DragEventArgs.Effects%2A?displayProperty=nameWithType> property is set to <xref:System.Windows.DragDropEffects.None>.</span></span> <span data-ttu-id="2b39f-289">Esto indica al origen de arrastre que la elipse no es un destino para colocar válido para los datos.</span><span class="sxs-lookup"><span data-stu-id="2b39f-289">This indicates to the drag source that the ellipse is not a valid drop target for the data.</span></span>  
  
 [!code-csharp[DragDropSnippets#DragOver](~/samples/snippets/csharp/VS_Snippets_Wpf/dragdropsnippets/cs/mainwindow.xaml.cs#dragover)]
 [!code-vb[DragDropSnippets#DragOver](~/samples/snippets/visualbasic/VS_Snippets_Wpf/dragdropsnippets/vb/mainwindow.xaml.vb#dragover)]  
  
 <span data-ttu-id="2b39f-290">El evento <xref:System.Windows.DragDrop.DragLeave> se produce cuando los datos se arrastran fuera de los límites del destino sin colocarse.</span><span class="sxs-lookup"><span data-stu-id="2b39f-290">The <xref:System.Windows.DragDrop.DragLeave> event occurs when the data is dragged out of the target's boundary without being dropped.</span></span> <span data-ttu-id="2b39f-291">Este evento se controla para deshacer todo lo que se hizo en el controlador de eventos <xref:System.Windows.DragDrop.DragEnter>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-291">You handle this event to undo anything that you did in the <xref:System.Windows.DragDrop.DragEnter> event handler.</span></span>  
  
 <span data-ttu-id="2b39f-292">El ejemplo siguiente muestra el controlador de eventos <xref:System.Windows.DragDrop.DragLeave> para un elemento <xref:System.Windows.Shapes.Ellipse>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-292">The following example shows the <xref:System.Windows.DragDrop.DragLeave> event handler for an <xref:System.Windows.Shapes.Ellipse> element.</span></span> <span data-ttu-id="2b39f-293">Este código deshace la vista previa que se realizó en el controlador de eventos <xref:System.Windows.DragDrop.DragEnter> aplicando el <xref:System.Windows.Media.Brush> guardado a la elipse.</span><span class="sxs-lookup"><span data-stu-id="2b39f-293">This code undoes the preview performed in the <xref:System.Windows.DragDrop.DragEnter> event handler by applying the saved <xref:System.Windows.Media.Brush> to the ellipse.</span></span>  
  
 [!code-csharp[DragDropSnippets#DragLeave](~/samples/snippets/csharp/VS_Snippets_Wpf/dragdropsnippets/cs/mainwindow.xaml.cs#dragleave)]
 [!code-vb[DragDropSnippets#DragLeave](~/samples/snippets/visualbasic/VS_Snippets_Wpf/dragdropsnippets/vb/mainwindow.xaml.vb#dragleave)]  
  
 <span data-ttu-id="2b39f-294">El evento <xref:System.Windows.DragDrop.Drop> se produce cuando los datos se colocan sobre el destino de colocación; de forma predeterminada, esto ocurre cuando se suelta el botón del mouse.</span><span class="sxs-lookup"><span data-stu-id="2b39f-294">The <xref:System.Windows.DragDrop.Drop> event occurs when the data is dropped over the drop target; by default, this happens when the mouse button is released.</span></span> <span data-ttu-id="2b39f-295">En el controlador de eventos <xref:System.Windows.DragDrop.Drop>, se usa el método <xref:System.Windows.DataObject.GetData%2A> para extraer los datos transferidos desde el <xref:System.Windows.DataObject> y para realizar cualquier procesamiento de datos que requiere la aplicación.</span><span class="sxs-lookup"><span data-stu-id="2b39f-295">In the <xref:System.Windows.DragDrop.Drop> event handler, you use the <xref:System.Windows.DataObject.GetData%2A> method to extract the transferred data from the <xref:System.Windows.DataObject> and perform any data processing that your application requires.</span></span> <span data-ttu-id="2b39f-296">El evento <xref:System.Windows.DragDrop.Drop> finaliza la operación de arrastrar y colocar.</span><span class="sxs-lookup"><span data-stu-id="2b39f-296">The <xref:System.Windows.DragDrop.Drop> event ends the drag-and-drop operation.</span></span>  
  
 <span data-ttu-id="2b39f-297">El ejemplo siguiente muestra el controlador de eventos <xref:System.Windows.DragDrop.Drop> para un elemento <xref:System.Windows.Shapes.Ellipse>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-297">The following example shows the <xref:System.Windows.DragDrop.Drop> event handler for an <xref:System.Windows.Shapes.Ellipse> element.</span></span> <span data-ttu-id="2b39f-298">Este código aplica los efectos de la operación de arrastrar y colocar y es similar al código del controlador de eventos <xref:System.Windows.DragDrop.DragEnter>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-298">This code applies the effects of the drag-and-drop operation, and is similar to the code in the <xref:System.Windows.DragDrop.DragEnter> event handler.</span></span> <span data-ttu-id="2b39f-299">Comprueba si el <xref:System.Windows.DataObject> que se está arrastrando sobre la elipse contiene datos de cadena que se pueden convertir en un <xref:System.Windows.Media.Brush>.</span><span class="sxs-lookup"><span data-stu-id="2b39f-299">It checks to see if the <xref:System.Windows.DataObject> being dragged over the ellipse contains string data that can be converted to a <xref:System.Windows.Media.Brush>.</span></span> <span data-ttu-id="2b39f-300">Si es así, el <xref:System.Windows.Media.Brush> se aplica a la elipse.</span><span class="sxs-lookup"><span data-stu-id="2b39f-300">If so, the <xref:System.Windows.Media.Brush> is applied to the ellipse.</span></span> <span data-ttu-id="2b39f-301">Si los datos no se pueden convertir en un <xref:System.Windows.Media.Brush>, no se lleva a cabo ninguna acción.</span><span class="sxs-lookup"><span data-stu-id="2b39f-301">If the data cannot be converted to a <xref:System.Windows.Media.Brush>, no action is performed.</span></span>  
  
 [!code-csharp[DragDropSnippets#Drop](~/samples/snippets/csharp/VS_Snippets_Wpf/dragdropsnippets/cs/mainwindow.xaml.cs#drop)]
 [!code-vb[DragDropSnippets#Drop](~/samples/snippets/visualbasic/VS_Snippets_Wpf/dragdropsnippets/vb/mainwindow.xaml.vb#drop)]  
  
## <a name="see-also"></a><span data-ttu-id="2b39f-302">Consulte también</span><span class="sxs-lookup"><span data-stu-id="2b39f-302">See also</span></span>

- <xref:System.Windows.Clipboard>
- [<span data-ttu-id="2b39f-303">Tutorial: Habilitar la técnica de arrastrar y colocar en un control de usuario</span><span class="sxs-lookup"><span data-stu-id="2b39f-303">Walkthrough: Enabling Drag and Drop on a User Control</span></span>](walkthrough-enabling-drag-and-drop-on-a-user-control.md)
- [<span data-ttu-id="2b39f-304">Temas de información</span><span class="sxs-lookup"><span data-stu-id="2b39f-304">How-to Topics</span></span>](drag-and-drop-how-to-topics.md)
- [<span data-ttu-id="2b39f-305">Arrastrar y soltar</span><span class="sxs-lookup"><span data-stu-id="2b39f-305">Drag and Drop</span></span>](drag-and-drop.md)
