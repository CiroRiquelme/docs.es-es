---
title: Introducción a un cliente WCF
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- clients [WCF], architecture
ms.assetid: f60d9bc5-8ade-4471-8ecf-5a07a936c82d
ms.openlocfilehash: 7905d540e0f06dd2863cf80381210307e3021918
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/12/2020
ms.locfileid: "79183069"
---
# <a name="wcf-client-overview"></a><span data-ttu-id="ce001-102">Introducción a un cliente WCF</span><span class="sxs-lookup"><span data-stu-id="ce001-102">WCF Client Overview</span></span>
<span data-ttu-id="ce001-103">En esta sección se describe qué hacen las aplicaciones cliente, cómo configurar, crear y usar un cliente de Windows Communication Foundation (WCF) y cómo proteger las aplicaciones cliente.</span><span class="sxs-lookup"><span data-stu-id="ce001-103">This section describes what client applications do, how to configure, create, and use a Windows Communication Foundation (WCF) client, and how to secure client applications.</span></span>  
  
## <a name="using-wcf-client-objects"></a><span data-ttu-id="ce001-104">Utilización de objetos cliente WCF</span><span class="sxs-lookup"><span data-stu-id="ce001-104">Using WCF Client Objects</span></span>  
 <span data-ttu-id="ce001-105">Una aplicación cliente es una aplicación administrada que usa un cliente WCF para comunicarse con otra aplicación.</span><span class="sxs-lookup"><span data-stu-id="ce001-105">A client application is a managed application that uses a WCF client to communicate with another application.</span></span> <span data-ttu-id="ce001-106">Para crear una aplicación cliente para un servicio WCF requiere los pasos siguientes:</span><span class="sxs-lookup"><span data-stu-id="ce001-106">To create a client application for a WCF service requires the following steps:</span></span>  
  
1. <span data-ttu-id="ce001-107">Obtenga la información del contrato de servicio, el enlace y la dirección del extremo del servicio.</span><span class="sxs-lookup"><span data-stu-id="ce001-107">Obtain the service contract, bindings, and address information for a service endpoint.</span></span>  
  
2. <span data-ttu-id="ce001-108">Cree un cliente WCF con esa información.</span><span class="sxs-lookup"><span data-stu-id="ce001-108">Create a WCF client using that information.</span></span>  
  
3. <span data-ttu-id="ce001-109">Llame a las operaciones.</span><span class="sxs-lookup"><span data-stu-id="ce001-109">Call operations.</span></span>  
  
4. <span data-ttu-id="ce001-110">Cierre el objeto de cliente WCF.</span><span class="sxs-lookup"><span data-stu-id="ce001-110">Close the WCF client object.</span></span>  
  
 <span data-ttu-id="ce001-111">Las siguientes secciones explican estos pasos y proporcionan una breve introducción a las siguientes cuestiones:</span><span class="sxs-lookup"><span data-stu-id="ce001-111">The following sections discuss these steps and provide brief introductions to the following issues:</span></span>  
  
- <span data-ttu-id="ce001-112">Control de errores</span><span class="sxs-lookup"><span data-stu-id="ce001-112">Handling errors.</span></span>  
  
- <span data-ttu-id="ce001-113">Configuración y protección de los clientes.</span><span class="sxs-lookup"><span data-stu-id="ce001-113">Configuring and securing clients.</span></span>  
  
- <span data-ttu-id="ce001-114">Creación de objetos de devolución de llamada para los servicios dúplex.</span><span class="sxs-lookup"><span data-stu-id="ce001-114">Creating callback objects for duplex services.</span></span>  
  
- <span data-ttu-id="ce001-115">Llamada asincrónica a los servicios.</span><span class="sxs-lookup"><span data-stu-id="ce001-115">Calling services asynchronously.</span></span>  
  
- <span data-ttu-id="ce001-116">Llamada a los servicios mediante los canales cliente.</span><span class="sxs-lookup"><span data-stu-id="ce001-116">Calling services using client channels.</span></span>  
  
## <a name="obtain-the-service-contract-bindings-and-addresses"></a><span data-ttu-id="ce001-117">Obtención del contrato de servicios, los enlaces y las direcciones</span><span class="sxs-lookup"><span data-stu-id="ce001-117">Obtain the Service Contract, Bindings, and Addresses</span></span>  
 <span data-ttu-id="ce001-118">En WCF, los servicios y los clientes modelan contratos mediante atributos administrados, interfaces y métodos.</span><span class="sxs-lookup"><span data-stu-id="ce001-118">In WCF, services and clients model contracts using managed attributes, interfaces, and methods.</span></span> <span data-ttu-id="ce001-119">Para conectar con un servicio en una aplicación cliente, es necesario obtener la información del tipo de contrato de servicios.</span><span class="sxs-lookup"><span data-stu-id="ce001-119">To connect to a service in a client application, you need to obtain the type information for the service contract.</span></span> <span data-ttu-id="ce001-120">Normalmente, esto se hace mediante la herramienta de utilidad de metadatos de [ServiceModel (Svcutil.exe),](servicemodel-metadata-utility-tool-svcutil-exe.md)que descarga metadatos del servicio, lo convierte en un archivo de código fuente administrado en el idioma de su elección y crea un archivo de configuración de aplicación cliente que puede usar para configurar el objeto de cliente WCF.</span><span class="sxs-lookup"><span data-stu-id="ce001-120">Typically, you do this by using the [ServiceModel Metadata Utility Tool (Svcutil.exe)](servicemodel-metadata-utility-tool-svcutil-exe.md), which downloads metadata from the service, converts it to a managed source code file in the language of your choice, and creates a client application configuration file that you can use to configure your WCF client object.</span></span> <span data-ttu-id="ce001-121">Por ejemplo, si va a crear un objeto `MyCalculatorService`de cliente WCF para invocar un , `http://computerName/MyCalculatorService/Service.svc?wsdl`y sabe que los metadatos de ese servicio `ClientCode.vb` se publican en , el ejemplo de código siguiente muestra cómo usar Svcutil.exe para obtener un archivo que contiene el contrato de servicio en código administrado.</span><span class="sxs-lookup"><span data-stu-id="ce001-121">For example, if you are going to create an WCF client object to invoke a `MyCalculatorService`, and you know that the metadata for that service is published at `http://computerName/MyCalculatorService/Service.svc?wsdl`, then the following code example shows how to use Svcutil.exe to obtain a `ClientCode.vb` file that contains the service contract in managed code.</span></span>  
  
```console  
svcutil /language:vb /out:ClientCode.vb /config:app.config http://computerName/MyCalculatorService/Service.svc?wsdl  
```  
  
 <span data-ttu-id="ce001-122">Puede compilar este código de contrato en la aplicación cliente o en otro ensamblado que la aplicación cliente puede usar para crear un objeto de cliente WCF.</span><span class="sxs-lookup"><span data-stu-id="ce001-122">You can either compile this contract code into the client application or into another assembly that the client application can then use to create an WCF client object.</span></span> <span data-ttu-id="ce001-123">Puede utilizar el archivo de configuración y configurar el objeto de cliente para conectarse correctamente con el servicio.</span><span class="sxs-lookup"><span data-stu-id="ce001-123">You can use the configuration file to configure the client object to properly connect to the service .</span></span>  
  
 <span data-ttu-id="ce001-124">Para obtener un ejemplo de este proceso, vea [Cómo: Crear un cliente](how-to-create-a-wcf-client.md).</span><span class="sxs-lookup"><span data-stu-id="ce001-124">For an example of this process, see [How to: Create a Client](how-to-create-a-wcf-client.md).</span></span> <span data-ttu-id="ce001-125">Para obtener información más completa sobre los contratos, consulte [Contratos](./feature-details/contracts.md).</span><span class="sxs-lookup"><span data-stu-id="ce001-125">For more complete information about contracts, see [Contracts](./feature-details/contracts.md).</span></span>  
  
## <a name="create-a-wcf-client-object"></a><span data-ttu-id="ce001-126">Creación de un objeto de cliente de WCF</span><span class="sxs-lookup"><span data-stu-id="ce001-126">Create a WCF Client Object</span></span>  
 <span data-ttu-id="ce001-127">Un cliente WCF es un objeto local que representa un servicio WCF en un formulario que el cliente puede usar para comunicarse con el servicio remoto.</span><span class="sxs-lookup"><span data-stu-id="ce001-127">A WCF client is a local object that represents a WCF service in a form that the client can use to communicate with the remote service.</span></span> <span data-ttu-id="ce001-128">Los tipos de cliente WCF implementan el contrato de servicio de destino, por lo que al crear uno y configurarlo, puede usar el objeto de cliente directamente para invocar operaciones de servicio.</span><span class="sxs-lookup"><span data-stu-id="ce001-128">WCF client types implement the target service contract, so when you create one and configure it, you can then use the client object directly to invoke service operations.</span></span> <span data-ttu-id="ce001-129">El tiempo de ejecución de WCF convierte las llamadas al método en mensajes, los envía al servicio, `out` escucha `ref` la respuesta y devuelve esos valores al objeto de cliente WCF como valores devueltos o parámetros.</span><span class="sxs-lookup"><span data-stu-id="ce001-129">The WCF run time converts the method calls into messages, sends them to the service, listens for the reply, and returns those values to the WCF client object as return values or `out` or `ref` parameters.</span></span>  
  
 <span data-ttu-id="ce001-130">También puede usar objetos de canal de cliente WCF para conectarse con y usar servicios.</span><span class="sxs-lookup"><span data-stu-id="ce001-130">You can also use WCF client channel objects to connect with and use services.</span></span> <span data-ttu-id="ce001-131">Para obtener más información, vea [Arquitectura de cliente WCF](./feature-details/client-architecture.md).</span><span class="sxs-lookup"><span data-stu-id="ce001-131">For details, see [WCF Client Architecture](./feature-details/client-architecture.md).</span></span>  
  
#### <a name="creating-a-new-wcf-object"></a><span data-ttu-id="ce001-132">Creación de un nuevo objeto WCF</span><span class="sxs-lookup"><span data-stu-id="ce001-132">Creating a New WCF Object</span></span>  
 <span data-ttu-id="ce001-133">Para mostrar la utilización de una clase <xref:System.ServiceModel.ClientBase%601>, supongamos que el siguiente contrato de servicio simple se ha generado a partir de una aplicación de servicio.</span><span class="sxs-lookup"><span data-stu-id="ce001-133">To illustrate the use of a <xref:System.ServiceModel.ClientBase%601> class, assume the following simple service contract has been generated from a service application.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="ce001-134">Si usa Visual Studio para crear el cliente WCF, los objetos se cargan automáticamente en el explorador de objetos al agregar una referencia de servicio al proyecto.</span><span class="sxs-lookup"><span data-stu-id="ce001-134">If you are using Visual Studio to create your WCF client, objects are loaded automatically into the object browser when you add a service reference to your project.</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#12](../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#12)]  
  
 <span data-ttu-id="ce001-135">Si no usa Visual Studio, examine el código de contrato <xref:System.ServiceModel.ClientBase%601> generado para buscar `ISampleService`el tipo que se extiende y la interfaz de contrato de servicio.</span><span class="sxs-lookup"><span data-stu-id="ce001-135">If you are not using Visual Studio, examine the generated contract code to find the type that extends <xref:System.ServiceModel.ClientBase%601> and the service contract interface `ISampleService`.</span></span> <span data-ttu-id="ce001-136">En este caso, ese tipo es similar al código siguiente:</span><span class="sxs-lookup"><span data-stu-id="ce001-136">In this case, that type looks like the following code:</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#14](../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#14)]  
  
 <span data-ttu-id="ce001-137">Esta clase puede crearse como un objeto local, mediante uno de los constructores, configurarse y, a continuación, utilizarse para la conexión con un servicio del tipo `ISampleService`.</span><span class="sxs-lookup"><span data-stu-id="ce001-137">This class can be created as a local object using one of the constructors, configured, and then used to connect to a service of the type `ISampleService`.</span></span>  
  
 <span data-ttu-id="ce001-138">Se recomienda crear primero el objeto de cliente WCF y, a continuación, usarlo y cerrarlo dentro de un único bloque try/catch.</span><span class="sxs-lookup"><span data-stu-id="ce001-138">It is recommended that you create your WCF client object first, and then use it and close it inside a single try/catch block.</span></span> <span data-ttu-id="ce001-139">No debe usar `using` la`Using` instrucción ( en Visual Basic) porque puede enmascarar excepciones en determinados modos de error.</span><span class="sxs-lookup"><span data-stu-id="ce001-139">You should not use the `using` statement (`Using` in Visual Basic) because it may mask exceptions in certain failure modes.</span></span> <span data-ttu-id="ce001-140">Para obtener más información, vea las secciones siguientes, así como Usar cerrar y anular para liberar recursos de [cliente WCF.](./samples/use-close-abort-release-wcf-client-resources.md)</span><span class="sxs-lookup"><span data-stu-id="ce001-140">For more information, see the following sections as well as [Use Close and Abort to release WCF client resources](./samples/use-close-abort-release-wcf-client-resources.md).</span></span>  
  
### <a name="contracts-bindings-and-addresses"></a><span data-ttu-id="ce001-141">Contratos, enlaces y direcciones</span><span class="sxs-lookup"><span data-stu-id="ce001-141">Contracts, Bindings, and Addresses</span></span>  
 <span data-ttu-id="ce001-142">Para poder crear un objeto de cliente WCF, debe configurar el objeto de cliente.</span><span class="sxs-lookup"><span data-stu-id="ce001-142">Before you can create a WCF client object, you must configure the client object.</span></span> <span data-ttu-id="ce001-143">En concreto, debe tener un punto de *conexión* de servicio para usar.</span><span class="sxs-lookup"><span data-stu-id="ce001-143">Specifically, it must have a service *endpoint* to use.</span></span> <span data-ttu-id="ce001-144">Un punto de conexión es la combinación de un contrato de servicio, un enlace y una dirección.</span><span class="sxs-lookup"><span data-stu-id="ce001-144">An endpoint is the combination of a service contract, a binding, and an address.</span></span> <span data-ttu-id="ce001-145">(Para obtener más información acerca de los puntos de conexión, vea [puntos de conexión: direcciones, enlaces y contratos](./feature-details/endpoints-addresses-bindings-and-contracts.md).) Normalmente, esta información se [ \<](../configure-apps/file-schema/wcf/endpoint-of-client.md) encuentra en el extremo>elemento de un archivo de configuración de la aplicación cliente, como el que genera la herramienta Svcutil.exe y se carga automáticamente al crear el objeto de cliente.</span><span class="sxs-lookup"><span data-stu-id="ce001-145">(For more information about endpoints, see [Endpoints: Addresses, Bindings, and Contracts](./feature-details/endpoints-addresses-bindings-and-contracts.md).) Typically, this information is located in the [\<endpoint>](../configure-apps/file-schema/wcf/endpoint-of-client.md) element in a client application configuration file, such as the one the Svcutil.exe tool generates, and is loaded automatically when you create your client object.</span></span> <span data-ttu-id="ce001-146">Ambos tipos de cliente WCF también tienen sobrecargas que permiten especificar esta información mediante programación.</span><span class="sxs-lookup"><span data-stu-id="ce001-146">Both WCF client types also have overloads that enable you to programmatically specify this information.</span></span>  
  
 <span data-ttu-id="ce001-147">Por ejemplo, un archivo de configuración generado para el `ISampleService` utilizado en los ejemplos anteriores, contiene la información de extremo siguiente.</span><span class="sxs-lookup"><span data-stu-id="ce001-147">For example, a generated configuration file for an `ISampleService` used in the preceding examples contains the following endpoint information.</span></span>  
  
 [!code-xml[C_GeneratedCodeFiles#19](../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/common/client.exe.config#19)]  
  
 <span data-ttu-id="ce001-148">Este archivo de configuración especifica un punto de conexión de destino en el elemento `<client>`.</span><span class="sxs-lookup"><span data-stu-id="ce001-148">This configuration file specifies a target endpoint in the `<client>` element.</span></span> <span data-ttu-id="ce001-149">Para obtener más información sobre el <xref:System.ServiceModel.ClientBase%601.%23ctor%2A?displayProperty=nameWithType> uso <xref:System.ServiceModel.ChannelFactory%601.%23ctor%2A?displayProperty=nameWithType> de varios extremos de destino, vea los constructores o los constructores.</span><span class="sxs-lookup"><span data-stu-id="ce001-149">For more information about using multiple target endpoints, see the <xref:System.ServiceModel.ClientBase%601.%23ctor%2A?displayProperty=nameWithType> or the <xref:System.ServiceModel.ChannelFactory%601.%23ctor%2A?displayProperty=nameWithType> constructors.</span></span>  
  
## <a name="calling-operations"></a><span data-ttu-id="ce001-150">Llamadas a operaciones</span><span class="sxs-lookup"><span data-stu-id="ce001-150">Calling Operations</span></span>  
 <span data-ttu-id="ce001-151">Una vez que haya creado y configurado un objeto de cliente, cree un bloque try/catch, llame a las operaciones de la misma manera que lo haría si el objeto fuera local y cierre el objeto de cliente WCF.</span><span class="sxs-lookup"><span data-stu-id="ce001-151">Once you have a client object created and configured, create a try/catch block, call operations in the same way that you would if the object were local, and close the WCF client object.</span></span> <span data-ttu-id="ce001-152">Cuando la aplicación cliente llama a la primera operación, WCF abre automáticamente el canal subyacente y el canal subyacente se cierra cuando se recicla el objeto.</span><span class="sxs-lookup"><span data-stu-id="ce001-152">When the client application calls the first operation, WCF automatically opens the underlying channel, and the underlying channel is closed when the object is recycled.</span></span> <span data-ttu-id="ce001-153">(De manera alternativa, también puede abrir y cerrar explícitamente el canal antes o después de llamar a otras operaciones).</span><span class="sxs-lookup"><span data-stu-id="ce001-153">(Alternatively, you can also explicitly open and close the channel prior to or subsequent to calling other operations.)</span></span>  
  
 <span data-ttu-id="ce001-154">Por ejemplo, si posee el siguiente contrato de servicio:</span><span class="sxs-lookup"><span data-stu-id="ce001-154">For example, if you have the following service contract:</span></span>  
  
```csharp  
namespace Microsoft.ServiceModel.Samples  
{  
    using System;  
    using System.ServiceModel;  
  
    [ServiceContract(Namespace = "http://Microsoft.ServiceModel.Samples")]  
    public interface ICalculator  
   {  
        [OperationContract]  
        double Add(double n1, double n2);  
        [OperationContract]  
        double Subtract(double n1, double n2);  
        [OperationContract]  
        double Multiply(double n1, double n2);  
        [OperationContract]  
        double Divide(double n1, double n2);  
    }  
}  
```  
  
```vb  
Namespace Microsoft.ServiceModel.Samples  
  
    Imports System  
    Imports System.ServiceModel  
  
    <ServiceContract(Namespace:= _  
    "http://Microsoft.ServiceModel.Samples")> _
   Public Interface ICalculator  
        <OperationContract> _
        Function Add(n1 As Double, n2 As Double) As Double  
        <OperationContract> _
        Function Subtract(n1 As Double, n2 As Double) As Double  
        <OperationContract> _
        Function Multiply(n1 As Double, n2 As Double) As Double  
        <OperationContract> _
     Function Divide(n1 As Double, n2 As Double) As Double  
End Interface  
```  
  
 <span data-ttu-id="ce001-155">Puede llamar a operaciones mediante la creación de un objeto de cliente WCF y llamar a sus métodos, como se muestra en el ejemplo de código siguiente.</span><span class="sxs-lookup"><span data-stu-id="ce001-155">You can call operations by creating a WCF client object and calling its methods, as the following code example demonstrates.</span></span> <span data-ttu-id="ce001-156">Tenga en cuenta que la apertura, llamada y cierre del objeto de cliente WCF se produce dentro de un único bloque try/catch.</span><span class="sxs-lookup"><span data-stu-id="ce001-156">Note that the opening, calling, and closing of the WCF client object occurs within a single try/catch block.</span></span> <span data-ttu-id="ce001-157">Para obtener más información, vea [Acceso a servicios mediante un cliente WCF](./feature-details/accessing-services-using-a-client.md) y Usar cerrar y anular para liberar recursos de cliente [WCF](./samples/use-close-abort-release-wcf-client-resources.md).</span><span class="sxs-lookup"><span data-stu-id="ce001-157">For more information, see [Accessing Services Using a WCF Client](./feature-details/accessing-services-using-a-client.md) and [Use Close and Abort to release WCF client resources](./samples/use-close-abort-release-wcf-client-resources.md).</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#20](../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#20)]  
  
## <a name="handling-errors"></a><span data-ttu-id="ce001-158">Control de errores</span><span class="sxs-lookup"><span data-stu-id="ce001-158">Handling Errors</span></span>  
 <span data-ttu-id="ce001-159">Las excepciones pueden producirse en una aplicación cliente cuando se abre el canal de cliente subyacente (explícita o automáticamente mediante la llamada a una operación), se utiliza el cliente u objeto de canal para llamar a las operaciones, o se cierra el canal de cliente subyacente.</span><span class="sxs-lookup"><span data-stu-id="ce001-159">Exceptions can occur in a client application when opening the underlying client channel (whether explicitly or automatically by calling an operation), using the client or channel object to call operations, or when closing the underlying client channel.</span></span> <span data-ttu-id="ce001-160">Se recomienda como mínimo que las aplicaciones prevean administrar posibles <xref:System.TimeoutException?displayProperty=nameWithType> y las excepciones <xref:System.ServiceModel.CommunicationException?displayProperty=nameWithType>, además de cualquier objeto <xref:System.ServiceModel.FaultException?displayProperty=nameWithType> iniciado como resultado de los errores de SOAP devueltos por las operaciones.</span><span class="sxs-lookup"><span data-stu-id="ce001-160">It is recommended at a minimum that applications expect to handle possible <xref:System.TimeoutException?displayProperty=nameWithType> and <xref:System.ServiceModel.CommunicationException?displayProperty=nameWithType> exceptions in addition to any <xref:System.ServiceModel.FaultException?displayProperty=nameWithType> objects thrown as a result of SOAP faults returned by operations.</span></span> <span data-ttu-id="ce001-161">Los errores de SOAP especificados en el contrato de operación se elevan a las aplicaciones cliente como <xref:System.ServiceModel.FaultException%601?displayProperty=nameWithType>, donde el parámetro de tipo es el tipo de detalle del error de SOAP.</span><span class="sxs-lookup"><span data-stu-id="ce001-161">SOAP faults specified in the operation contract are raised to client applications as a <xref:System.ServiceModel.FaultException%601?displayProperty=nameWithType> where the type parameter is the detail type of the SOAP fault.</span></span> <span data-ttu-id="ce001-162">Para obtener más información sobre el control de condiciones de error en una aplicación cliente, vea [Enviar y recibir errores](sending-and-receiving-faults.md).</span><span class="sxs-lookup"><span data-stu-id="ce001-162">For more information about handling error conditions in a client application, see [Sending and Receiving Faults](sending-and-receiving-faults.md).</span></span> <span data-ttu-id="ce001-163">Para obtener un ejemplo completo de cómo controlar los errores en un cliente, vea [Excepciones esperadas](./samples/expected-exceptions.md).</span><span class="sxs-lookup"><span data-stu-id="ce001-163">For a complete sample the shows how to handle errors in a client, see [Expected Exceptions](./samples/expected-exceptions.md).</span></span>  
  
## <a name="configuring-and-securing-clients"></a><span data-ttu-id="ce001-164">Configuración y protección de clientes.</span><span class="sxs-lookup"><span data-stu-id="ce001-164">Configuring and Securing Clients</span></span>  
 <span data-ttu-id="ce001-165">La configuración de un cliente se inicia con la carga de información de extremo de destino necesaria para el cliente u objeto de canal, normalmente desde un archivo de configuración, aunque también puede cargarse esta información mediante programación utilizando los constructores y propiedades de cliente.</span><span class="sxs-lookup"><span data-stu-id="ce001-165">Configuring a client starts with the required loading of target endpoint information for the client or channel object, usually from a configuration file, although you can also load this information programmatically using the client constructors and properties.</span></span> <span data-ttu-id="ce001-166">No obstante, son necesarios pasos de configuración adicionales que habiliten cierto comportamiento del cliente y diferentes escenarios de seguridad.</span><span class="sxs-lookup"><span data-stu-id="ce001-166">However, additional configuration steps are required to enable certain client behavior and for many security scenarios.</span></span>  
  
 <span data-ttu-id="ce001-167">Por ejemplo, los requisitos de seguridad para los contratos de servicios se declaran en la interfaz del contrato de servicio; si Svcutil.exe creó un archivo de configuración, ese archivo contiene, normalmente, un enlace capaz de admitir los requisitos de seguridad del servicio.</span><span class="sxs-lookup"><span data-stu-id="ce001-167">For example, security requirements for service contracts are declared in the service contract interface, and if Svcutil.exe created a configuration file, that file usually contains a binding that is capable of supporting the security requirements of the service.</span></span> <span data-ttu-id="ce001-168">En algunos casos, sin embargo, puede ser necesaria una mayor configuración de seguridad, como la configuración de credenciales de cliente.</span><span class="sxs-lookup"><span data-stu-id="ce001-168">In some cases, however, more security configuration may be required, such as configuring client credentials.</span></span> <span data-ttu-id="ce001-169">Para obtener información completa acerca de la configuración de seguridad para los clientes WCF, vea [proteger clientes](securing-clients.md).</span><span class="sxs-lookup"><span data-stu-id="ce001-169">For complete information about the configuration of security for WCF clients, see [Securing Clients](securing-clients.md).</span></span>  
  
 <span data-ttu-id="ce001-170">Además, algunas modificaciones personalizadas se pueden habilitar en aplicaciones cliente, como comportamientos en tiempo de ejecución personalizados.</span><span class="sxs-lookup"><span data-stu-id="ce001-170">In addition, some custom modifications can be enabled in client applications, such as custom run-time behaviors.</span></span> <span data-ttu-id="ce001-171">Para obtener más información acerca de cómo configurar un comportamiento de cliente personalizado, vea [Configuración de comportamientos](configuring-client-behaviors.md)de cliente .</span><span class="sxs-lookup"><span data-stu-id="ce001-171">For more information about how to configure a custom client behavior, see [Configuring Client Behaviors](configuring-client-behaviors.md).</span></span>  
  
## <a name="creating-callback-objects-for-duplex-services"></a><span data-ttu-id="ce001-172">Creación de objetos de devolución de llamada para servicios dúplex.</span><span class="sxs-lookup"><span data-stu-id="ce001-172">Creating Callback Objects for Duplex Services</span></span>  
 <span data-ttu-id="ce001-173">Los servicios dúplex especifican un contrato de devolución de llamada que la aplicación cliente debe implementar para proporcionar un objeto de devolución de llamada, y que el servicio realice las llamadas según los requisitos del contrato.</span><span class="sxs-lookup"><span data-stu-id="ce001-173">Duplex services specify a callback contract that the client application must implement in order to provide a callback object for the service to call according to the requirements of the contract.</span></span> <span data-ttu-id="ce001-174">Aunque los objetos de devolución de llamada no son servicios completos (por ejemplo, no puede iniciar un canal con un objeto de devolución de llamada), en lo que respecta la implementación y la configuración pueden concebirse como un tipo de servicio.</span><span class="sxs-lookup"><span data-stu-id="ce001-174">Although callback objects are not full services (for example, you cannot initiate a channel with a callback object), for the purposes of implementation and configuration they can be thought of as a kind of service.</span></span>  
  
 <span data-ttu-id="ce001-175">Los clientes de servicios dúplex deben:</span><span class="sxs-lookup"><span data-stu-id="ce001-175">Clients of duplex services must:</span></span>  
  
- <span data-ttu-id="ce001-176">Implementar una clase de contrato de devolución de llamada.</span><span class="sxs-lookup"><span data-stu-id="ce001-176">Implement a callback contract class.</span></span>  
  
- <span data-ttu-id="ce001-177">Cree una instancia de la clase de implementación del contrato de devolución de llamada y úsela para crear el <xref:System.ServiceModel.InstanceContext?displayProperty=nameWithType> objeto que se pasa al constructor de cliente WCF.</span><span class="sxs-lookup"><span data-stu-id="ce001-177">Create an instance of the callback contract implementation class and use it to create the <xref:System.ServiceModel.InstanceContext?displayProperty=nameWithType> object that you pass to the WCF client constructor.</span></span>  
  
- <span data-ttu-id="ce001-178">Invocar operaciones y controlar las devoluciones de llamada de la operación.</span><span class="sxs-lookup"><span data-stu-id="ce001-178">Invoke operations and handle operation callbacks.</span></span>  
  
 <span data-ttu-id="ce001-179">Los objetos de cliente WCF dúplex funcionan como sus homólogos no dúplex, con la excepción de que exponen la funcionalidad necesaria para admitir devoluciones de llamada, incluida la configuración del servicio de devolución de llamada.</span><span class="sxs-lookup"><span data-stu-id="ce001-179">Duplex WCF client objects function like their nonduplex counterparts, with the exception that they expose the functionality necessary to support callbacks, including the configuration of the callback service.</span></span>  
  
 <span data-ttu-id="ce001-180">Por ejemplo, pueden controlarse distintos aspectos del comportamiento del tiempo de ejecución del objeto de devolución de llamada mediante las propiedades del atributo <xref:System.ServiceModel.CallbackBehaviorAttribute?displayProperty=nameWithType>, en la clase de devolución de llamada.</span><span class="sxs-lookup"><span data-stu-id="ce001-180">For example, you can control various aspects of callback object runtime behavior by using properties of the <xref:System.ServiceModel.CallbackBehaviorAttribute?displayProperty=nameWithType> attribute on the callback class.</span></span> <span data-ttu-id="ce001-181">Otro ejemplo es el uso de la clase <xref:System.ServiceModel.Description.CallbackDebugBehavior?displayProperty=nameWithType> para habilitar el retorno de información de excepción a los servicios que llaman al objeto de devolución de llamada.</span><span class="sxs-lookup"><span data-stu-id="ce001-181">Another example is the use of the <xref:System.ServiceModel.Description.CallbackDebugBehavior?displayProperty=nameWithType> class to enable the return of exception information to services that call the callback object.</span></span> <span data-ttu-id="ce001-182">Para obtener más información, consulte [Servicios dúplex](./feature-details/duplex-services.md).</span><span class="sxs-lookup"><span data-stu-id="ce001-182">For more information, see [Duplex Services](./feature-details/duplex-services.md).</span></span> <span data-ttu-id="ce001-183">Para obtener un ejemplo completo, consulte [Dúplex](./samples/duplex.md).</span><span class="sxs-lookup"><span data-stu-id="ce001-183">For a complete sample, see [Duplex](./samples/duplex.md).</span></span>  
  
 <span data-ttu-id="ce001-184">En los equipos de Windows XP que ejecutan Internet Information Services (IIS) 5.1, los clientes dúplex deben especificar una dirección base de cliente utilizando la clase <xref:System.ServiceModel.WSDualHttpBinding?displayProperty=nameWithType>, o se iniciará una excepción.</span><span class="sxs-lookup"><span data-stu-id="ce001-184">On Windows XP computers running Internet Information Services (IIS) 5.1, duplex clients must specify a client base address using the <xref:System.ServiceModel.WSDualHttpBinding?displayProperty=nameWithType> class or an exception is thrown.</span></span> <span data-ttu-id="ce001-185">En el ejemplo de código siguiente se muestra cómo realizar esta especificación en el código.</span><span class="sxs-lookup"><span data-stu-id="ce001-185">The following code example shows how to do this in code.</span></span>  
  
 [!code-csharp[S_DualHttp#8](../../../samples/snippets/csharp/VS_Snippets_CFX/s_dualhttp/cs/program.cs#8)]
 [!code-vb[S_DualHttp#8](../../../samples/snippets/visualbasic/VS_Snippets_CFX/s_dualhttp/vb/module1.vb#8)]  
  
 <span data-ttu-id="ce001-186">El código siguiente muestra cómo realizar esta especificación en un archivo de configuración</span><span class="sxs-lookup"><span data-stu-id="ce001-186">The following code shows how to do this in a configuration file</span></span>  
  
 [!code-csharp[S_DualHttp#134](../../../samples/snippets/csharp/VS_Snippets_CFX/s_dualhttp/cs/program.cs#134)]  
  
## <a name="calling-services-asynchronously"></a><span data-ttu-id="ce001-187">Llamada a servicios de manera asincrónica.</span><span class="sxs-lookup"><span data-stu-id="ce001-187">Calling Services Asynchronously</span></span>  
 <span data-ttu-id="ce001-188">La manera cómo se realizan las llamadas a las operaciones depende del desarrollador cliente.</span><span class="sxs-lookup"><span data-stu-id="ce001-188">How operations are called is entirely up to the client developer.</span></span> <span data-ttu-id="ce001-189">La razón es que los mensajes que constituyen una operación pueden asignarse a métodos sincrónicos o asincrónicos cuando se expresan en código administrado.</span><span class="sxs-lookup"><span data-stu-id="ce001-189">This is because the messages that make up an operation can be mapped to either synchronous or asynchronous methods when expressed in managed code.</span></span> <span data-ttu-id="ce001-190">Por consiguiente, si desea crear un cliente que llama a las operaciones de manera asincrónica, puede utilizar Svcutil.exe para generar código de cliente asincrónico mediante la opción `/async`.</span><span class="sxs-lookup"><span data-stu-id="ce001-190">Therefore, if you want to build a client that calls operations asynchronously, you can use Svcutil.exe to generate asynchronous client code using the `/async` option.</span></span> <span data-ttu-id="ce001-191">Para obtener más información, vea [Cómo: llamar a operaciones](./feature-details/how-to-call-wcf-service-operations-asynchronously.md)de servicio de forma asincrónica.</span><span class="sxs-lookup"><span data-stu-id="ce001-191">For more information, see [How to: Call Service Operations Asynchronously](./feature-details/how-to-call-wcf-service-operations-asynchronously.md).</span></span>  
  
## <a name="calling-services-using-wcf-client-channels"></a><span data-ttu-id="ce001-192">Llamada a los servicios mediante canales de cliente WCF.</span><span class="sxs-lookup"><span data-stu-id="ce001-192">Calling Services Using WCF Client Channels</span></span>  
 <span data-ttu-id="ce001-193">Los tipos <xref:System.ServiceModel.ClientBase%601>de cliente WCF <xref:System.ServiceModel.IClientChannel?displayProperty=nameWithType> se extienden, que a su vez deriva de la interfaz para exponer el sistema de canal subyacente.</span><span class="sxs-lookup"><span data-stu-id="ce001-193">WCF client types extend <xref:System.ServiceModel.ClientBase%601>, which itself derives from <xref:System.ServiceModel.IClientChannel?displayProperty=nameWithType> interface to expose the underlying channel system.</span></span> <span data-ttu-id="ce001-194">Puede invocar los servicios utilizando el contrato de servicios de destino con la clase <xref:System.ServiceModel.ChannelFactory%601?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="ce001-194">You can invoke services by using the target service contract with the <xref:System.ServiceModel.ChannelFactory%601?displayProperty=nameWithType> class.</span></span> <span data-ttu-id="ce001-195">Para obtener más información, vea [Arquitectura de cliente WCF](./feature-details/client-architecture.md).</span><span class="sxs-lookup"><span data-stu-id="ce001-195">For details, see [WCF Client Architecture](./feature-details/client-architecture.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ce001-196">Consulte también</span><span class="sxs-lookup"><span data-stu-id="ce001-196">See also</span></span>

- <xref:System.ServiceModel.ClientBase%601?displayProperty=nameWithType>
- <xref:System.ServiceModel.ChannelFactory%601?displayProperty=nameWithType>
