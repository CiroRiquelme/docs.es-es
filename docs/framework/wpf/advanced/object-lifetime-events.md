---
title: Eventos de duración de objetos
ms.date: 03/30/2017
helpviewer_keywords:
- events [WPF], ContentRendered
- events [WPF], Deactivated
- events [WPF], Unloaded
- Activated events [WPF]
- events [WPF], Loaded
- Application objects [WPF], lifetime events
- events [WPF], Activated
- ContentRendered events [WPF]
- Deactivated events [WPF]
- events [WPF], Initialized
- events [WPF], Closing
- Unloaded events [WPF]
- exit events [WPF]
- objects' lifetime events [WPF]
- Loaded events [WPF]
- Closing events [WPF]
- events [WPF], Closed
- Initialized events [WPF]
- Closed events [WPF]
- startup events [WPF]
- lifetime events of objects [WPF]
ms.assetid: face6fc7-465b-4502-bfe5-e88d2e729a78
ms.openlocfilehash: 3b761674bd2464ee87e07d9299c805431f8fdeb7
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/12/2020
ms.locfileid: "79141112"
---
# <a name="object-lifetime-events"></a><span data-ttu-id="7ae2b-102">Eventos de duración de objetos</span><span class="sxs-lookup"><span data-stu-id="7ae2b-102">Object Lifetime Events</span></span>
<span data-ttu-id="7ae2b-103">En este tema se describen los eventos [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] específicos que indican las fases de duración de la creación, el uso y la destrucción de objetos.</span><span class="sxs-lookup"><span data-stu-id="7ae2b-103">This topic describes the specific [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] events that signify stages in an object lifetime of creation, use, and destruction.</span></span>  

<a name="prerequisites"></a>
## <a name="prerequisites"></a><span data-ttu-id="7ae2b-104">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="7ae2b-104">Prerequisites</span></span>  
 <span data-ttu-id="7ae2b-105">En este tema, se supone que entiende las propiedades de dependencia desde la perspectiva de un consumidor de propiedades de dependencia existentes en las clases [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] y que ha leído el tema [Información general sobre las propiedades de dependencia](dependency-properties-overview.md).</span><span class="sxs-lookup"><span data-stu-id="7ae2b-105">This topic assumes that you understand dependency properties from the perspective of a consumer of existing dependency properties on [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] classes, and have read the [Dependency Properties Overview](dependency-properties-overview.md) topic.</span></span> <span data-ttu-id="7ae2b-106">Para seguir los ejemplos de este tema, también debe comprender [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] (consulte [Información general sobre XAML (WPF)](../../../desktop-wpf/fundamentals/xaml.md)) y saber cómo escribir aplicaciones [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="7ae2b-106">In order to follow the examples in this topic, you should also understand [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] (see [XAML Overview (WPF)](../../../desktop-wpf/fundamentals/xaml.md)) and know how to write [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] applications.</span></span>  
  
<a name="intro"></a>
## <a name="object-lifetime-events"></a><span data-ttu-id="7ae2b-107">Eventos de duración de objetos</span><span class="sxs-lookup"><span data-stu-id="7ae2b-107">Object Lifetime Events</span></span>  
 <span data-ttu-id="7ae2b-108">Todos los objetos del código administrado de Microsoft .NET Framework pasan por un conjunto similar de fases de vida, creación, uso y destrucción.</span><span class="sxs-lookup"><span data-stu-id="7ae2b-108">All objects in Microsoft .NET Framework managed code go through a similar set of stages of life, creation, use, and destruction.</span></span> <span data-ttu-id="7ae2b-109">Además, muchos objetos tienen una fase de finalización de duración que se produce como parte de la fase de destrucción.</span><span class="sxs-lookup"><span data-stu-id="7ae2b-109">Many objects also have a finalization stage of life that occurs as part of the destruction phase.</span></span> <span data-ttu-id="7ae2b-110">Los objetos [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], concretamente los objetos visuales que [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] identifica como elementos, también tienen un conjunto de fases comunes de duración de objeto.</span><span class="sxs-lookup"><span data-stu-id="7ae2b-110">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] objects, more specifically the visual objects that [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] identifies as elements, also have a set of common stages of object life.</span></span> <span data-ttu-id="7ae2b-111">Los modelos de programación y aplicación [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] exponen estas fases como una serie de eventos.</span><span class="sxs-lookup"><span data-stu-id="7ae2b-111">The [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] programming and application models expose these stages as a series of events.</span></span> <span data-ttu-id="7ae2b-112">Hay cuatro tipos principales de objetos de [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] con respecto a los eventos de duración: elementos en general, elementos de ventana, hosts de navegación y objetos de aplicación.</span><span class="sxs-lookup"><span data-stu-id="7ae2b-112">There are four main types of objects in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] with respect to lifetime events; elements in general, window elements, navigation hosts, and application objects.</span></span> <span data-ttu-id="7ae2b-113">Las ventanas y los hosts de navegación también se encuentran dentro de un grupo más grande de objetos visuales (elementos).</span><span class="sxs-lookup"><span data-stu-id="7ae2b-113">Windows and navigation hosts are also within the larger grouping of visual objects (elements).</span></span> <span data-ttu-id="7ae2b-114">En este tema se describen los eventos de duración que son comunes para todos los elementos y se indican los más específicos que se aplican a las definiciones de aplicación, las ventanas o los hosts de navegación.</span><span class="sxs-lookup"><span data-stu-id="7ae2b-114">This topic describes the lifetime events that are common to all elements and then introduces the more specific ones that apply to application definitions, windows or navigation hosts.</span></span>  
  
<a name="common_events"></a>
## <a name="common-lifetime-events-for-elements"></a><span data-ttu-id="7ae2b-115">Eventos de duración comunes para elementos</span><span class="sxs-lookup"><span data-stu-id="7ae2b-115">Common Lifetime Events for Elements</span></span>  
 <span data-ttu-id="7ae2b-116">Cualquier elemento de nivel de marco de <xref:System.Windows.FrameworkElement> <xref:System.Windows.FrameworkContentElement>WPF (esos objetos <xref:System.Windows.FrameworkElement.Initialized> <xref:System.Windows.FrameworkElement.Loaded>derivados <xref:System.Windows.FrameworkElement.Unloaded>de o ) tiene tres eventos de duración comunes: , , y .</span><span class="sxs-lookup"><span data-stu-id="7ae2b-116">Any WPF framework-level element (those objects deriving from either <xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement>) has three common lifetime events: <xref:System.Windows.FrameworkElement.Initialized>, <xref:System.Windows.FrameworkElement.Loaded>, and <xref:System.Windows.FrameworkElement.Unloaded>.</span></span>  
  
### <a name="initialized"></a><span data-ttu-id="7ae2b-117">Inicializado</span><span class="sxs-lookup"><span data-stu-id="7ae2b-117">Initialized</span></span>  
 <span data-ttu-id="7ae2b-118"><xref:System.Windows.FrameworkElement.Initialized>se genera primero, y corresponde aproximadamente a la inicialización del objeto mediante la llamada a su constructor.</span><span class="sxs-lookup"><span data-stu-id="7ae2b-118"><xref:System.Windows.FrameworkElement.Initialized> is raised first, and roughly corresponds to the initialization of the object by the call to its constructor.</span></span> <span data-ttu-id="7ae2b-119">Dado que el evento se produce en respuesta a la inicialización, se garantiza que se establecen todas las propiedades del objeto.</span><span class="sxs-lookup"><span data-stu-id="7ae2b-119">Because the event happens in response to initialization, you are guaranteed that all properties of the object are set.</span></span> <span data-ttu-id="7ae2b-120">(Una excepción son los usos de expresiones como recursos dinámicos o enlaces; serán expresiones no evaluadas.) Como consecuencia del requisito de que se establecen todas las propiedades, la secuencia de <xref:System.Windows.FrameworkElement.Initialized> ser provocado por elementos anidados que se definen en el marcado parece ocurrir en orden de los elementos más profundos en el árbol de elementos primero, a continuación, los elementos primarios hacia la raíz.</span><span class="sxs-lookup"><span data-stu-id="7ae2b-120">(An exception is expression usages such as dynamic resources or binding; these will be unevaluated expressions.) As a consequence of the requirement that all properties are set, the sequence of <xref:System.Windows.FrameworkElement.Initialized> being raised by nested elements that are defined in markup appears to occur in order of deepest elements in the element tree first, then parent elements toward the root.</span></span> <span data-ttu-id="7ae2b-121">Este orden se debe a que las relaciones entre elementos primarios y secundarios y las inclusiones son propiedades y, por tanto, el elemento primario no puede informar de la inicialización hasta que los elementos secundarios que rellenan la propiedad estén inicializados completamente.</span><span class="sxs-lookup"><span data-stu-id="7ae2b-121">This order is because the parent-child relationships and containment are properties, and therefore the parent cannot report initialization until the child elements that fill the property are also completely initialized.</span></span>  
  
 <span data-ttu-id="7ae2b-122">Al escribir controladores en respuesta <xref:System.Windows.FrameworkElement.Initialized> al evento, debe tener en cuenta que no hay ninguna garantía de que se hayan creado todos los demás elementos del árbol de elementos (árbol lógico o árbol visual) alrededor de donde está asociado el controlador, especialmente los elementos primarios.</span><span class="sxs-lookup"><span data-stu-id="7ae2b-122">When you are writing handlers in response to the <xref:System.Windows.FrameworkElement.Initialized> event, you must consider that there is no guarantee that all other elements in the element tree (either logical tree or visual tree) around where the handler is attached have been created, particularly parent elements.</span></span> <span data-ttu-id="7ae2b-123">Es posible que las variables de miembro sean nulas o que el enlace subyacente no haya rellenado todavía los orígenes de datos (incluso en el nivel de expresión).</span><span class="sxs-lookup"><span data-stu-id="7ae2b-123">Member variables may be null, or data sources might not yet be populated by the underlying binding (even at the expression level).</span></span>  
  
### <a name="loaded"></a><span data-ttu-id="7ae2b-124">Cargado</span><span class="sxs-lookup"><span data-stu-id="7ae2b-124">Loaded</span></span>  
 <span data-ttu-id="7ae2b-125"><xref:System.Windows.FrameworkElement.Loaded>se plantea a continuación.</span><span class="sxs-lookup"><span data-stu-id="7ae2b-125"><xref:System.Windows.FrameworkElement.Loaded> is raised next.</span></span> <span data-ttu-id="7ae2b-126">El <xref:System.Windows.FrameworkElement.Loaded> evento se genera antes de la representación final, pero después de que el sistema de diseño haya calculado todos los valores necesarios para la representación.</span><span class="sxs-lookup"><span data-stu-id="7ae2b-126">The <xref:System.Windows.FrameworkElement.Loaded> event is raised before the final rendering, but after the layout system has calculated all necessary values for rendering.</span></span> <span data-ttu-id="7ae2b-127"><xref:System.Windows.FrameworkElement.Loaded>implica que el árbol lógico en el que se encuentra un elemento está completo y se conecta a un origen de presentación que proporciona el HWND y la superficie de representación.</span><span class="sxs-lookup"><span data-stu-id="7ae2b-127"><xref:System.Windows.FrameworkElement.Loaded> entails that the logical tree that an element is contained within is complete, and connects to a presentation source that provides the HWND and the rendering surface.</span></span> <span data-ttu-id="7ae2b-128">El enlace de datos estándar (enlace a orígenes locales, como <xref:System.Windows.FrameworkElement.Loaded>otras propiedades o orígenes de datos definidos directamente) se habrá producido antes de .</span><span class="sxs-lookup"><span data-stu-id="7ae2b-128">Standard data binding (binding to local sources, such as other properties or directly defined data sources) will have occurred prior to <xref:System.Windows.FrameworkElement.Loaded>.</span></span> <span data-ttu-id="7ae2b-129">Es posible que el enlace de datos asincrónico (orígenes externos o dinámicos) se haya producido, pero, por definición de su naturaleza asincrónica, no se puede garantizar que realmente se haya producido.</span><span class="sxs-lookup"><span data-stu-id="7ae2b-129">Asynchronous data binding (external or dynamic sources) might have occurred, but by definition of its asynchronous nature cannot be guaranteed to have occurred.</span></span>  
  
 <span data-ttu-id="7ae2b-130">El mecanismo por <xref:System.Windows.FrameworkElement.Loaded> el que se <xref:System.Windows.FrameworkElement.Initialized>genera el evento es diferente de .</span><span class="sxs-lookup"><span data-stu-id="7ae2b-130">The mechanism by which the <xref:System.Windows.FrameworkElement.Loaded> event is raised is different than <xref:System.Windows.FrameworkElement.Initialized>.</span></span> <span data-ttu-id="7ae2b-131">El <xref:System.Windows.FrameworkElement.Initialized> evento se genera elemento por elemento, sin una coordinación directa por un árbol de elementos completado.</span><span class="sxs-lookup"><span data-stu-id="7ae2b-131">The <xref:System.Windows.FrameworkElement.Initialized> event is raised element by element, without a direct coordination by a completed element tree.</span></span> <span data-ttu-id="7ae2b-132">Por el <xref:System.Windows.FrameworkElement.Loaded> contrario, el evento se genera como un esfuerzo coordinado en todo el árbol de elementos (específicamente, el árbol lógico).</span><span class="sxs-lookup"><span data-stu-id="7ae2b-132">By contrast, the <xref:System.Windows.FrameworkElement.Loaded> event is raised as a coordinated effort throughout the entire element tree (specifically, the logical tree).</span></span> <span data-ttu-id="7ae2b-133">Cuando todos los elementos del árbol están en <xref:System.Windows.FrameworkElement.Loaded> un estado en el que se consideran cargados, el evento se genera primero en el elemento raíz.</span><span class="sxs-lookup"><span data-stu-id="7ae2b-133">When all elements in the tree are in a state where they are considered loaded, the <xref:System.Windows.FrameworkElement.Loaded> event is first raised on the root element.</span></span> <span data-ttu-id="7ae2b-134">A <xref:System.Windows.FrameworkElement.Loaded> continuación, el evento se genera sucesivamente en cada elemento secundario.</span><span class="sxs-lookup"><span data-stu-id="7ae2b-134">The <xref:System.Windows.FrameworkElement.Loaded> event is then raised successively on each child element.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="7ae2b-135">Este comportamiento puede parecerse a primera vista a una tunelización para un evento enrutado.</span><span class="sxs-lookup"><span data-stu-id="7ae2b-135">This behavior might superficially resemble tunneling for a routed event.</span></span> <span data-ttu-id="7ae2b-136">Sin embargo, no se desplaza información de un evento a otro.</span><span class="sxs-lookup"><span data-stu-id="7ae2b-136">However, no information is carried from event to event.</span></span> <span data-ttu-id="7ae2b-137">Cada elemento siempre tiene la <xref:System.Windows.FrameworkElement.Loaded> oportunidad de controlar su evento y marcar los datos de evento como controlados no tiene ningún efecto más allá de ese elemento.</span><span class="sxs-lookup"><span data-stu-id="7ae2b-137">Each element always has the opportunity to handle its <xref:System.Windows.FrameworkElement.Loaded> event, and marking the event data as handled has no effect beyond that element.</span></span>  
  
### <a name="unloaded"></a><span data-ttu-id="7ae2b-138">Descargado</span><span class="sxs-lookup"><span data-stu-id="7ae2b-138">Unloaded</span></span>  
 <span data-ttu-id="7ae2b-139"><xref:System.Windows.FrameworkElement.Unloaded>se genera en último lugar y se inicia mediante el origen de la presentación o el elemento primario visual que se va a quitar.</span><span class="sxs-lookup"><span data-stu-id="7ae2b-139"><xref:System.Windows.FrameworkElement.Unloaded> is raised last and is initiated by either the presentation source or the visual parent being removed.</span></span> <span data-ttu-id="7ae2b-140">Cuando <xref:System.Windows.FrameworkElement.Unloaded> se genera y controla, el elemento que es <xref:System.Windows.FrameworkElement.Parent%2A> el elemento primario del origen del evento (según lo determinado por la propiedad) o cualquier elemento dado hacia arriba en los árboles lógicos o visuales puede que ya se haya desestablecido, lo que significa que el enlace de datos, las referencias de recursos y los estilos no se pueden establecer en su valor de tiempo de ejecución normal o el último conocido.</span><span class="sxs-lookup"><span data-stu-id="7ae2b-140">When <xref:System.Windows.FrameworkElement.Unloaded> is raised and handled, the element that is the event source parent (as determined by <xref:System.Windows.FrameworkElement.Parent%2A> property) or any given element upwards in the logical or visual trees may have already been unset, meaning that data binding, resource references, and styles may not be set to their normal or last known run-time value.</span></span>  
  
<a name="application_model_elements"></a>
## <a name="lifetime-events-application-model-elements"></a><span data-ttu-id="7ae2b-141">Elementos del modelo de aplicación de eventos de duración</span><span class="sxs-lookup"><span data-stu-id="7ae2b-141">Lifetime Events Application Model Elements</span></span>  
 <span data-ttu-id="7ae2b-142">Basándose en los eventos de duración comunes <xref:System.Windows.Application>para <xref:System.Windows.Window> <xref:System.Windows.Controls.Page>los <xref:System.Windows.Navigation.NavigationWindow>elementos son los siguientes elementos del modelo de aplicación: , , , , y <xref:System.Windows.Controls.Frame>.</span><span class="sxs-lookup"><span data-stu-id="7ae2b-142">Building on the common lifetime events for elements are the following application model elements: <xref:System.Windows.Application>, <xref:System.Windows.Window>, <xref:System.Windows.Controls.Page>, <xref:System.Windows.Navigation.NavigationWindow>, and <xref:System.Windows.Controls.Frame>.</span></span> <span data-ttu-id="7ae2b-143">Extienden los eventos de duración comunes con eventos adicionales que son pertinentes para su finalidad específica.</span><span class="sxs-lookup"><span data-stu-id="7ae2b-143">These extend the common lifetime events with additional events that are relevant to their specific purpose.</span></span> <span data-ttu-id="7ae2b-144">Esto se trata detalladamente en las siguientes ubicaciones:</span><span class="sxs-lookup"><span data-stu-id="7ae2b-144">These are discussed in detail in the following locations:</span></span>  
  
- <span data-ttu-id="7ae2b-145"><xref:System.Windows.Application>: [Descripción general de](../app-development/application-management-overview.md)la gestión de aplicaciones .</span><span class="sxs-lookup"><span data-stu-id="7ae2b-145"><xref:System.Windows.Application>: [Application Management Overview](../app-development/application-management-overview.md).</span></span>  
  
- <span data-ttu-id="7ae2b-146"><xref:System.Windows.Window>: [Descripción general de WPF Windows](../app-development/wpf-windows-overview.md).</span><span class="sxs-lookup"><span data-stu-id="7ae2b-146"><xref:System.Windows.Window>: [WPF Windows Overview](../app-development/wpf-windows-overview.md).</span></span>  
  
- <span data-ttu-id="7ae2b-147"><xref:System.Windows.Controls.Page>, <xref:System.Windows.Navigation.NavigationWindow>, <xref:System.Windows.Controls.Frame>y : [Descripción general de la navegación](../app-development/navigation-overview.md).</span><span class="sxs-lookup"><span data-stu-id="7ae2b-147"><xref:System.Windows.Controls.Page>, <xref:System.Windows.Navigation.NavigationWindow>, and <xref:System.Windows.Controls.Frame>: [Navigation Overview](../app-development/navigation-overview.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7ae2b-148">Consulte también</span><span class="sxs-lookup"><span data-stu-id="7ae2b-148">See also</span></span>

- [<span data-ttu-id="7ae2b-149">Precedencia del valor de la propiedad de dependencia</span><span class="sxs-lookup"><span data-stu-id="7ae2b-149">Dependency Property Value Precedence</span></span>](dependency-property-value-precedence.md)
- [<span data-ttu-id="7ae2b-150">Información general sobre eventos enrutados</span><span class="sxs-lookup"><span data-stu-id="7ae2b-150">Routed Events Overview</span></span>](routed-events-overview.md)
