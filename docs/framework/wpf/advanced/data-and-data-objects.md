---
title: Datos y objetos de datos
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- data transfer [WPF], drag-and-drop
- DataFormats class [WPF]
- DataObject class [WPF]
ms.assetid: 5967d557-1867-420f-a524-ae3af78402da
ms.openlocfilehash: 532c254f997da183b073ddc9e00b4364ecfcd739
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/12/2020
ms.locfileid: "79186343"
---
# <a name="data-and-data-objects"></a><span data-ttu-id="e9fa3-102">Datos y objetos de datos</span><span class="sxs-lookup"><span data-stu-id="e9fa3-102">Data and Data Objects</span></span>
<span data-ttu-id="e9fa3-103">Los datos que se transfieren como parte de una operación de arrastrar y colocar se almacenan en un objeto de datos.</span><span class="sxs-lookup"><span data-stu-id="e9fa3-103">Data that is transferred as part of a drag-and-drop operation is stored in a data object.</span></span>  <span data-ttu-id="e9fa3-104">Conceptualmente, un objeto de datos consta de uno o varios de los siguientes pares:</span><span class="sxs-lookup"><span data-stu-id="e9fa3-104">Conceptually, a data object consists of one or more of the following pairs:</span></span>  
  
- <span data-ttu-id="e9fa3-105">Un <xref:System.Object> que contiene los datos reales.</span><span class="sxs-lookup"><span data-stu-id="e9fa3-105">An <xref:System.Object> that contains the actual data.</span></span>  
  
- <span data-ttu-id="e9fa3-106">Identificador de formato de datos correspondiente.</span><span class="sxs-lookup"><span data-stu-id="e9fa3-106">A corresponding data format identifier.</span></span>  
  
 <span data-ttu-id="e9fa3-107">Los datos en sí pueden consistir en <xref:System.Object>cualquier cosa que se pueda representar como una base.</span><span class="sxs-lookup"><span data-stu-id="e9fa3-107">The data itself can consist of anything that can be represented as a base <xref:System.Object>.</span></span>  <span data-ttu-id="e9fa3-108">El formato de datos <xref:System.Type> correspondiente es una cadena o que proporciona una sugerencia sobre en qué formato se encuentra los datos.</span><span class="sxs-lookup"><span data-stu-id="e9fa3-108">The corresponding data format is a string or <xref:System.Type> that provides a hint about what format the data is in.</span></span>  <span data-ttu-id="e9fa3-109">Los objetos de datos admiten el hospedaje de varios pares de formato de datos/datos; esto permite que un único objeto de datos proporcione datos en varios formatos.</span><span class="sxs-lookup"><span data-stu-id="e9fa3-109">Data objects support hosting multiple data/data format pairs; this enables a single data object to provide data in multiple formats.</span></span>  
  
<a name="Data_and_Data_Objects"></a>
## <a name="data-objects"></a><span data-ttu-id="e9fa3-110">Objetos de datos</span><span class="sxs-lookup"><span data-stu-id="e9fa3-110">Data Objects</span></span>  
 <span data-ttu-id="e9fa3-111">Todos los objetos <xref:System.Windows.IDataObject> de datos deben implementar la interfaz, que proporciona el siguiente conjunto estándar de métodos que habilitan y facilitan la transferencia de datos.</span><span class="sxs-lookup"><span data-stu-id="e9fa3-111">All data objects must implement the <xref:System.Windows.IDataObject> interface, which provides the following standard set of methods that enable and facilitate data transfer.</span></span>  
  
|<span data-ttu-id="e9fa3-112">Método</span><span class="sxs-lookup"><span data-stu-id="e9fa3-112">Method</span></span>|<span data-ttu-id="e9fa3-113">Resumen</span><span class="sxs-lookup"><span data-stu-id="e9fa3-113">Summary</span></span>|  
|------------|-------------|  
|<xref:System.Windows.IDataObject.GetData%2A>|<span data-ttu-id="e9fa3-114">Recupera un objeto de datos en un formato de datos especificado.</span><span class="sxs-lookup"><span data-stu-id="e9fa3-114">Retrieves a data object in a specified data format.</span></span>|  
|<xref:System.Windows.IDataObject.GetDataPresent%2A>|<span data-ttu-id="e9fa3-115">Comprueba si los datos están disponibles en un formato especificado o se pueden convertir a él.</span><span class="sxs-lookup"><span data-stu-id="e9fa3-115">Checks to see whether the data is available in, or can be converted to, a specified format.</span></span>|  
|<xref:System.Windows.IDataObject.GetFormats%2A>|<span data-ttu-id="e9fa3-116">Devuelve una lista de formatos en los que se almacenan los datos de este objeto de datos; o bien, a los que se pueden convertir.</span><span class="sxs-lookup"><span data-stu-id="e9fa3-116">Returns a list of formats that the data in this data object is stored in, or can be converted to.</span></span>|  
|<xref:System.Windows.IDataObject.SetData%2A>|<span data-ttu-id="e9fa3-117">Almacena los datos especificados en este objeto de datos.</span><span class="sxs-lookup"><span data-stu-id="e9fa3-117">Stores the specified data in this data object.</span></span>|  
  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="e9fa3-118">proporciona una implementación básica de <xref:System.Windows.IDataObject> la <xref:System.Windows.DataObject> clase.</span><span class="sxs-lookup"><span data-stu-id="e9fa3-118">provides a basic implementation of <xref:System.Windows.IDataObject> in the <xref:System.Windows.DataObject> class.</span></span> <span data-ttu-id="e9fa3-119">La <xref:System.Windows.DataObject> clase de stock es suficiente para muchos escenarios comunes de transferencia de datos.</span><span class="sxs-lookup"><span data-stu-id="e9fa3-119">The stock <xref:System.Windows.DataObject> class is sufficient for many common data transfer scenarios.</span></span>  
  
 <span data-ttu-id="e9fa3-120">Hay varios formatos predefinidos, como mapa de bits, CSV, archivo, HTML, RTF, cadena, texto y audio.</span><span class="sxs-lookup"><span data-stu-id="e9fa3-120">There are several pre-defined formats, such as bitmap, CSV, file, HTML, RTF, string, text, and audio.</span></span> <span data-ttu-id="e9fa3-121">Para obtener información acerca de [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]los formatos de datos predefinidos proporcionados con , consulte el <xref:System.Windows.DataFormats> tema de referencia de clase.</span><span class="sxs-lookup"><span data-stu-id="e9fa3-121">For information about pre-defined data formats provided with [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], see the <xref:System.Windows.DataFormats> class reference topic.</span></span>  
  
 <span data-ttu-id="e9fa3-122">Los objetos de datos suelen incluir una función para convertir automáticamente los datos almacenados en un formato a un formato diferente mientras se extraen datos; esta instalación se conoce como auto-conversión.</span><span class="sxs-lookup"><span data-stu-id="e9fa3-122">Data objects commonly include a facility for automatically converting data stored in one format to a different format while extracting data; this facility is referred to as auto-convert.</span></span> <span data-ttu-id="e9fa3-123">Al consultar los formatos de datos disponibles en un objeto de datos, los <xref:System.Windows.DataObject.GetFormats%28System.Boolean%29> <xref:System.Windows.DataObject.GetDataPresent%28System.String%2CSystem.Boolean%29> formatos de `autoConvert` datos `false`autoconvertibles se pueden filtrar desde formatos de datos nativos llamando al método o y especificando el parámetro como .</span><span class="sxs-lookup"><span data-stu-id="e9fa3-123">When querying for the data formats available in a data object, auto-convertible data formats can be filtered from native data formats by calling the <xref:System.Windows.DataObject.GetFormats%28System.Boolean%29> or <xref:System.Windows.DataObject.GetDataPresent%28System.String%2CSystem.Boolean%29> method and specifying the `autoConvert` parameter as `false`.</span></span>  <span data-ttu-id="e9fa3-124">Al agregar datos a un <xref:System.Windows.DataObject.SetData%28System.String%2CSystem.Object%2CSystem.Boolean%29> objeto de datos con el método, `autoConvert` se `false`puede prohibir la conversión automática de datos estableciendo el parámetro en .</span><span class="sxs-lookup"><span data-stu-id="e9fa3-124">When adding data to a data object with the <xref:System.Windows.DataObject.SetData%28System.String%2CSystem.Object%2CSystem.Boolean%29> method, auto-conversion of data can be prohibited by setting the `autoConvert` parameter to `false`.</span></span>  
  
<a name="Working_with_Data_Objects"></a>
## <a name="working-with-data-objects"></a><span data-ttu-id="e9fa3-125">Trabajar con objetos de datos</span><span class="sxs-lookup"><span data-stu-id="e9fa3-125">Working with Data Objects</span></span>  
 <span data-ttu-id="e9fa3-126">En esta sección se describen las técnicas comunes para crear y trabajar con objetos de datos.</span><span class="sxs-lookup"><span data-stu-id="e9fa3-126">This section describes common techniques for creating and working with data objects.</span></span>  
  
### <a name="creating-new-data-objects"></a><span data-ttu-id="e9fa3-127">Creación de nuevos objetos de datos</span><span class="sxs-lookup"><span data-stu-id="e9fa3-127">Creating New Data Objects</span></span>  
 <span data-ttu-id="e9fa3-128">La <xref:System.Windows.DataObject> clase proporciona varios constructores sobrecargados que <xref:System.Windows.DataObject> facilitan rellenar una nueva instancia con un único par de formato de datos/datos.</span><span class="sxs-lookup"><span data-stu-id="e9fa3-128">The <xref:System.Windows.DataObject> class provides several overloaded constructors that facilitate populating a new <xref:System.Windows.DataObject> instance with a single data/data format pair.</span></span>  
  
 <span data-ttu-id="e9fa3-129">El siguiente código de ejemplo crea un nuevo objeto <xref:System.Windows.DataObject.%23ctor%2A>de<xref:System.Windows.DataObject.%23ctor(System.String,System.Object)>datos y utiliza uno de los constructores sobrecargados ( ) para inicializar el objeto de datos con una cadena y un formato de datos especificado.</span><span class="sxs-lookup"><span data-stu-id="e9fa3-129">The following example code creates a new data object and uses one of the overloaded constructors <xref:System.Windows.DataObject.%23ctor%2A>(<xref:System.Windows.DataObject.%23ctor(System.String,System.Object)>) to initialize the data object with a string and a specified data format.</span></span>  <span data-ttu-id="e9fa3-130">En este caso, el formato de datos se especifica mediante una cadena; la <xref:System.Windows.DataFormats> clase proporciona un conjunto de cadenas de tipo predefinidas.</span><span class="sxs-lookup"><span data-stu-id="e9fa3-130">In this case, the data format is specified by a string; the <xref:System.Windows.DataFormats> class provides a set of pre-defined type strings.</span></span> <span data-ttu-id="e9fa3-131">La conversión automática de los datos almacenados está permitida de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="e9fa3-131">Auto-conversion of the stored data is allowed by default.</span></span>  
  
 [!code-csharp[DragDrop_DragDropMiscCode#_DragDrop_CreateDataObject_TypeString](~/samples/snippets/csharp/VS_Snippets_Wpf/DragDrop_DragDropMiscCode/CSharp/Window1.xaml.cs#_dragdrop_createdataobject_typestring)]
 [!code-vb[DragDrop_DragDropMiscCode#_DragDrop_CreateDataObject_TypeString](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DragDrop_DragDropMiscCode/visualbasic/window1.xaml.vb#_dragdrop_createdataobject_typestring)]  
  
 <span data-ttu-id="e9fa3-132">Para obtener más ejemplos de código que crea un objeto de datos, vea [Crear un objeto](how-to-create-a-data-object.md)de datos .</span><span class="sxs-lookup"><span data-stu-id="e9fa3-132">For more examples of code that creates a data object, see [Create a Data Object](how-to-create-a-data-object.md).</span></span>  
  
### <a name="storing-data-in-multiple-formats"></a><span data-ttu-id="e9fa3-133">Almacenamiento de datos en múltiples formatos</span><span class="sxs-lookup"><span data-stu-id="e9fa3-133">Storing Data in Multiple Formats</span></span>  
 <span data-ttu-id="e9fa3-134">Un único objeto de datos puede almacenar datos en varios formatos.</span><span class="sxs-lookup"><span data-stu-id="e9fa3-134">A single data object is able to store data in multiple formats.</span></span>   <span data-ttu-id="e9fa3-135">El uso estratégico de varios formatos de datos dentro de un único objeto de datos potencialmente hace que el objeto de datos sea consumible por una variedad más amplia de destinos de colocación que si solo se pudiera representar un único formato de datos.</span><span class="sxs-lookup"><span data-stu-id="e9fa3-135">Strategic use of multiple data formats within a single data object potentially makes the data object consumable by a wider variety of drop targets than if only a single data format could be represented.</span></span>  <span data-ttu-id="e9fa3-136">Tenga en cuenta que, en general, un origen de arrastre debe ser independiente sobre los formatos de datos que son consumibles por posibles destinos de colocación.</span><span class="sxs-lookup"><span data-stu-id="e9fa3-136">Note that, in general, a drag source must be agnostic about the data formats that are consumable by potential drop targets.</span></span>  
  
 <span data-ttu-id="e9fa3-137">En el ejemplo siguiente <xref:System.Windows.DataObject.SetData%28System.String%2CSystem.Object%29> se muestra cómo utilizar el método para agregar datos a un objeto de datos en varios formatos.</span><span class="sxs-lookup"><span data-stu-id="e9fa3-137">The following example shows how to use the <xref:System.Windows.DataObject.SetData%28System.String%2CSystem.Object%29> method to add data to a data object in multiple formats.</span></span>  
  
 [!code-csharp[DragDrop_DragDropMiscCode#_DragDrop_StoreMultipleFormats](~/samples/snippets/csharp/VS_Snippets_Wpf/DragDrop_DragDropMiscCode/CSharp/Window1.xaml.cs#_dragdrop_storemultipleformats)]
 [!code-vb[DragDrop_DragDropMiscCode#_DragDrop_StoreMultipleFormats](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DragDrop_DragDropMiscCode/visualbasic/window1.xaml.vb#_dragdrop_storemultipleformats)]  
  
### <a name="querying-a-data-object-for-available-formats"></a><span data-ttu-id="e9fa3-138">Consulta de un objeto de datos para los formatos disponibles</span><span class="sxs-lookup"><span data-stu-id="e9fa3-138">Querying a Data Object for Available Formats</span></span>  
 <span data-ttu-id="e9fa3-139">Dado que un único objeto de datos puede contener un número arbitrario de formatos de datos, los objetos de datos incluyen facilidades para recuperar una lista de formatos de datos disponibles.</span><span class="sxs-lookup"><span data-stu-id="e9fa3-139">Because a single data object can contain an arbitrary number of data formats, data objects include facilities for retrieving a list of available data formats.</span></span>  
  
 <span data-ttu-id="e9fa3-140">El siguiente código <xref:System.Windows.DataObject.GetFormats%2A> de ejemplo utiliza la sobrecarga para obtener una matriz de cadenas que denotan todos los formatos de datos disponibles en un objeto de datos (tanto nativo como por conversión automática).</span><span class="sxs-lookup"><span data-stu-id="e9fa3-140">The following example code uses the <xref:System.Windows.DataObject.GetFormats%2A> overload to get an array of strings denoting all data formats available in a data object (both native and by auto-convert).</span></span>  
  
 [!code-csharp[DragDrop_DragDropMiscCode#_DragDrop_GetAllDataFormats](~/samples/snippets/csharp/VS_Snippets_Wpf/DragDrop_DragDropMiscCode/CSharp/Window1.xaml.cs#_dragdrop_getalldataformats)]
 [!code-vb[DragDrop_DragDropMiscCode#_DragDrop_GetAllDataFormats](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DragDrop_DragDropMiscCode/visualbasic/window1.xaml.vb#_dragdrop_getalldataformats)]  
  
 <span data-ttu-id="e9fa3-141">Para obtener más ejemplos de código que consulta un objeto de datos para los formatos de datos disponibles, vea [Listar los formatos](how-to-list-the-data-formats-in-a-data-object.md)de datos en un objeto de datos .</span><span class="sxs-lookup"><span data-stu-id="e9fa3-141">For more examples of code that queries a data object for available data formats, see [List the Data Formats in a Data Object](how-to-list-the-data-formats-in-a-data-object.md).</span></span>  <span data-ttu-id="e9fa3-142">Para obtener ejemplos de consulta de un objeto de datos para la presencia de un formato de datos determinado, vea Determinar si un formato de datos [está presente en un objeto](how-to-determine-if-a-data-format-is-present-in-a-data-object.md)de datos .</span><span class="sxs-lookup"><span data-stu-id="e9fa3-142">For examples of querying a data object for the presence of a particular data format, see [Determine if a Data Format is Present in a Data Object](how-to-determine-if-a-data-format-is-present-in-a-data-object.md).</span></span>  
  
### <a name="retrieving-data-from-a-data-object"></a><span data-ttu-id="e9fa3-143">Recuperación de datos de un objeto de datos</span><span class="sxs-lookup"><span data-stu-id="e9fa3-143">Retrieving Data from a Data Object</span></span>  
 <span data-ttu-id="e9fa3-144">Recuperar datos de un objeto de datos en un <xref:System.Windows.DataObject.GetData%2A> formato determinado simplemente implica llamar a uno de los métodos y especificar el formato de datos deseado.</span><span class="sxs-lookup"><span data-stu-id="e9fa3-144">Retrieving data from a data object in a particular format simply involves calling one of the <xref:System.Windows.DataObject.GetData%2A> methods and specifying the desired data format.</span></span>  <span data-ttu-id="e9fa3-145">Uno de <xref:System.Windows.DataObject.GetDataPresent%2A> los métodos se puede utilizar para comprobar la presencia de un formato de datos determinado.</span><span class="sxs-lookup"><span data-stu-id="e9fa3-145">One of the <xref:System.Windows.DataObject.GetDataPresent%2A> methods can be used to check for the presence of a particular data format.</span></span>  <span data-ttu-id="e9fa3-146"><xref:System.Windows.DataObject.GetData%2A>devuelve los datos <xref:System.Object>en un ; dependiendo del formato de datos, este objeto se puede convertir en un contenedor específico de tipo.</span><span class="sxs-lookup"><span data-stu-id="e9fa3-146"><xref:System.Windows.DataObject.GetData%2A> returns the data in an <xref:System.Object>; depending on the data format, this object can be cast to a type-specific container.</span></span>  
  
 <span data-ttu-id="e9fa3-147">El siguiente código <xref:System.Windows.DataObject.GetDataPresent%28System.String%29> de ejemplo utiliza la sobrecarga para comprobar si hay un formato de datos especificado disponible (nativo o por conversión automática).</span><span class="sxs-lookup"><span data-stu-id="e9fa3-147">The following example code uses the <xref:System.Windows.DataObject.GetDataPresent%28System.String%29> overload to check if a specified data format is available (native or by auto-convert).</span></span> <span data-ttu-id="e9fa3-148">Si el formato especificado está disponible, el ejemplo <xref:System.Windows.DataObject.GetData%28System.String%29> recupera los datos mediante el método.</span><span class="sxs-lookup"><span data-stu-id="e9fa3-148">If the specified format is available, the example retrieves the data by using the <xref:System.Windows.DataObject.GetData%28System.String%29> method.</span></span>  
  
 [!code-csharp[DragDrop_DragDropMiscCode#_DragDrop_GetSpecificDataFormat](~/samples/snippets/csharp/VS_Snippets_Wpf/DragDrop_DragDropMiscCode/CSharp/Window1.xaml.cs#_dragdrop_getspecificdataformat)]
 [!code-vb[DragDrop_DragDropMiscCode#_DragDrop_GetSpecificDataFormat](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DragDrop_DragDropMiscCode/visualbasic/window1.xaml.vb#_dragdrop_getspecificdataformat)]  
  
 <span data-ttu-id="e9fa3-149">Para obtener más ejemplos de código que recupera datos de un objeto de datos, vea [Recuperar datos en un formato](how-to-retrieve-data-in-a-particular-data-format.md)de datos determinado .</span><span class="sxs-lookup"><span data-stu-id="e9fa3-149">For more examples of code that retrieves data from a data object, see [Retrieve Data in a Particular Data Format](how-to-retrieve-data-in-a-particular-data-format.md).</span></span>  
  
### <a name="removing-data-from-a-data-object"></a><span data-ttu-id="e9fa3-150">Eliminación de datos de un objeto de datos</span><span class="sxs-lookup"><span data-stu-id="e9fa3-150">Removing Data From a Data Object</span></span>  
 <span data-ttu-id="e9fa3-151">Los datos no se pueden quitar directamente de un objeto de datos.</span><span class="sxs-lookup"><span data-stu-id="e9fa3-151">Data cannot be directly removed from a data object.</span></span>  <span data-ttu-id="e9fa3-152">Para eliminar eficazmente los datos de un objeto de datos, siga estos pasos:</span><span class="sxs-lookup"><span data-stu-id="e9fa3-152">To effectively remove data from a data object, follow these steps:</span></span>  
  
1. <span data-ttu-id="e9fa3-153">Cree un nuevo objeto de datos que contendrá solo los datos que desea conservar.</span><span class="sxs-lookup"><span data-stu-id="e9fa3-153">Create a new data object that will contain only the data you want to retain.</span></span>  
  
2. <span data-ttu-id="e9fa3-154">"Copiar" los datos deseados del objeto de datos antiguo al nuevo objeto de datos.</span><span class="sxs-lookup"><span data-stu-id="e9fa3-154">"Copy" the desired data from the old data object to the new data object.</span></span>  <span data-ttu-id="e9fa3-155">Para copiar los datos, <xref:System.Windows.DataObject.GetData%2A> utilice uno <xref:System.Object> de los métodos para recuperar un <xref:System.Windows.DataObject.SetData%2A> que contiene los datos sin procesar y, a continuación, utilice uno de los métodos para agregar los datos al nuevo objeto de datos.</span><span class="sxs-lookup"><span data-stu-id="e9fa3-155">To copy the data, use one of the <xref:System.Windows.DataObject.GetData%2A> methods to retrieve an <xref:System.Object> that contains the raw data, and then use one of the <xref:System.Windows.DataObject.SetData%2A> methods to add the data to the new data object.</span></span>  
  
3. <span data-ttu-id="e9fa3-156">Reemplace el objeto de datos antiguo por el nuevo.</span><span class="sxs-lookup"><span data-stu-id="e9fa3-156">Replace the old data object with the new one.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="e9fa3-157">Los <xref:System.Windows.DataObject.SetData%2A> métodos solo agregan datos a un objeto de datos; no reemplazan los datos, incluso si los datos y el formato de datos son exactamente los mismos que una llamada anterior.</span><span class="sxs-lookup"><span data-stu-id="e9fa3-157">The <xref:System.Windows.DataObject.SetData%2A> methods only add data to a data object; they do not replace data, even if the data and data format are exactly the same as a previous call.</span></span> <span data-ttu-id="e9fa3-158">Llamar <xref:System.Windows.DataObject.SetData%2A> dos veces para el mismo formato de datos y datos dará como resultado que el formato de datos/datos esté presente dos veces en el objeto de datos.</span><span class="sxs-lookup"><span data-stu-id="e9fa3-158">Calling <xref:System.Windows.DataObject.SetData%2A> twice for the same data and data format will result in the data/data format being present twice in the data object.</span></span>
