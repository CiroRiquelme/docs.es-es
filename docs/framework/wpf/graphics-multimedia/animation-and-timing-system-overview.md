---
title: Información general sobre sistemas de temporización y animación
ms.date: 03/30/2017
helpviewer_keywords:
- timing system [WPF]
- animation [WPF]
ms.assetid: 172cd5a8-a333-4c81-9456-fafccc19f382
ms.openlocfilehash: d0ac2a8160a1e6f9bcdb333593ec207954b391aa
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/12/2020
ms.locfileid: "79187714"
---
# <a name="animation-and-timing-system-overview"></a><span data-ttu-id="e3cd7-102">Información general sobre sistemas de temporización y animación</span><span class="sxs-lookup"><span data-stu-id="e3cd7-102">Animation and Timing System Overview</span></span>
<span data-ttu-id="e3cd7-103">En este tema se describe cómo <xref:System.Windows.Media.Animation.Timeline>el <xref:System.Windows.Media.Animation.Clock> sistema de temporización utiliza la animación, y las clases para animar propiedades.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-103">This topic describes how the timing system uses the animation, <xref:System.Windows.Media.Animation.Timeline>, and <xref:System.Windows.Media.Animation.Clock> classes to animate properties.</span></span>  
  
<a name="prerequisites"></a>
## <a name="prerequisites"></a><span data-ttu-id="e3cd7-104">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="e3cd7-104">Prerequisites</span></span>  
 <span data-ttu-id="e3cd7-105">Para entender este tema, debe poder utilizar animaciones [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] para animar propiedades, como se describe en [Información general sobre animaciones](animation-overview.md).</span><span class="sxs-lookup"><span data-stu-id="e3cd7-105">To understand this topic, you should be able to use [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animations to animate properties, as described in the [Animation Overview](animation-overview.md).</span></span> <span data-ttu-id="e3cd7-106">También ayuda conocer las propiedades de dependencia; para más información, vea [Información general sobre las propiedades de dependencia](../advanced/dependency-properties-overview.md).</span><span class="sxs-lookup"><span data-stu-id="e3cd7-106">It also helps to be familiar with dependency properties; for more information, see the [Dependency Properties Overview](../advanced/dependency-properties-overview.md).</span></span>  
  
<a name="timelinesandclocks"></a>
## <a name="timelines-and-clocks"></a><span data-ttu-id="e3cd7-107">Escalas de tiempo y relojes</span><span class="sxs-lookup"><span data-stu-id="e3cd7-107">Timelines and Clocks</span></span>  
 <span data-ttu-id="e3cd7-108">La [información general](animation-overview.md) <xref:System.Windows.Media.Animation.Timeline> sobre animación describe cómo a representa un <xref:System.Windows.Media.Animation.Timeline> segmento de tiempo y una animación es un tipo que produce valores de salida.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-108">The [Animation Overview](animation-overview.md) described how a <xref:System.Windows.Media.Animation.Timeline> represents a segment of time, and an animation is a type of <xref:System.Windows.Media.Animation.Timeline> that produces output values.</span></span> <span data-ttu-id="e3cd7-109">Por sí <xref:System.Windows.Media.Animation.Timeline>mismo, un , no hace nada más que simplemente describir un segmento de tiempo.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-109">By itself, a <xref:System.Windows.Media.Animation.Timeline>, doesn't do anything other than just describe a segment of time.</span></span> <span data-ttu-id="e3cd7-110">Es el objeto de <xref:System.Windows.Media.Animation.Clock> la línea de tiempo el que hace el trabajo real.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-110">It's the timeline's <xref:System.Windows.Media.Animation.Clock> object that does the real work.</span></span> <span data-ttu-id="e3cd7-111">Del mismo modo, la animación no anima realmente las propiedades: una clase de <xref:System.Windows.Media.Animation.Clock> animación describe cómo se deben calcular los valores de salida, pero es el que se creó para la animación que controla la salida de animación y la aplica a las propiedades.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-111">Likewise, animation doesn't actually animate properties: an animation class describes how output values should be calculated, but it’s the <xref:System.Windows.Media.Animation.Clock> that was created for the animation that drives the animation output and applies it to properties.</span></span>  
  
 <span data-ttu-id="e3cd7-112">A <xref:System.Windows.Media.Animation.Clock> es un tipo especial de objeto que mantiene el <xref:System.Windows.Media.Animation.Timeline>estado de tiempo de ejecución relacionado con la sincronización para el archivo .</span><span class="sxs-lookup"><span data-stu-id="e3cd7-112">A <xref:System.Windows.Media.Animation.Clock> is a special type of object that maintains timing-related run-time state for the <xref:System.Windows.Media.Animation.Timeline>.</span></span> <span data-ttu-id="e3cd7-113">Proporciona tres bits de información que son esenciales <xref:System.Windows.Media.Animation.Clock.CurrentTime%2A> <xref:System.Windows.Media.Animation.Clock.CurrentProgress%2A>para <xref:System.Windows.Media.Animation.Clock.CurrentState%2A>el sistema de animación y sincronización: , , y .</span><span class="sxs-lookup"><span data-stu-id="e3cd7-113">It provides three bits of information that are essential to the animation and timing system: <xref:System.Windows.Media.Animation.Clock.CurrentTime%2A>, <xref:System.Windows.Media.Animation.Clock.CurrentProgress%2A>, and <xref:System.Windows.Media.Animation.Clock.CurrentState%2A>.</span></span> <span data-ttu-id="e3cd7-114">A <xref:System.Windows.Media.Animation.Clock> determina su hora actual, progreso y estado mediante los <xref:System.Windows.Media.Animation.Timeline> <xref:System.Windows.Media.Animation.Timeline.Duration%2A>comportamientos de temporización descritos por su : , <xref:System.Windows.Media.Animation.Timeline.RepeatBehavior%2A>, <xref:System.Windows.Media.Animation.Timeline.AutoReverse%2A>, , etc.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-114">A <xref:System.Windows.Media.Animation.Clock> determines its current time, progress, and state by using the timing behaviors described by its <xref:System.Windows.Media.Animation.Timeline>: <xref:System.Windows.Media.Animation.Timeline.Duration%2A>, <xref:System.Windows.Media.Animation.Timeline.RepeatBehavior%2A>, <xref:System.Windows.Media.Animation.Timeline.AutoReverse%2A>, and so on.</span></span>  
  
 <span data-ttu-id="e3cd7-115">En la mayoría <xref:System.Windows.Media.Animation.Clock> de los casos, se crea automáticamente un para la línea de tiempo.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-115">In most cases, a <xref:System.Windows.Media.Animation.Clock> is created automatically for your timeline.</span></span> <span data-ttu-id="e3cd7-116">Al animar mediante <xref:System.Windows.Media.Animation.Storyboard> un <xref:System.Windows.Media.Animation.Animatable.BeginAnimation%2A> método o mediante un método, los relojes se crean automáticamente para las escalas de tiempo y animaciones y se aplican a sus propiedades de destino.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-116">When you animate by using a <xref:System.Windows.Media.Animation.Storyboard> or the <xref:System.Windows.Media.Animation.Animatable.BeginAnimation%2A> method, clocks are automatically created for your timelines and animations and applied to their targeted properties.</span></span> <span data-ttu-id="e3cd7-117">También puede crear <xref:System.Windows.Media.Animation.Clock> un explícitamente <xref:System.Windows.Media.Animation.Timeline.CreateClock%2A> mediante <xref:System.Windows.Media.Animation.Timeline>el método de su archivo .</span><span class="sxs-lookup"><span data-stu-id="e3cd7-117">You can also create a <xref:System.Windows.Media.Animation.Clock> explicitly by using the <xref:System.Windows.Media.Animation.Timeline.CreateClock%2A> method of your <xref:System.Windows.Media.Animation.Timeline>.</span></span> <span data-ttu-id="e3cd7-118">El <xref:System.Windows.Media.MediaTimeline.CreateClock%2A?displayProperty=nameWithType> método crea un reloj del <xref:System.Windows.Media.Animation.Timeline> tipo adecuado para el tipo en el que se llama.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-118">The <xref:System.Windows.Media.MediaTimeline.CreateClock%2A?displayProperty=nameWithType> method creates a clock of the appropriate type for the <xref:System.Windows.Media.Animation.Timeline> on which it is called.</span></span> <span data-ttu-id="e3cd7-119">Si <xref:System.Windows.Media.Animation.Timeline> contiene líneas de tiempo <xref:System.Windows.Media.Animation.Clock> secundarias, también crea objetos para ellos.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-119">If the <xref:System.Windows.Media.Animation.Timeline> contains child timelines, it creates <xref:System.Windows.Media.Animation.Clock> objects for them as well.</span></span> <span data-ttu-id="e3cd7-120">Los <xref:System.Windows.Media.Animation.Clock> objetos resultantes se organizan en <xref:System.Windows.Media.Animation.Timeline> árboles que coinciden con la estructura del árbol de objetos a partir del cual se crean.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-120">The resulting <xref:System.Windows.Media.Animation.Clock> objects are arranged in trees that match the structure of the <xref:System.Windows.Media.Animation.Timeline> objects tree from which they are created.</span></span>  
  
 <span data-ttu-id="e3cd7-121">Hay diferentes tipos de relojes para diferentes tipos de escalas de tiempo.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-121">There are different types of clocks for different types of timelines.</span></span> <span data-ttu-id="e3cd7-122">En la tabla <xref:System.Windows.Media.Animation.Clock> siguiente se muestran <xref:System.Windows.Media.Animation.Timeline> los tipos que corresponden a algunos de los diferentes tipos.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-122">The following table shows the <xref:System.Windows.Media.Animation.Clock> types that correspond to some of the different <xref:System.Windows.Media.Animation.Timeline> types.</span></span>  
  
|<span data-ttu-id="e3cd7-123">Tipos de objetos Timeline</span><span class="sxs-lookup"><span data-stu-id="e3cd7-123">Timeline type</span></span>|<span data-ttu-id="e3cd7-124">Tipo de reloj</span><span class="sxs-lookup"><span data-stu-id="e3cd7-124">Clock type</span></span>|<span data-ttu-id="e3cd7-125">Propósito del reloj</span><span class="sxs-lookup"><span data-stu-id="e3cd7-125">Clock purpose</span></span>|  
|-------------------|----------------|-------------------|  
|<span data-ttu-id="e3cd7-126">Animación (hereda de <xref:System.Windows.Media.Animation.AnimationTimeline>)</span><span class="sxs-lookup"><span data-stu-id="e3cd7-126">Animation (inherits from <xref:System.Windows.Media.Animation.AnimationTimeline>)</span></span>|<xref:System.Windows.Media.Animation.AnimationClock>|<span data-ttu-id="e3cd7-127">Genera valores de salida para una propiedad de dependencia.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-127">Generates output values for a dependency property.</span></span>|  
|<xref:System.Windows.Media.MediaTimeline>|<xref:System.Windows.Media.MediaClock>|<span data-ttu-id="e3cd7-128">Procesa un archivo multimedia.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-128">Processes a media file.</span></span>|  
|<xref:System.Windows.Media.Animation.ParallelTimeline>|<xref:System.Windows.Media.Animation.ClockGroup>|<span data-ttu-id="e3cd7-129">Agrupa y controla sus objetos secundarios <xref:System.Windows.Media.Animation.Clock></span><span class="sxs-lookup"><span data-stu-id="e3cd7-129">Groups and controls its child <xref:System.Windows.Media.Animation.Clock> objects</span></span>|  
|<xref:System.Windows.Media.Animation.Storyboard>|<xref:System.Windows.Media.Animation.ClockGroup>|<span data-ttu-id="e3cd7-130">Agrupa y controla sus objetos secundarios <xref:System.Windows.Media.Animation.Clock></span><span class="sxs-lookup"><span data-stu-id="e3cd7-130">Groups and controls its child <xref:System.Windows.Media.Animation.Clock> objects</span></span>|  
  
 <span data-ttu-id="e3cd7-131">Puede aplicar <xref:System.Windows.Media.Animation.AnimationClock> cualquier objeto que cree a <xref:System.Windows.Media.Animation.IAnimatable.ApplyAnimationClock%2A> propiedades de dependencia compatibles mediante el método.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-131">You can apply any <xref:System.Windows.Media.Animation.AnimationClock> objects you create to compatible dependency properties by using the <xref:System.Windows.Media.Animation.IAnimatable.ApplyAnimationClock%2A> method.</span></span>  
  
 <span data-ttu-id="e3cd7-132">En escenarios de rendimiento intensivo, como la animación de <xref:System.Windows.Media.Animation.Clock> un gran número de objetos similares, la administración de su propio uso puede proporcionar ventajas de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-132">In performance-intensive scenarios, such as animating large numbers of similar objects, managing your own <xref:System.Windows.Media.Animation.Clock> use can provide performance benefits.</span></span>  
  
<a name="timemanager"></a>
## <a name="clocks-and-the-time-manager"></a><span data-ttu-id="e3cd7-133">Los relojes y el administrador de tiempo</span><span class="sxs-lookup"><span data-stu-id="e3cd7-133">Clocks and the Time Manager</span></span>  
 <span data-ttu-id="e3cd7-134">Al animar objetos en [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], es el <xref:System.Windows.Media.MediaPlayer.Clock%2A> administrador de tiempo que administra los objetos creados para las escalas de tiempo.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-134">When you animate objects in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], it’s the time manager that manages the <xref:System.Windows.Media.MediaPlayer.Clock%2A> objects created for your timelines.</span></span> <span data-ttu-id="e3cd7-135">El administrador de tiempo es la raíz de un árbol de objetos <xref:System.Windows.Media.MediaPlayer.Clock%2A> y controla el flujo de tiempo en ese árbol.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-135">The time manager is the root of a tree of <xref:System.Windows.Media.MediaPlayer.Clock%2A> objects and controls the flow of time in that tree.</span></span>  <span data-ttu-id="e3cd7-136">El administrador de tiempo se crea automáticamente para cada aplicación [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] y no es visible para el desarrollador de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-136">A time manager is automatically created for each [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] application and is invisible to the application developer.</span></span> <span data-ttu-id="e3cd7-137">El administrador de tiempo "marca pasos" muchas veces por segundo; el número real de pasos que se producen cada segundo varía, en función de los recursos disponibles en el sistema.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-137">The time manager "ticks" many times per second; the actual number of ticks that occur each second varies depending on available system resources.</span></span> <span data-ttu-id="e3cd7-138">Durante cada uno de estos ticks, el administrador <xref:System.Windows.Media.Animation.ClockState.Active> <xref:System.Windows.Media.Animation.Clock> de tiempo calcula el estado de todos los objetos del árbol de tiempo.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-138">During each one of these ticks, the time manager computes the state of all <xref:System.Windows.Media.Animation.ClockState.Active> <xref:System.Windows.Media.Animation.Clock> objects in the timing tree.</span></span>  
  
 <span data-ttu-id="e3cd7-139">En la ilustración siguiente se muestra <xref:System.Windows.Media.Animation.AnimationClock>la relación entre el administrador de tiempo y , y una propiedad de dependencia animada.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-139">The following illustration shows the relationship between the time manager, and <xref:System.Windows.Media.Animation.AnimationClock>, and an animated dependency property.</span></span>  
  
 <span data-ttu-id="e3cd7-140">![Componentes del sistema de control de tiempo](./media/graphicsmm-clocks-1clock1prop.png "graphicsmm_clocks_1clock1prop")</span><span class="sxs-lookup"><span data-stu-id="e3cd7-140">![Timing system components](./media/graphicsmm-clocks-1clock1prop.png "graphicsmm_clocks_1clock1prop")</span></span>  
<span data-ttu-id="e3cd7-141">Animación de una propiedad</span><span class="sxs-lookup"><span data-stu-id="e3cd7-141">Animating a property</span></span>  
  
 <span data-ttu-id="e3cd7-142">Cuando el administrador de tiempo marca, <xref:System.Windows.Media.Animation.ClockState.Active> <xref:System.Windows.Media.Animation.Clock> actualiza el tiempo de cada uno en la aplicación.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-142">When the time manager ticks, it updates the time of every <xref:System.Windows.Media.Animation.ClockState.Active> <xref:System.Windows.Media.Animation.Clock> in the application.</span></span> <span data-ttu-id="e3cd7-143">Si <xref:System.Windows.Media.Animation.Clock> es <xref:System.Windows.Media.Animation.AnimationClock>un , <xref:System.Windows.Media.Animation.AnimationTimeline.GetCurrentValue%2A> utiliza el <xref:System.Windows.Media.Animation.AnimationTimeline> método de la a partir de la cual se creó para calcular su valor de salida actual.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-143">If the <xref:System.Windows.Media.Animation.Clock> is an <xref:System.Windows.Media.Animation.AnimationClock>, it uses the <xref:System.Windows.Media.Animation.AnimationTimeline.GetCurrentValue%2A> method of the <xref:System.Windows.Media.Animation.AnimationTimeline> from which it was created to calculate its current output value.</span></span> <span data-ttu-id="e3cd7-144">El <xref:System.Windows.Media.Animation.AnimationClock> proporciona <xref:System.Windows.Media.Animation.AnimationTimeline> la hora local actual, un valor de entrada, que suele ser el valor base de la propiedad y un valor de destino predeterminado.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-144">The <xref:System.Windows.Media.Animation.AnimationClock> supplies the <xref:System.Windows.Media.Animation.AnimationTimeline> with the current local time, an input value, which is typically the base value of the property, and a default destination value.</span></span> <span data-ttu-id="e3cd7-145">Cuando se recupera el valor de <xref:System.Windows.DependencyObject.GetValue%2A> una propiedad animada por el método <xref:System.Windows.Media.Animation.AnimationClock>o su descriptor de acceso CLR, se obtiene la salida de su archivo .</span><span class="sxs-lookup"><span data-stu-id="e3cd7-145">When you retrieve the value of an animated by property using the <xref:System.Windows.DependencyObject.GetValue%2A> method or its CLR accessor, you get the output of its <xref:System.Windows.Media.Animation.AnimationClock>.</span></span>  
  
#### <a name="clock-groups"></a><span data-ttu-id="e3cd7-146">Grupos de relojes</span><span class="sxs-lookup"><span data-stu-id="e3cd7-146">Clock Groups</span></span>  
 <span data-ttu-id="e3cd7-147">En la sección anterior se describe <xref:System.Windows.Media.Animation.Clock> cómo hay diferentes tipos de objetos para diferentes tipos de escalas de tiempo.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-147">The preceding section described how there are different types of <xref:System.Windows.Media.Animation.Clock> objects for different types of timelines.</span></span> <span data-ttu-id="e3cd7-148">En la ilustración siguiente se muestra <xref:System.Windows.Media.Animation.ClockGroup>la <xref:System.Windows.Media.Animation.AnimationClock>relación entre el administrador de tiempo, un , un , y una propiedad de dependencia animada.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-148">The following illustration shows the relationship between the time manager, a <xref:System.Windows.Media.Animation.ClockGroup>, an <xref:System.Windows.Media.Animation.AnimationClock>, and an animated dependency property.</span></span> <span data-ttu-id="e3cd7-149">A <xref:System.Windows.Media.Animation.ClockGroup> se crea para las escalas de <xref:System.Windows.Media.Animation.Storyboard> tiempo que agrupan otras escalas de tiempo, como la clase, que agrupa animaciones y otras escalas de tiempo.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-149">A <xref:System.Windows.Media.Animation.ClockGroup> is created for timelines that group other timelines, such as the <xref:System.Windows.Media.Animation.Storyboard> class, which groups animations and other timelines.</span></span>  
  
 <span data-ttu-id="e3cd7-150">![Componentes del sistema de control de tiempo](./media/graphicsmm-clocks-2clock1clockgroup2prop.png "graphicsmm_clocks_2clock1clockgroup2prop")</span><span class="sxs-lookup"><span data-stu-id="e3cd7-150">![Timing system components](./media/graphicsmm-clocks-2clock1clockgroup2prop.png "graphicsmm_clocks_2clock1clockgroup2prop")</span></span>  
<span data-ttu-id="e3cd7-151">Un objeto ClockGroup</span><span class="sxs-lookup"><span data-stu-id="e3cd7-151">A ClockGroup</span></span>  
  
#### <a name="composition"></a><span data-ttu-id="e3cd7-152">Composición</span><span class="sxs-lookup"><span data-stu-id="e3cd7-152">Composition</span></span>  
 <span data-ttu-id="e3cd7-153">Es posible asociar varios relojes a una única propiedad, en cuyo caso cada reloj utiliza el valor de salida del reloj anterior como su valor base.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-153">It's possible to associate multiple clocks with a single property, in which case each clock uses the output value of the preceding clock as its base value.</span></span> <span data-ttu-id="e3cd7-154">En la ilustración siguiente se muestran tres <xref:System.Windows.Media.Animation.AnimationClock> objetos aplicados a la misma propiedad.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-154">The following illustration shows three <xref:System.Windows.Media.Animation.AnimationClock> objects applied to the same property.</span></span> <span data-ttu-id="e3cd7-155">El reloj1 utiliza el valor base de la propiedad animada como entrada y lo utiliza para generar la salida.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-155">Clock1 uses the base value of the animated property as its input and uses it to generate output.</span></span> <span data-ttu-id="e3cd7-156">El reloj2 toma la salida del reloj1 como entrada y lo utiliza para generar la salida.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-156">Clock2 takes the output from Clock1 as its input and uses it to generate output.</span></span> <span data-ttu-id="e3cd7-157">El reloj3 toma la salida del reloj2 como entrada y lo utiliza para generar la salida.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-157">Clock3 takes the output from Clock2 as its input and uses it to generate output.</span></span> <span data-ttu-id="e3cd7-158">Cuando varios relojes afectan simultáneamente a la misma propiedad, se dice que están en una cadena de composición.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-158">When multiple clocks affect the same property simultaneously, they are said to be in a composition chain.</span></span>  
  
 <span data-ttu-id="e3cd7-159">![Componentes del sistema de control de tiempo](./media/graphicsmm-clocks-2clock1prop.png "graphicsmm_clocks_2clock1prop")</span><span class="sxs-lookup"><span data-stu-id="e3cd7-159">![Timing system components](./media/graphicsmm-clocks-2clock1prop.png "graphicsmm_clocks_2clock1prop")</span></span>  
<span data-ttu-id="e3cd7-160">Una cadena de composición</span><span class="sxs-lookup"><span data-stu-id="e3cd7-160">A composition chain</span></span>  
  
 <span data-ttu-id="e3cd7-161">Tenga en cuenta que aunque se crea <xref:System.Windows.Media.Animation.AnimationClock> una relación entre la entrada y salida de los objetos de la cadena de composición, sus comportamientos de temporización no se ven afectados; <xref:System.Windows.Media.Animation.Clock> los objetos (incluidos <xref:System.Windows.Media.Animation.AnimationClock> los objetos) tienen una dependencia jerárquica de sus objetos primarios. <xref:System.Windows.Media.Animation.Clock></span><span class="sxs-lookup"><span data-stu-id="e3cd7-161">Note that although a relationship is created among the input and output of the <xref:System.Windows.Media.Animation.AnimationClock> objects in the composition chain, their timing behaviors are not affected; <xref:System.Windows.Media.Animation.Clock> objects (including <xref:System.Windows.Media.Animation.AnimationClock> objects) have a hierarchical dependency on their parent <xref:System.Windows.Media.Animation.Clock> objects.</span></span>  
  
 <span data-ttu-id="e3cd7-162">Para aplicar varios relojes a la <xref:System.Windows.Media.Animation.HandoffBehavior.Compose> <xref:System.Windows.Media.Animation.HandoffBehavior> misma propiedad, <xref:System.Windows.Media.Animation.Storyboard>utilice la <xref:System.Windows.Media.Animation.AnimationClock>opción al aplicar un , animación o .</span><span class="sxs-lookup"><span data-stu-id="e3cd7-162">To apply multiple clocks to the same property, use the <xref:System.Windows.Media.Animation.HandoffBehavior.Compose> <xref:System.Windows.Media.Animation.HandoffBehavior> when applying a <xref:System.Windows.Media.Animation.Storyboard>, animation, or <xref:System.Windows.Media.Animation.AnimationClock>.</span></span>  
  
#### <a name="ticks-and-event-consolidation"></a><span data-ttu-id="e3cd7-163">Pasos y consolidación de eventos</span><span class="sxs-lookup"><span data-stu-id="e3cd7-163">Ticks and Event Consolidation</span></span>  
 <span data-ttu-id="e3cd7-164">Además de calcular valores de salida, el administrador de tiempo hace otras cosas a cada paso que marca: determina el estado de cada reloj y genera los eventos adecuados.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-164">In addition to calculating output values, the time manager does other work every time it ticks: it determines the state of each clock and raises events as appropriate.</span></span>  
  
 <span data-ttu-id="e3cd7-165">Aunque los ciclos se producen con frecuencia, pueden ocurrir muchas cosas entre ellos.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-165">While ticks occur frequently, it's possible for a lot of things to happen between ticks.</span></span> <span data-ttu-id="e3cd7-166">Por ejemplo, <xref:System.Windows.Media.Animation.Clock> un podría detenerse, iniciarse y detenerse <xref:System.Windows.Media.Animation.Clock.CurrentState%2A> de nuevo, en cuyo caso su valor habrá cambiado tres veces.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-166">For example, a <xref:System.Windows.Media.Animation.Clock> might be stopped, started, and stopped again, in which case its <xref:System.Windows.Media.Animation.Clock.CurrentState%2A> value will have changed three times.</span></span> <span data-ttu-id="e3cd7-167">En teoría, <xref:System.Windows.Media.Animation.Clock.CurrentStateInvalidated> el evento podría generarse varias veces en un solo tick; sin embargo, el motor de <xref:System.Windows.Media.Animation.Clock.CurrentStateInvalidated> sincronización consolida los eventos, de modo que el evento se puede generar como máximo una vez por tick.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-167">In theory, the <xref:System.Windows.Media.Animation.Clock.CurrentStateInvalidated> event could be raised multiple times in a single tick; however, the timing engine consolidates events, so that the <xref:System.Windows.Media.Animation.Clock.CurrentStateInvalidated> event can be raised at most once per tick.</span></span> <span data-ttu-id="e3cd7-168">Esto es cierto para todos los eventos de sincronización: como <xref:System.Windows.Media.Animation.Clock> máximo, se genera un evento de cada tipo para un objeto determinado.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-168">This is true for all timing events: at most one event of each type is raised for a given <xref:System.Windows.Media.Animation.Clock> object.</span></span>  
  
 <span data-ttu-id="e3cd7-169">Cuando <xref:System.Windows.Media.Animation.Clock> un modificador indica y vuelve a su estado original <xref:System.Windows.Media.Animation.ClockState.Active> entre <xref:System.Windows.Media.Animation.ClockState.Stopped> ticks <xref:System.Windows.Media.Animation.ClockState.Active>(por ejemplo, cambiar de a y de vuelta a ), el evento asociado sigue apareciendo.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-169">When a <xref:System.Windows.Media.Animation.Clock> switches states and returns back to its original state between ticks (such as changing from <xref:System.Windows.Media.Animation.ClockState.Active> to <xref:System.Windows.Media.Animation.ClockState.Stopped> and back to <xref:System.Windows.Media.Animation.ClockState.Active>), the associated event still occurs.</span></span>  
  
 <span data-ttu-id="e3cd7-170">Para más información acerca de los eventos de control de tiempo, vea [Información general sobre eventos de control de tiempo](timing-events-overview.md).</span><span class="sxs-lookup"><span data-stu-id="e3cd7-170">For more information about timing events, see the [Timing Events Overview](timing-events-overview.md).</span></span>  
  
<a name="currentvaluesbasevaluesofproperties"></a>
## <a name="current-values-and-base-values-of-properties"></a><span data-ttu-id="e3cd7-171">Valores actuales y valores base de propiedades</span><span class="sxs-lookup"><span data-stu-id="e3cd7-171">Current Values and Base Values of Properties</span></span>  
 <span data-ttu-id="e3cd7-172">Una propiedad que se pueda animar puede tener dos valores: un valor base y un valor actual.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-172">An animatable property can have two values: a base value and a current value.</span></span> <span data-ttu-id="e3cd7-173">Cuando se establece la propiedad <xref:System.Windows.DependencyObject.SetValue%2A> mediante su descriptor de acceso CLR o el método, se establece su valor base.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-173">When you set property using its CLR accessor or the <xref:System.Windows.DependencyObject.SetValue%2A> method, you set its base value.</span></span> <span data-ttu-id="e3cd7-174">Cuando no se anima una propiedad, su valor base y su valor actual son el mismo.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-174">When a property is not animated, its base and current values are the same.</span></span>  
  
 <span data-ttu-id="e3cd7-175">Al animar una propiedad, establece el <xref:System.Windows.Media.Animation.AnimationClock> valor *actual* de la propiedad.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-175">When you animate a property, the <xref:System.Windows.Media.Animation.AnimationClock> sets the property's *current* value.</span></span> <span data-ttu-id="e3cd7-176">Recuperar el valor de la propiedad a <xref:System.Windows.DependencyObject.GetValue%2A> través de <xref:System.Windows.Media.Animation.AnimationClock> su <xref:System.Windows.Media.Animation.AnimationClock> descriptor <xref:System.Windows.Media.Animation.ClockState.Active> de acceso CLR o el método devuelve la salida de la cuando es o <xref:System.Windows.Media.Animation.ClockState.Filling>.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-176">Retrieving the property's value through its CLR accessor or the <xref:System.Windows.DependencyObject.GetValue%2A> method returns the output of the <xref:System.Windows.Media.Animation.AnimationClock> when the <xref:System.Windows.Media.Animation.AnimationClock> is <xref:System.Windows.Media.Animation.ClockState.Active> or <xref:System.Windows.Media.Animation.ClockState.Filling>.</span></span> <span data-ttu-id="e3cd7-177">Puede recuperar el valor base de <xref:System.Windows.Media.Animation.IAnimatable.GetAnimationBaseValue%2A> la propiedad mediante el método.</span><span class="sxs-lookup"><span data-stu-id="e3cd7-177">You can retrieve the property's base value by using the <xref:System.Windows.Media.Animation.IAnimatable.GetAnimationBaseValue%2A> method.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e3cd7-178">Consulte también</span><span class="sxs-lookup"><span data-stu-id="e3cd7-178">See also</span></span>

- [<span data-ttu-id="e3cd7-179">Información general sobre animaciones</span><span class="sxs-lookup"><span data-stu-id="e3cd7-179">Animation Overview</span></span>](animation-overview.md)
- [<span data-ttu-id="e3cd7-180">Información general sobre eventos de control de tiempo</span><span class="sxs-lookup"><span data-stu-id="e3cd7-180">Timing Events Overview</span></span>](timing-events-overview.md)
- [<span data-ttu-id="e3cd7-181">Información general sobre comportamientos de control de tiempo</span><span class="sxs-lookup"><span data-stu-id="e3cd7-181">Timing Behaviors Overview</span></span>](timing-behaviors-overview.md)
