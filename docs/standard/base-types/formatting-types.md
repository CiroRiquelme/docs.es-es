---
title: Aplicar formato a tipos en .NET
ms.date: 03/30/2017
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- data formatting [.NET Framework]
- dates [.NET Framework], formatting
- date formatting [.NET Framework]
- number formatting [.NET Framework]
- ToString method
- custom cultural settings [.NET Framework]
- numbers [.NET Framework], formatting
- formatting strings [.NET Framework]
- time [.NET Framework], formatting
- currency [.NET Framework], formatting
- types [.NET Framework], formatting
- format specifiers [.NET Framework]
- times [.NET Framework], formatting
- culture [.NET Framework], formatting
- formatting [.NET Framework], types supported
- base types [.NET Framework], formatting
- custom formatting [.NET Framework]
- strings [.NET Framework], formatting
ms.assetid: 0d1364da-5b30-4d42-8e6b-03378343343f
ms.openlocfilehash: a1f4d9107427140bcfa6b49bc8a850432fb204f7
ms.sourcegitcommit: 30a558d23e3ac5a52071121a52c305c85fe15726
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 12/25/2019
ms.locfileid: "75348255"
---
# <a name="format-types-in-net"></a><span data-ttu-id="a158c-102">Tipos de formato en .NET</span><span class="sxs-lookup"><span data-stu-id="a158c-102">Format types in .NET</span></span>

<span data-ttu-id="a158c-103">Aplicar formato es el proceso de convertir una instancia de una clase, una estructura o un valor de enumeración en su representación de cadena, a menudo para que la cadena resultante se pueda mostrar a los usuarios o deserializar para restaurar el tipo de datos original.</span><span class="sxs-lookup"><span data-stu-id="a158c-103">Formatting is the process of converting an instance of a class, structure, or enumeration value to its string representation, often so that the resulting string can be displayed to users or deserialized to restore the original data type.</span></span> <span data-ttu-id="a158c-104">Esta conversión puede plantear varios desafíos:</span><span class="sxs-lookup"><span data-stu-id="a158c-104">This conversion can pose a number of challenges:</span></span>

- <span data-ttu-id="a158c-105">La forma en que se almacenan internamente los valores no refleja necesariamente la manera en que los usuarios desean verlos.</span><span class="sxs-lookup"><span data-stu-id="a158c-105">The way that values are stored internally does not necessarily reflect the way that users want to view them.</span></span> <span data-ttu-id="a158c-106">Por ejemplo, un número de teléfono podría almacenarse con el formato 8009999999, que no es fácil de usar.</span><span class="sxs-lookup"><span data-stu-id="a158c-106">For example, a telephone number might be stored in the form 8009999999, which is not user-friendly.</span></span> <span data-ttu-id="a158c-107">Se debería mostrar en su lugar como 800-999-9999.</span><span class="sxs-lookup"><span data-stu-id="a158c-107">It should instead be displayed as 800-999-9999.</span></span> <span data-ttu-id="a158c-108">Consulte la sección [Cadenas de formato personalizado](#custom-format-strings) para obtener un ejemplo en el que da formato a un número de esta forma.</span><span class="sxs-lookup"><span data-stu-id="a158c-108">See the [Custom Format Strings](#custom-format-strings) section for an example that formats a number in this way.</span></span>

- <span data-ttu-id="a158c-109">A veces, la conversión de un objeto en su representación de cadena no es intuitiva.</span><span class="sxs-lookup"><span data-stu-id="a158c-109">Sometimes the conversion of an object to its string representation is not intuitive.</span></span> <span data-ttu-id="a158c-110">Por ejemplo, no está claro cómo debe aparecer la representación de cadena de un objeto Temperature o un objeto Person.</span><span class="sxs-lookup"><span data-stu-id="a158c-110">For example, it is not clear how the string representation of a Temperature object or a Person object should appear.</span></span> <span data-ttu-id="a158c-111">Para obtener un ejemplo en el que se da formato a un objeto Temperature de varias formas, consulte la sección [Cadenas de formato estándar](#standard-format-strings) .</span><span class="sxs-lookup"><span data-stu-id="a158c-111">For an example that formats a Temperature object in a variety of ways, see the [Standard Format Strings](#standard-format-strings) section.</span></span>

- <span data-ttu-id="a158c-112">A menudo, los valores requieren un formato dependiente de la referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="a158c-112">Values often require culture-sensitive formatting.</span></span> <span data-ttu-id="a158c-113">Por ejemplo, en una aplicación en la que se usan números para reflejar los valores monetarios, las cadenas numéricas deben incluir el símbolo de divisa, el separador de grupo (que en la mayoría de las referencias culturales es el separador de miles) y el símbolo decimal correspondientes a la referencia cultural actual.</span><span class="sxs-lookup"><span data-stu-id="a158c-113">For example, in an application that uses numbers to reflect monetary values, numeric strings should include the current culture’s currency symbol, group separator (which, in most cultures, is the thousands separator), and decimal symbol.</span></span> <span data-ttu-id="a158c-114">Para ver un ejemplo, consulte la sección [Formato según la referencia cultural con proveedores de formato](#culture-sensitive-formatting-with-format-providers).</span><span class="sxs-lookup"><span data-stu-id="a158c-114">For an example, see the [Culture-sensitive formatting with format providers](#culture-sensitive-formatting-with-format-providers) section.</span></span>

- <span data-ttu-id="a158c-115">Puede que una aplicación muestre el mismo valor de diferentes maneras.</span><span class="sxs-lookup"><span data-stu-id="a158c-115">An application may have to display the same value in different ways.</span></span> <span data-ttu-id="a158c-116">Por ejemplo, es posible que una aplicación represente un miembro de enumeración mostrando una representación de cadena de su nombre o mostrando su valor subyacente.</span><span class="sxs-lookup"><span data-stu-id="a158c-116">For example, an application may represent an enumeration member by displaying a string representation of its name or by displaying its underlying value.</span></span> <span data-ttu-id="a158c-117">Para obtener un ejemplo en el que se da formato a un miembro de la enumeración <xref:System.DayOfWeek> de maneras diferentes, consulte la sección [Cadenas de formato estándar](#standard-format-strings) .</span><span class="sxs-lookup"><span data-stu-id="a158c-117">For an example that formats a member of the <xref:System.DayOfWeek> enumeration in different ways, see the [Standard Format Strings](#standard-format-strings) section.</span></span>

> [!NOTE]
> <span data-ttu-id="a158c-118">La aplicación de formato convierte el valor de un tipo en una representación de cadena.</span><span class="sxs-lookup"><span data-stu-id="a158c-118">Formatting converts the value of a type into a string representation.</span></span> <span data-ttu-id="a158c-119">El análisis es lo contrario que la aplicación de formato.</span><span class="sxs-lookup"><span data-stu-id="a158c-119">Parsing is the inverse of formatting.</span></span> <span data-ttu-id="a158c-120">Una operación de análisis crea una instancia de un tipo de datos a partir de su representación de cadena.</span><span class="sxs-lookup"><span data-stu-id="a158c-120">A parsing operation creates an instance of a data type from its string representation.</span></span> <span data-ttu-id="a158c-121">Para información sobre cómo convertir cadenas en otros tipos de datos, vea [Parsing Strings](../../../docs/standard/base-types/parsing-strings.md).</span><span class="sxs-lookup"><span data-stu-id="a158c-121">For information about converting strings to other data types, see [Parsing Strings](../../../docs/standard/base-types/parsing-strings.md).</span></span>

<span data-ttu-id="a158c-122">.NET proporciona compatibilidad de formato enriquecida que permite a los desarrolladores hacer frente a estos requisitos.</span><span class="sxs-lookup"><span data-stu-id="a158c-122">.NET provides rich formatting support that enables developers to address these requirements.</span></span>

## <a name="formatting-in-net"></a><span data-ttu-id="a158c-123">Formato en .NET</span><span class="sxs-lookup"><span data-stu-id="a158c-123">Formatting in .NET</span></span>

<span data-ttu-id="a158c-124">El mecanismo básico para aplicar formato es la implementación predeterminada del método <xref:System.Object.ToString%2A?displayProperty=nameWithType>, que se explica en la sección [Formato predeterminado mediante el método ToString](#default-formatting-using-the-tostring-method) más adelante en este tema.</span><span class="sxs-lookup"><span data-stu-id="a158c-124">The basic mechanism for formatting is the default implementation of the <xref:System.Object.ToString%2A?displayProperty=nameWithType> method, which is discussed in the [Default Formatting Using the ToString Method](#default-formatting-using-the-tostring-method) section later in this topic.</span></span> <span data-ttu-id="a158c-125">Pero .NET proporciona varias formas de modificar y extender su compatibilidad de formato predeterminado.</span><span class="sxs-lookup"><span data-stu-id="a158c-125">However, .NET provides several ways to modify and extend its default formatting support.</span></span> <span data-ttu-id="a158c-126">Entre ellas se incluyen las siguientes:</span><span class="sxs-lookup"><span data-stu-id="a158c-126">These include the following:</span></span>

- <span data-ttu-id="a158c-127">Invalidar el método <xref:System.Object.ToString%2A?displayProperty=nameWithType> para definir una representación de cadena personalizada del valor de un objeto.</span><span class="sxs-lookup"><span data-stu-id="a158c-127">Overriding the <xref:System.Object.ToString%2A?displayProperty=nameWithType> method to define a custom string representation of an object’s value.</span></span> <span data-ttu-id="a158c-128">Para obtener más información, consulte la sección [Invalidación del método ToString](#override-the-tostring-method) más adelante en este tema.</span><span class="sxs-lookup"><span data-stu-id="a158c-128">For more information, see the [Override the ToString Method](#override-the-tostring-method) section later in this topic.</span></span>

- <span data-ttu-id="a158c-129">Definir especificadores de formato que permitan que la representación de cadena del valor de un objeto adopte varios formatos.</span><span class="sxs-lookup"><span data-stu-id="a158c-129">Defining format specifiers that enable the string representation of an object’s value to take multiple forms.</span></span> <span data-ttu-id="a158c-130">Por ejemplo, el especificador de formato "X" en la siguiente instrucción convierte un entero en la representación de cadena de un valor hexadecimal.</span><span class="sxs-lookup"><span data-stu-id="a158c-130">For example, the "X" format specifier in the following statement converts an integer to the string representation of a hexadecimal value.</span></span>

     [!code-csharp[Conceptual.Formatting.Overview#3](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/specifier1.cs#3)]
     [!code-vb[Conceptual.Formatting.Overview#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/specifier1.vb#3)]

     <span data-ttu-id="a158c-131">Para obtener más información sobre los especificadores de formato, vea la sección [Método ToString y cadenas de formato](#the-tostring-method-and-format-strings) .</span><span class="sxs-lookup"><span data-stu-id="a158c-131">For more information about format specifiers, see the [ToString Method and Format Strings](#the-tostring-method-and-format-strings) section.</span></span>

- <span data-ttu-id="a158c-132">Usar proveedores de formato para aprovechar las convenciones de formato de una referencia cultural concreta.</span><span class="sxs-lookup"><span data-stu-id="a158c-132">Using format providers to take advantage of the formatting conventions of a specific culture.</span></span> <span data-ttu-id="a158c-133">Por ejemplo, la instrucción siguiente muestra un valor de divisa usando las convenciones de formato de la referencia cultural en-US.</span><span class="sxs-lookup"><span data-stu-id="a158c-133">For example, the following statement displays a currency value by using the formatting conventions of the en-US culture.</span></span>

     [!code-csharp[Conceptual.Formatting.Overview#10](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/specifier1.cs#10)]
     [!code-vb[Conceptual.Formatting.Overview#10](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/specifier1.vb#10)]

     <span data-ttu-id="a158c-134">Para obtener más información sobre cómo aplicar formato con proveedores de formato, consulte la sección [Proveedores de formato](#culture-sensitive-formatting-with-format-providers).</span><span class="sxs-lookup"><span data-stu-id="a158c-134">For more information about formatting with format providers, see the [Format Providers](#culture-sensitive-formatting-with-format-providers) section.</span></span>

- <span data-ttu-id="a158c-135">Implementar la interfaz <xref:System.IFormattable> para admitir tanto la conversión de cadenas con la clase <xref:System.Convert> como formatos compuestos.</span><span class="sxs-lookup"><span data-stu-id="a158c-135">Implementing the <xref:System.IFormattable> interface to support both string conversion with the <xref:System.Convert> class and composite formatting.</span></span> <span data-ttu-id="a158c-136">Para obtener más información, vea la sección [Interfaz IFormattable](#the-iformattable-interface) .</span><span class="sxs-lookup"><span data-stu-id="a158c-136">For more information, see the [IFormattable Interface](#the-iformattable-interface) section.</span></span>

- <span data-ttu-id="a158c-137">Usar formatos compuestos para incrustar la representación de cadena de un valor en una cadena más larga.</span><span class="sxs-lookup"><span data-stu-id="a158c-137">Using composite formatting to embed the string representation of a value in a larger string.</span></span> <span data-ttu-id="a158c-138">Para obtener más información, vea la sección [Formatos compuestos](#composite-formatting) .</span><span class="sxs-lookup"><span data-stu-id="a158c-138">For more information, see the [Composite Formatting](#composite-formatting) section.</span></span>

- <span data-ttu-id="a158c-139">Implementar <xref:System.ICustomFormatter> y <xref:System.IFormatProvider> para proporcionar una solución de formato personalizado completa.</span><span class="sxs-lookup"><span data-stu-id="a158c-139">Implementing <xref:System.ICustomFormatter> and <xref:System.IFormatProvider> to provide a complete custom formatting solution.</span></span> <span data-ttu-id="a158c-140">Para obtener más información, vea la sección [Formato personalizado con ICustomFormatter](#custom-formatting-with-icustomformatter) .</span><span class="sxs-lookup"><span data-stu-id="a158c-140">For more information, see the [Custom Formatting with ICustomFormatter](#custom-formatting-with-icustomformatter) section.</span></span>

<span data-ttu-id="a158c-141">En las secciones siguientes se examinan estos métodos para convertir un objeto en su representación de cadena.</span><span class="sxs-lookup"><span data-stu-id="a158c-141">The following sections examine these methods for converting an object to its string representation.</span></span>

## <a name="default-formatting-using-the-tostring-method"></a><span data-ttu-id="a158c-142">Formato predeterminado mediante el método ToString</span><span class="sxs-lookup"><span data-stu-id="a158c-142">Default formatting using the ToString method</span></span>

<span data-ttu-id="a158c-143">Cada tipo derivado de <xref:System.Object?displayProperty=nameWithType> hereda automáticamente un método `ToString` sin parámetros, que devuelve el nombre del tipo de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="a158c-143">Every type that is derived from <xref:System.Object?displayProperty=nameWithType> automatically inherits a parameterless `ToString` method, which returns the name of the type by default.</span></span> <span data-ttu-id="a158c-144">En el ejemplo siguiente se ilustra el método `ToString` predeterminado.</span><span class="sxs-lookup"><span data-stu-id="a158c-144">The following example illustrates the default `ToString` method.</span></span> <span data-ttu-id="a158c-145">Se define una clase denominada `Automobile` que no tiene ninguna implementación.</span><span class="sxs-lookup"><span data-stu-id="a158c-145">It defines a class named `Automobile` that has no implementation.</span></span> <span data-ttu-id="a158c-146">Cuando se crea una instancia de la clase y se llama a su método `ToString` , se muestra el nombre de su tipo.</span><span class="sxs-lookup"><span data-stu-id="a158c-146">When the class is instantiated and its `ToString` method is called, it displays its type name.</span></span> <span data-ttu-id="a158c-147">Observe que en el ejemplo no se llama explícitamente al método `ToString` .</span><span class="sxs-lookup"><span data-stu-id="a158c-147">Note that the `ToString` method is not explicitly called in the example.</span></span> <span data-ttu-id="a158c-148">El método <xref:System.Console.WriteLine%28System.Object%29?displayProperty=nameWithType> llama implícitamente al método `ToString` del objeto pasado como argumento.</span><span class="sxs-lookup"><span data-stu-id="a158c-148">The <xref:System.Console.WriteLine%28System.Object%29?displayProperty=nameWithType> method implicitly calls the `ToString` method of the object passed to it as an argument.</span></span>

[!code-csharp[Conceptual.Formatting.Overview#1](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/default1.cs#1)]
[!code-vb[Conceptual.Formatting.Overview#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/default1.vb#1)]

> [!WARNING]
> <span data-ttu-id="a158c-149">A partir de Windows 8.1, Windows Runtime incluye una interfaz <xref:Windows.Foundation.IStringable> con un solo método, [IStringable.ToString](xref:Windows.Foundation.IStringable.ToString%2A), que ofrece compatibilidad con el formato predeterminado.</span><span class="sxs-lookup"><span data-stu-id="a158c-149">Starting with Windows 8.1, the Windows Runtime includes an <xref:Windows.Foundation.IStringable> interface with a single method, [IStringable.ToString](xref:Windows.Foundation.IStringable.ToString%2A), which provides default formatting support.</span></span> <span data-ttu-id="a158c-150">Sin embargo, es recomendable que los tipos administrados no implementen la interfaz `IStringable` .</span><span class="sxs-lookup"><span data-stu-id="a158c-150">However, we recommend that managed types do not implement the `IStringable` interface.</span></span> <span data-ttu-id="a158c-151">Para obtener más información, vea la sección "Windows Runtime y la interfaz `IStringable`" de la página de referencia <xref:System.Object.ToString%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="a158c-151">For more information, see "The Windows Runtime and the `IStringable` Interface" section on the <xref:System.Object.ToString%2A?displayProperty=nameWithType> reference page.</span></span>

<span data-ttu-id="a158c-152">Puesto que todos los tipos distintos de las interfaces se derivan de <xref:System.Object>, esta funcionalidad se proporciona automáticamente a sus clases o estructuras personalizadas.</span><span class="sxs-lookup"><span data-stu-id="a158c-152">Because all types other than interfaces are derived from <xref:System.Object>, this functionality is automatically provided to your custom classes or structures.</span></span> <span data-ttu-id="a158c-153">Si bien, la funcionalidad que ofrece el método `ToString` predeterminado es limitada: Aunque identifica el tipo, no proporciona ninguna información sobre una instancia del tipo.</span><span class="sxs-lookup"><span data-stu-id="a158c-153">However, the functionality offered by the default `ToString` method, is limited: Although it identifies the type, it fails to provide any information about an instance of the type.</span></span> <span data-ttu-id="a158c-154">Para proporcionar una representación de cadena de un objeto que proporciona información sobre ese objeto, debe invalidar el método `ToString` .</span><span class="sxs-lookup"><span data-stu-id="a158c-154">To provide a string representation of an object that provides information about that object, you must override the `ToString` method.</span></span>

> [!NOTE]
> <span data-ttu-id="a158c-155">Las estructuras heredan de <xref:System.ValueType>, que a su vez se deriva de <xref:System.Object>.</span><span class="sxs-lookup"><span data-stu-id="a158c-155">Structures inherit from <xref:System.ValueType>, which in turn is derived from <xref:System.Object>.</span></span> <span data-ttu-id="a158c-156">Aunque <xref:System.ValueType> invalida <xref:System.Object.ToString%2A?displayProperty=nameWithType>, su implementación es idéntica.</span><span class="sxs-lookup"><span data-stu-id="a158c-156">Although <xref:System.ValueType> overrides <xref:System.Object.ToString%2A?displayProperty=nameWithType>, its implementation is identical.</span></span>

## <a name="override-the-tostring-method"></a><span data-ttu-id="a158c-157">Invalidación del método ToString</span><span class="sxs-lookup"><span data-stu-id="a158c-157">Override the ToString method</span></span>

<span data-ttu-id="a158c-158">La presentación del nombre de un tipo suele tener un uso limitado y no permite a los consumidores de sus tipos diferenciar una instancia de otra.</span><span class="sxs-lookup"><span data-stu-id="a158c-158">Displaying the name of a type is often of limited use and does not allow consumers of your types to differentiate one instance from another.</span></span> <span data-ttu-id="a158c-159">Sin embargo, puede invalidar el método `ToString` para proporcionar una representación más útil del valor de un objeto.</span><span class="sxs-lookup"><span data-stu-id="a158c-159">However, you can override the `ToString` method to provide a more useful representation of an object’s value.</span></span> <span data-ttu-id="a158c-160">En el ejemplo siguiente se define un objeto `Temperature` y se invalida su método `ToString` para mostrar la temperatura en grados centígrados.</span><span class="sxs-lookup"><span data-stu-id="a158c-160">The following example defines a `Temperature` object and overrides its `ToString` method to display the temperature in degrees Celsius.</span></span>

[!code-csharp[Conceptual.Formatting.Overview#2](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/overrides1.cs#2)]
[!code-vb[Conceptual.Formatting.Overview#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/overrides1.vb#2)]

<span data-ttu-id="a158c-161">En .NET, el método `ToString` de cada tipo de valor primitivo se ha invalidado para que se muestre el valor del objeto en lugar de su nombre.</span><span class="sxs-lookup"><span data-stu-id="a158c-161">In .NET, the `ToString` method of each primitive value type has been overridden to display the object’s value instead of its name.</span></span> <span data-ttu-id="a158c-162">En la tabla siguiente se muestra la invalidación para cada tipo primitivo.</span><span class="sxs-lookup"><span data-stu-id="a158c-162">The following table shows the override for each primitive type.</span></span> <span data-ttu-id="a158c-163">Observe que la mayoría de los métodos invalidados llaman a otra sobrecarga del método `ToString` y le pasan el especificador de formato "G", que define el formato general de su tipo, y un objeto <xref:System.IFormatProvider> que representa la referencia cultural actual.</span><span class="sxs-lookup"><span data-stu-id="a158c-163">Note that most of the overridden methods call another overload of the `ToString` method and pass it the "G" format specifier, which defines the general format for its type, and an <xref:System.IFormatProvider> object that represents the current culture.</span></span>

|<span data-ttu-id="a158c-164">Tipo</span><span class="sxs-lookup"><span data-stu-id="a158c-164">Type</span></span>|<span data-ttu-id="a158c-165">Invalidación de ToString</span><span class="sxs-lookup"><span data-stu-id="a158c-165">ToString override</span></span>|
|----------|-----------------------|
|<xref:System.Boolean>|<span data-ttu-id="a158c-166">Devuelve <xref:System.Boolean.TrueString?displayProperty=nameWithType> o <xref:System.Boolean.FalseString?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="a158c-166">Returns either <xref:System.Boolean.TrueString?displayProperty=nameWithType> or <xref:System.Boolean.FalseString?displayProperty=nameWithType>.</span></span>|
|<xref:System.Byte>|<span data-ttu-id="a158c-167">Llama a `Byte.ToString("G", NumberFormatInfo.CurrentInfo)` para dar formato al valor de tipo <xref:System.Byte> correspondiente a la referencia cultural actual.</span><span class="sxs-lookup"><span data-stu-id="a158c-167">Calls `Byte.ToString("G", NumberFormatInfo.CurrentInfo)` to format the <xref:System.Byte> value for the current culture.</span></span>|
|<xref:System.Char>|<span data-ttu-id="a158c-168">Devuelve el carácter como una cadena.</span><span class="sxs-lookup"><span data-stu-id="a158c-168">Returns the character as a string.</span></span>|
|<xref:System.DateTime>|<span data-ttu-id="a158c-169">Llama a `DateTime.ToString("G", DatetimeFormatInfo.CurrentInfo)` para dar formato al valor de fecha y hora correspondiente a la referencia cultural actual.</span><span class="sxs-lookup"><span data-stu-id="a158c-169">Calls `DateTime.ToString("G", DatetimeFormatInfo.CurrentInfo)` to format the date and time value for the current culture.</span></span>|
|<xref:System.Decimal>|<span data-ttu-id="a158c-170">Llama a `Decimal.ToString("G", NumberFormatInfo.CurrentInfo)` para dar formato al valor de tipo <xref:System.Decimal> correspondiente a la referencia cultural actual.</span><span class="sxs-lookup"><span data-stu-id="a158c-170">Calls `Decimal.ToString("G", NumberFormatInfo.CurrentInfo)` to format the <xref:System.Decimal> value for the current culture.</span></span>|
|<xref:System.Double>|<span data-ttu-id="a158c-171">Llama a `Double.ToString("G", NumberFormatInfo.CurrentInfo)` para dar formato al valor de tipo <xref:System.Double> correspondiente a la referencia cultural actual.</span><span class="sxs-lookup"><span data-stu-id="a158c-171">Calls `Double.ToString("G", NumberFormatInfo.CurrentInfo)` to format the <xref:System.Double> value for the current culture.</span></span>|
|<xref:System.Int16>|<span data-ttu-id="a158c-172">Llama a `Int16.ToString("G", NumberFormatInfo.CurrentInfo)` para dar formato al valor de tipo <xref:System.Int16> correspondiente a la referencia cultural actual.</span><span class="sxs-lookup"><span data-stu-id="a158c-172">Calls `Int16.ToString("G", NumberFormatInfo.CurrentInfo)` to format the <xref:System.Int16> value for the current culture.</span></span>|
|<xref:System.Int32>|<span data-ttu-id="a158c-173">Llama a `Int32.ToString("G", NumberFormatInfo.CurrentInfo)` para dar formato al valor de tipo <xref:System.Int32> correspondiente a la referencia cultural actual.</span><span class="sxs-lookup"><span data-stu-id="a158c-173">Calls `Int32.ToString("G", NumberFormatInfo.CurrentInfo)` to format the <xref:System.Int32> value for the current culture.</span></span>|
|<xref:System.Int64>|<span data-ttu-id="a158c-174">Llama a `Int64.ToString("G", NumberFormatInfo.CurrentInfo)` para dar formato al valor de tipo <xref:System.Int64> correspondiente a la referencia cultural actual.</span><span class="sxs-lookup"><span data-stu-id="a158c-174">Calls `Int64.ToString("G", NumberFormatInfo.CurrentInfo)` to format the <xref:System.Int64> value for the current culture.</span></span>|
|<xref:System.SByte>|<span data-ttu-id="a158c-175">Llama a `SByte.ToString("G", NumberFormatInfo.CurrentInfo)` para dar formato al valor de tipo <xref:System.SByte> correspondiente a la referencia cultural actual.</span><span class="sxs-lookup"><span data-stu-id="a158c-175">Calls `SByte.ToString("G", NumberFormatInfo.CurrentInfo)` to format the <xref:System.SByte> value for the current culture.</span></span>|
|<xref:System.Single>|<span data-ttu-id="a158c-176">Llama a `Single.ToString("G", NumberFormatInfo.CurrentInfo)` para dar formato al valor de tipo <xref:System.Single> correspondiente a la referencia cultural actual.</span><span class="sxs-lookup"><span data-stu-id="a158c-176">Calls `Single.ToString("G", NumberFormatInfo.CurrentInfo)` to format the <xref:System.Single> value for the current culture.</span></span>|
|<xref:System.UInt16>|<span data-ttu-id="a158c-177">Llama a `UInt16.ToString("G", NumberFormatInfo.CurrentInfo)` para dar formato al valor de tipo <xref:System.UInt16> correspondiente a la referencia cultural actual.</span><span class="sxs-lookup"><span data-stu-id="a158c-177">Calls `UInt16.ToString("G", NumberFormatInfo.CurrentInfo)` to format the <xref:System.UInt16> value for the current culture.</span></span>|
|<xref:System.UInt32>|<span data-ttu-id="a158c-178">Llama a `UInt32.ToString("G", NumberFormatInfo.CurrentInfo)` para dar formato al valor de tipo <xref:System.UInt32> correspondiente a la referencia cultural actual.</span><span class="sxs-lookup"><span data-stu-id="a158c-178">Calls `UInt32.ToString("G", NumberFormatInfo.CurrentInfo)` to format the <xref:System.UInt32> value for the current culture.</span></span>|
|<xref:System.UInt64>|<span data-ttu-id="a158c-179">Llama a `UInt64.ToString("G", NumberFormatInfo.CurrentInfo)` para dar formato al valor de tipo <xref:System.UInt64> correspondiente a la referencia cultural actual.</span><span class="sxs-lookup"><span data-stu-id="a158c-179">Calls `UInt64.ToString("G", NumberFormatInfo.CurrentInfo)` to format the <xref:System.UInt64> value for the current culture.</span></span>|

## <a name="the-tostring-method-and-format-strings"></a><span data-ttu-id="a158c-180">Método ToString y cadenas de formato</span><span class="sxs-lookup"><span data-stu-id="a158c-180">The ToString method and format strings</span></span>

<span data-ttu-id="a158c-181">Recurrir al método `ToString` predeterminado o invalidar `ToString` resulta apropiado cuando un objeto tiene una única representación de cadena.</span><span class="sxs-lookup"><span data-stu-id="a158c-181">Relying on the default `ToString` method or overriding `ToString` is appropriate when an object has a single string representation.</span></span> <span data-ttu-id="a158c-182">Sin embargo, el valor de un objeto tiene a menudo varias representaciones.</span><span class="sxs-lookup"><span data-stu-id="a158c-182">However, the value of an object often has multiple representations.</span></span> <span data-ttu-id="a158c-183">Por ejemplo, una temperatura puede expresarse en grados Fahrenheit, grados centígrados o grados Kelvin.</span><span class="sxs-lookup"><span data-stu-id="a158c-183">For example, a temperature can be expressed in degrees Fahrenheit, degrees Celsius, or kelvins.</span></span> <span data-ttu-id="a158c-184">De manera similar, el valor entero 10 puede representarse de numerosas maneras; por ejemplo, 10, 10,0, 1,0e01 o $10,00.</span><span class="sxs-lookup"><span data-stu-id="a158c-184">Similarly, the integer value 10 can be represented in numerous ways, including 10, 10.0, 1.0e01, or $10.00.</span></span>

<span data-ttu-id="a158c-185">Para que un valor pueda tener varias representaciones de cadena, .NET usa cadenas de formato.</span><span class="sxs-lookup"><span data-stu-id="a158c-185">To enable a single value to have multiple string representations, .NET uses format strings.</span></span> <span data-ttu-id="a158c-186">Una cadena de formato es una cadena que contiene uno o varios especificadores de formato predefinidos, que son caracteres individuales o grupos de caracteres que definen cómo el método `ToString` debe dar formato a su salida.</span><span class="sxs-lookup"><span data-stu-id="a158c-186">A format string is a string that contains one or more predefined format specifiers, which are single characters or groups of characters that define how the `ToString` method should format its output.</span></span> <span data-ttu-id="a158c-187">A continuación, se pasa la cadena de formato como un parámetro al método `ToString` del objeto, por lo que determina cómo debe mostrarse la representación de cadena del valor de ese objeto.</span><span class="sxs-lookup"><span data-stu-id="a158c-187">The format string is then passed as a parameter to the object's `ToString` method and determines how the string representation of that object's value should appear.</span></span>

<span data-ttu-id="a158c-188">Todos los tipos numéricos, de fecha y hora, y de enumeración de .NET admiten un conjunto predefinido de especificadores de formato.</span><span class="sxs-lookup"><span data-stu-id="a158c-188">All numeric types, date and time types, and enumeration types in .NET support a predefined set of format specifiers.</span></span> <span data-ttu-id="a158c-189">Las cadenas de formato también se pueden emplear para definir varias representaciones de cadena de los tipos de datos definidos por una aplicación.</span><span class="sxs-lookup"><span data-stu-id="a158c-189">You can also use format strings to define multiple string representations of your application-defined data types.</span></span>

### <a name="standard-format-strings"></a><span data-ttu-id="a158c-190">Cadenas de formato estándar</span><span class="sxs-lookup"><span data-stu-id="a158c-190">Standard format strings</span></span>

<span data-ttu-id="a158c-191">Una cadena de formato estándar contiene un único especificador de formato, que es un carácter alfabético que define la representación de cadena del objeto al que se aplica, junto con un especificador de precisión opcional que afecta a cuántos dígitos se muestran en la cadena de resultado.</span><span class="sxs-lookup"><span data-stu-id="a158c-191">A standard format string contains a single format specifier, which is an alphabetic character that defines the string representation of the object to which it is applied, along with an optional precision specifier that affects how many digits are displayed in the result string.</span></span> <span data-ttu-id="a158c-192">Si el especificador de precisión se omite o no se admite, un especificador de formato estándar es equivalente a una cadena de formato estándar.</span><span class="sxs-lookup"><span data-stu-id="a158c-192">If the precision specifier is omitted or is not supported, a standard format specifier is equivalent to a standard format string.</span></span>

<span data-ttu-id="a158c-193">.NET define un conjunto de especificadores de formato estándar para todos los tipos numéricos, de fecha y hora, y de enumeración.</span><span class="sxs-lookup"><span data-stu-id="a158c-193">.NET defines a set of standard format specifiers for all numeric types, all date and time types, and all enumeration types.</span></span> <span data-ttu-id="a158c-194">Por ejemplo, cada una de estas categorías admite un especificador de formato estándar "G", que define una representación de cadena general de un valor de ese tipo.</span><span class="sxs-lookup"><span data-stu-id="a158c-194">For example, each of these categories supports a "G" standard format specifier, which defines a general string representation of a value of that type.</span></span>

<span data-ttu-id="a158c-195">Las cadenas de formato estándar para los tipos de enumeración controlan directamente la representación de cadena de un valor.</span><span class="sxs-lookup"><span data-stu-id="a158c-195">Standard format strings for enumeration types directly control the string representation of a value.</span></span> <span data-ttu-id="a158c-196">Las cadenas de formato que se pasan al método `ToString` de un valor de enumeración determinan si el valor se muestra con su nombre de cadena (especificadores de formato "G" y "F"), su valor integral subyacente (especificador de formato "D") o su valor hexadecimal (especificador de formato "X").</span><span class="sxs-lookup"><span data-stu-id="a158c-196">The format strings passed to an enumeration value’s `ToString` method determine whether the value is displayed using its string name (the "G" and "F" format specifiers), its underlying integral value (the "D" format specifier), or its hexadecimal value (the "X" format specifier).</span></span> <span data-ttu-id="a158c-197">En el ejemplo siguiente se muestra el uso de cadenas de formato estándar para dar formato a un valor de enumeración <xref:System.DayOfWeek> .</span><span class="sxs-lookup"><span data-stu-id="a158c-197">The following example illustrates the use of standard format strings to format a <xref:System.DayOfWeek> enumeration value.</span></span>

[!code-csharp[Conceptual.Formatting.Overview#4](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/standard1.cs#4)]
[!code-vb[Conceptual.Formatting.Overview#4](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/standard1.vb#4)]

<span data-ttu-id="a158c-198">Para información sobre las cadenas de formato de enumeración, vea [Enumeration Format Strings](../../../docs/standard/base-types/enumeration-format-strings.md).</span><span class="sxs-lookup"><span data-stu-id="a158c-198">For information about enumeration format strings, see [Enumeration Format Strings](../../../docs/standard/base-types/enumeration-format-strings.md).</span></span>

<span data-ttu-id="a158c-199">Las cadenas de formato estándar para tipos numéricos normalmente definen una cadena de resultado cuya apariencia exacta está controlada por uno o más valores de propiedad.</span><span class="sxs-lookup"><span data-stu-id="a158c-199">Standard format strings for numeric types usually define a result string whose precise appearance is controlled by one or more property values.</span></span> <span data-ttu-id="a158c-200">Por ejemplo, el especificador de formato "C" da formato a un número como un valor de divisa.</span><span class="sxs-lookup"><span data-stu-id="a158c-200">For example, the "C" format specifier formats a number as a currency value.</span></span> <span data-ttu-id="a158c-201">Al llamar al método `ToString` con el especificador de formato "C" como único parámetro, se usan los siguientes valores de propiedad del objeto <xref:System.Globalization.NumberFormatInfo> de la referencia cultural actual para definir la representación de cadena del valor numérico:</span><span class="sxs-lookup"><span data-stu-id="a158c-201">When you call the `ToString` method with the "C" format specifier as the only parameter, the following property values from the current culture’s <xref:System.Globalization.NumberFormatInfo> object are used to define the string representation of the numeric value:</span></span>

- <span data-ttu-id="a158c-202">La propiedad <xref:System.Globalization.NumberFormatInfo.CurrencySymbol%2A> , que especifica el símbolo de divisa de la referencia cultural actual.</span><span class="sxs-lookup"><span data-stu-id="a158c-202">The <xref:System.Globalization.NumberFormatInfo.CurrencySymbol%2A> property, which specifies the current culture’s currency symbol.</span></span>

- <span data-ttu-id="a158c-203">La propiedad <xref:System.Globalization.NumberFormatInfo.CurrencyNegativePattern%2A> o <xref:System.Globalization.NumberFormatInfo.CurrencyPositivePattern%2A> , que devuelve un entero que determina lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="a158c-203">The <xref:System.Globalization.NumberFormatInfo.CurrencyNegativePattern%2A> or <xref:System.Globalization.NumberFormatInfo.CurrencyPositivePattern%2A> property, which returns an integer that determines the following:</span></span>

  - <span data-ttu-id="a158c-204">La posición del símbolo de divisa.</span><span class="sxs-lookup"><span data-stu-id="a158c-204">The placement of the currency symbol.</span></span>

  - <span data-ttu-id="a158c-205">Si los valores negativos se indican mediante un signo negativo inicial, un signo negativo final o paréntesis.</span><span class="sxs-lookup"><span data-stu-id="a158c-205">Whether negative values are indicated by a leading negative sign, a trailing negative sign, or parentheses.</span></span>

  - <span data-ttu-id="a158c-206">Si aparece un espacio entre el valor numérico y el símbolo de divisa.</span><span class="sxs-lookup"><span data-stu-id="a158c-206">Whether a space appears between the numeric value and the currency symbol.</span></span>

- <span data-ttu-id="a158c-207">La propiedad <xref:System.Globalization.NumberFormatInfo.CurrencyDecimalDigits%2A> , que define el número de dígitos fraccionarios en la cadena de resultado.</span><span class="sxs-lookup"><span data-stu-id="a158c-207">The <xref:System.Globalization.NumberFormatInfo.CurrencyDecimalDigits%2A> property, which defines the number of fractional digits in the result string.</span></span>

- <span data-ttu-id="a158c-208">La propiedad <xref:System.Globalization.NumberFormatInfo.CurrencyDecimalSeparator%2A> , que define el símbolo del separador decimal en la cadena de resultado.</span><span class="sxs-lookup"><span data-stu-id="a158c-208">The <xref:System.Globalization.NumberFormatInfo.CurrencyDecimalSeparator%2A> property, which defines the decimal separator symbol in the result string.</span></span>

- <span data-ttu-id="a158c-209">La propiedad <xref:System.Globalization.NumberFormatInfo.CurrencyGroupSeparator%2A> , que define el símbolo del separador de grupo.</span><span class="sxs-lookup"><span data-stu-id="a158c-209">The <xref:System.Globalization.NumberFormatInfo.CurrencyGroupSeparator%2A> property, which defines the group separator symbol.</span></span>

- <span data-ttu-id="a158c-210">La propiedad <xref:System.Globalization.NumberFormatInfo.CurrencyGroupSizes%2A> , que define el número de dígitos de cada grupo que hay a la izquierda del decimal.</span><span class="sxs-lookup"><span data-stu-id="a158c-210">The <xref:System.Globalization.NumberFormatInfo.CurrencyGroupSizes%2A> property, which defines the number of digits in each group to the left of the decimal.</span></span>

- <span data-ttu-id="a158c-211">La propiedad <xref:System.Globalization.NumberFormatInfo.NegativeSign%2A> , que determina el signo negativo usado en la cadena de resultado si no se emplean paréntesis para indicar valores negativos.</span><span class="sxs-lookup"><span data-stu-id="a158c-211">The <xref:System.Globalization.NumberFormatInfo.NegativeSign%2A> property, which determines the negative sign used in the result string if parentheses are not used to indicate negative values.</span></span>

<span data-ttu-id="a158c-212">Además, las cadenas de formato numérico pueden incluir un especificador de precisión.</span><span class="sxs-lookup"><span data-stu-id="a158c-212">In addition, numeric format strings may include a precision specifier.</span></span> <span data-ttu-id="a158c-213">El significado de este especificador depende de la cadena de formato con la que se usa, pero suele indicar el número total de dígitos o el número de dígitos fraccionarios que deben aparecer en la cadena de resultado.</span><span class="sxs-lookup"><span data-stu-id="a158c-213">The meaning of this specifier depends on the format string with which it is used, but it typically indicates either the total number of digits or the number of fractional digits that should appear in the result string.</span></span> <span data-ttu-id="a158c-214">Por ejemplo, en el ejemplo siguiente se usa la cadena numérica estándar "X4" y un especificador de precisión para crear un valor de cadena que tiene cuatro dígitos hexadecimales.</span><span class="sxs-lookup"><span data-stu-id="a158c-214">For example, the following example uses the "X4" standard numeric string and a precision specifier to create a string value that has four hexadecimal digits.</span></span>

[!code-csharp[Conceptual.Formatting.Overview#6](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/precisionspecifier1.cs#6)]
[!code-vb[Conceptual.Formatting.Overview#6](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/precisionspecifier1.vb#6)]

<span data-ttu-id="a158c-215">Para más información sobre las cadenas de formato numérico estándar, vea [Standard Numeric Format Strings](../../../docs/standard/base-types/standard-numeric-format-strings.md).</span><span class="sxs-lookup"><span data-stu-id="a158c-215">For more information about standard numeric formatting strings, see [Standard Numeric Format Strings](../../../docs/standard/base-types/standard-numeric-format-strings.md).</span></span>

<span data-ttu-id="a158c-216">Las cadenas de formato estándar para valores de fecha y hora son alias de las cadenas de formato personalizado almacenadas por una propiedad <xref:System.Globalization.DateTimeFormatInfo> determinada.</span><span class="sxs-lookup"><span data-stu-id="a158c-216">Standard format strings for date and time values are aliases for custom format strings stored by a particular <xref:System.Globalization.DateTimeFormatInfo> property.</span></span> <span data-ttu-id="a158c-217">Por ejemplo, al llamar al método `ToString` de un valor de fecha y hora con el especificador de formato "D" se muestran la fecha y la hora usando la cadena de formato personalizado que está almacenada en la propiedad <xref:System.Globalization.DateTimeFormatInfo.LongDatePattern%2A?displayProperty=nameWithType> de la referencia cultural actual.</span><span class="sxs-lookup"><span data-stu-id="a158c-217">For example, calling the `ToString` method of a date and time value with the "D" format specifier displays the date and time by using the custom format string stored in the current culture’s <xref:System.Globalization.DateTimeFormatInfo.LongDatePattern%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="a158c-218">(Para obtener más información sobre las cadenas de formato personalizado, vea la [próxima sección](#custom-format-strings)). En el ejemplo siguiente se ilustra esta relación.</span><span class="sxs-lookup"><span data-stu-id="a158c-218">(For more information about custom format strings, see the [next section](#custom-format-strings).) The following example illustrates this relationship.</span></span>

[!code-csharp[Conceptual.Formatting.Overview#5](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/alias1.cs#5)]
[!code-vb[Conceptual.Formatting.Overview#5](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/alias1.vb#5)]

<span data-ttu-id="a158c-219">Para más información sobre las cadenas de formato de fecha y hora estándar, vea [Standard Date and Time Format Strings](../../../docs/standard/base-types/standard-date-and-time-format-strings.md).</span><span class="sxs-lookup"><span data-stu-id="a158c-219">For more information about standard date and time format strings, see [Standard Date and Time Format Strings](../../../docs/standard/base-types/standard-date-and-time-format-strings.md).</span></span>

<span data-ttu-id="a158c-220">También se pueden emplear las cadenas de formato estándar para definir la representación de cadena de un objeto definido por la aplicación generado por el método `ToString(String)` del objeto.</span><span class="sxs-lookup"><span data-stu-id="a158c-220">You can also use standard format strings to define the string representation of an application-defined object that is produced by the object’s `ToString(String)` method.</span></span> <span data-ttu-id="a158c-221">Puede definir los especificadores de formato estándar concretos que su objeto admite y determinar si distinguen entre mayúsculas y minúsculas o no.</span><span class="sxs-lookup"><span data-stu-id="a158c-221">You can define the specific standard format specifiers that your object supports, and you can determine whether they are case-sensitive or case-insensitive.</span></span> <span data-ttu-id="a158c-222">Su implementación del método `ToString(String)` debe aceptar lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="a158c-222">Your implementation of the `ToString(String)` method should support the following:</span></span>

- <span data-ttu-id="a158c-223">Un especificador de formato "G" que representa un formato personalizado o común del objeto.</span><span class="sxs-lookup"><span data-stu-id="a158c-223">A "G" format specifier that represents a customary or common format of the object.</span></span> <span data-ttu-id="a158c-224">La sobrecarga sin parámetros del método `ToString` del objeto debe llamar a su sobrecarga de `ToString(String)` y pasarle la cadena de formato estándar "G".</span><span class="sxs-lookup"><span data-stu-id="a158c-224">The parameterless overload of your object's `ToString` method should call its `ToString(String)` overload and pass it the "G" standard format string.</span></span>

- <span data-ttu-id="a158c-225">Compatibilidad con un especificador de formato que sea igual a una referencia nula (`Nothing` en Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="a158c-225">Support for a format specifier that is equal to a null reference (`Nothing` in Visual Basic).</span></span> <span data-ttu-id="a158c-226">Un especificador de formato que es igual a una referencia nula debe considerarse equivalente al especificador de formato "G".</span><span class="sxs-lookup"><span data-stu-id="a158c-226">A format specifier that is equal to a null reference should be considered equivalent to the "G" format specifier.</span></span>

<span data-ttu-id="a158c-227">Por ejemplo, una clase `Temperature` puede almacenar internamente la temperatura en grados centígrados y usar especificadores de formato para representar el valor del objeto `Temperature` en grados centígrados, grados Fahrenheit y grados Kelvin.</span><span class="sxs-lookup"><span data-stu-id="a158c-227">For example, a `Temperature` class can internally store the temperature in degrees Celsius and use format specifiers to represent the value of the `Temperature` object in degrees Celsius, degrees Fahrenheit, and kelvins.</span></span> <span data-ttu-id="a158c-228">Esto se muestra en el ejemplo siguiente.</span><span class="sxs-lookup"><span data-stu-id="a158c-228">The following example provides an illustration.</span></span>

[!code-csharp[Conceptual.Formatting.Overview#7](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/appstandard1.cs#7)]
[!code-vb[Conceptual.Formatting.Overview#7](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/appstandard1.vb#7)]

### <a name="custom-format-strings"></a><span data-ttu-id="a158c-229">Cadenas de formato personalizado</span><span class="sxs-lookup"><span data-stu-id="a158c-229">Custom format strings</span></span>

<span data-ttu-id="a158c-230">Además de las cadenas de formato estándar, .NET define cadenas de formato personalizado tanto para los valores numéricos como para los valores de fecha y hora.</span><span class="sxs-lookup"><span data-stu-id="a158c-230">In addition to the standard format strings, .NET defines custom format strings for both numeric values and date and time values.</span></span> <span data-ttu-id="a158c-231">Una cadena de formato personalizado se compone de uno o varios especificadores de formato personalizado que definen la representación de cadena de un valor.</span><span class="sxs-lookup"><span data-stu-id="a158c-231">A custom format string consists of one or more custom format specifiers that define the string representation of a value.</span></span> <span data-ttu-id="a158c-232">Por ejemplo, la cadena de formato personalizado de fecha y hora “yyyy/mm/dd hh:mm:ss.ffff t zzz” convierte una fecha en su representación de cadena con el formato "2008/11/15 07:45:00.0000 P -08:00" para la referencia cultural en-US.</span><span class="sxs-lookup"><span data-stu-id="a158c-232">For example, the custom date and time format string "yyyy/mm/dd hh:mm:ss.ffff t zzz" converts a date to its string representation in the form "2008/11/15 07:45:00.0000 P -08:00" for the en-US culture.</span></span> <span data-ttu-id="a158c-233">Del mismo modo, la cadena de formato personalizado “0000” convierte el valor entero 12 en “0012”.</span><span class="sxs-lookup"><span data-stu-id="a158c-233">Similarly, the custom format string "0000" converts the integer value 12 to "0012".</span></span> <span data-ttu-id="a158c-234">Para una lista completa de las cadenas de formato personalizado, vea [Custom Date and Time Format Strings](../../../docs/standard/base-types/custom-date-and-time-format-strings.md) y [Custom Numeric Format Strings](../../../docs/standard/base-types/custom-numeric-format-strings.md).</span><span class="sxs-lookup"><span data-stu-id="a158c-234">For a complete list of custom format strings, see [Custom Date and Time Format Strings](../../../docs/standard/base-types/custom-date-and-time-format-strings.md) and [Custom Numeric Format Strings](../../../docs/standard/base-types/custom-numeric-format-strings.md).</span></span>

<span data-ttu-id="a158c-235">Si una cadena de formato consta de un único especificador de formato personalizado, el especificador de formato debe ir precedido del símbolo de porcentaje (%) para evitar la confusión con un especificador de formato estándar.</span><span class="sxs-lookup"><span data-stu-id="a158c-235">If a format string consists of a single custom format specifier, the format specifier should be preceded by the percent (%) symbol to avoid confusion with a standard format specifier.</span></span> <span data-ttu-id="a158c-236">En el ejemplo siguiente, se usa el especificador de formato personalizado "M" para mostrar un número de un dígito o de dos dígitos del mes de una fecha determinada.</span><span class="sxs-lookup"><span data-stu-id="a158c-236">The following example uses the "M" custom format specifier to display a one-digit or two-digit number of the month of a particular date.</span></span>

[!code-csharp[Conceptual.Formatting.Overview#8](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/singlecustom1.cs#8)]
[!code-vb[Conceptual.Formatting.Overview#8](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/singlecustom1.vb#8)]

<span data-ttu-id="a158c-237">Muchas cadenas de formato estándar para valores de fecha y hora son alias para cadenas de formato personalizado definidas por propiedades del objeto <xref:System.Globalization.DateTimeFormatInfo> .</span><span class="sxs-lookup"><span data-stu-id="a158c-237">Many standard format strings for date and time values are aliases for custom format strings that are defined by properties of the <xref:System.Globalization.DateTimeFormatInfo> object.</span></span> <span data-ttu-id="a158c-238">Las cadenas de formato personalizado también ofrecen una gran flexibilidad a la hora de proporcionar formatos definidos por la aplicación para los valores numéricos o de fecha y hora.</span><span class="sxs-lookup"><span data-stu-id="a158c-238">Custom format strings also offer considerable flexibility in providing application-defined formatting for numeric values or date and time values.</span></span> <span data-ttu-id="a158c-239">Puede definir sus propias cadenas de resultado personalizadas para los valores numéricos y de fecha y hora si combina varios especificadores de formato personalizados en una única cadena de formato personalizado.</span><span class="sxs-lookup"><span data-stu-id="a158c-239">You can define your own custom result strings for both numeric values and date and time values by combining multiple custom format specifiers into a single custom format string.</span></span> <span data-ttu-id="a158c-240">En el ejemplo siguiente se define una cadena de formato personalizado que muestra el día de la semana entre paréntesis después del nombre de mes, el día y el año.</span><span class="sxs-lookup"><span data-stu-id="a158c-240">The following example defines a custom format string that displays the day of the week in parentheses after the month name, day, and year.</span></span>

[!code-csharp[Conceptual.Formatting.Overview#9](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/custom1.cs#9)]
[!code-vb[Conceptual.Formatting.Overview#9](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/custom1.vb#9)]

<span data-ttu-id="a158c-241">En el ejemplo siguiente se define una cadena de formato personalizado que muestra un valor de <xref:System.Int64> como un número de teléfono de Estados Unidos estándar de siete dígitos con el código de área.</span><span class="sxs-lookup"><span data-stu-id="a158c-241">The following example defines a custom format string that displays an <xref:System.Int64> value as a standard, seven-digit U.S. telephone number along with its area code.</span></span>

[!code-csharp[Conceptual.Formatting.Overview#21](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/telnumber1.cs#21)]
[!code-vb[Conceptual.Formatting.Overview#21](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/telnumber1.vb#21)]

<span data-ttu-id="a158c-242">Aunque las cadenas de formato estándar pueden satisfacer generalmente la mayoría de las necesidades de formato para los tipos definidos por la aplicación, también puede definir especificadores de formato personalizados para dar formato a sus tipos.</span><span class="sxs-lookup"><span data-stu-id="a158c-242">Although standard format strings can generally handle most of the formatting needs for your application-defined types, you may also define custom format specifiers to format your types.</span></span>

### <a name="format-strings-and-net-types"></a><span data-ttu-id="a158c-243">Cadenas de formato y tipos de .NET</span><span class="sxs-lookup"><span data-stu-id="a158c-243">Format strings and .NET types</span></span>

<span data-ttu-id="a158c-244">Todos los tipos numéricos (es decir, los tipos <xref:System.Byte>, <xref:System.Decimal>, <xref:System.Double>, <xref:System.Int16>, <xref:System.Int32>, <xref:System.Int64>, <xref:System.SByte>, <xref:System.Single>, <xref:System.UInt16>, <xref:System.UInt32>, <xref:System.UInt64> y <xref:System.Numerics.BigInteger>), así como <xref:System.DateTime>, <xref:System.DateTimeOffset>, <xref:System.TimeSpan>, <xref:System.Guid>y todos los tipos de enumeración, son compatibles con el formato con cadenas de formato.</span><span class="sxs-lookup"><span data-stu-id="a158c-244">All numeric types (that is, the <xref:System.Byte>, <xref:System.Decimal>, <xref:System.Double>, <xref:System.Int16>, <xref:System.Int32>, <xref:System.Int64>, <xref:System.SByte>, <xref:System.Single>, <xref:System.UInt16>, <xref:System.UInt32>, <xref:System.UInt64>, and <xref:System.Numerics.BigInteger> types), as well as the <xref:System.DateTime>, <xref:System.DateTimeOffset>, <xref:System.TimeSpan>, <xref:System.Guid>, and all enumeration types, support formatting with format strings.</span></span> <span data-ttu-id="a158c-245">Para obtener información sobre las cadenas de formato específicas que admite cada tipo, consulte los temas siguientes:</span><span class="sxs-lookup"><span data-stu-id="a158c-245">For information on the specific format strings supported by each type, see the following topics:</span></span>

|<span data-ttu-id="a158c-246">Title</span><span class="sxs-lookup"><span data-stu-id="a158c-246">Title</span></span>|<span data-ttu-id="a158c-247">Definición</span><span class="sxs-lookup"><span data-stu-id="a158c-247">Definition</span></span>|
|-----------|----------------|
|[<span data-ttu-id="a158c-248">Standard Numeric Format Strings</span><span class="sxs-lookup"><span data-stu-id="a158c-248">Standard Numeric Format Strings</span></span>](../../../docs/standard/base-types/standard-numeric-format-strings.md)|<span data-ttu-id="a158c-249">Describe cadenas de formato estándar que crean representaciones de cadena usadas con frecuencia de valores numéricos.</span><span class="sxs-lookup"><span data-stu-id="a158c-249">Describes standard format strings that create commonly used string representations of numeric values.</span></span>|
|[<span data-ttu-id="a158c-250">Custom Numeric Format Strings</span><span class="sxs-lookup"><span data-stu-id="a158c-250">Custom Numeric Format Strings</span></span>](../../../docs/standard/base-types/custom-numeric-format-strings.md)|<span data-ttu-id="a158c-251">Describe cadenas de formato personalizado que crean formatos específicos de la aplicación para valores numéricos.</span><span class="sxs-lookup"><span data-stu-id="a158c-251">Describes custom format strings that create application-specific formats for numeric values.</span></span>|
|[<span data-ttu-id="a158c-252">Standard Date and Time Format Strings</span><span class="sxs-lookup"><span data-stu-id="a158c-252">Standard Date and Time Format Strings</span></span>](../../../docs/standard/base-types/standard-date-and-time-format-strings.md)|<span data-ttu-id="a158c-253">Describe cadenas de formato estándar que crean representaciones de cadena usadas con frecuencia de valores <xref:System.DateTime> y <xref:System.DateTimeOffset>.</span><span class="sxs-lookup"><span data-stu-id="a158c-253">Describes standard format strings that create commonly used string representations of <xref:System.DateTime> and <xref:System.DateTimeOffset> values.</span></span>|
|[<span data-ttu-id="a158c-254">Custom Date and Time Format Strings</span><span class="sxs-lookup"><span data-stu-id="a158c-254">Custom Date and Time Format Strings</span></span>](../../../docs/standard/base-types/custom-date-and-time-format-strings.md)|<span data-ttu-id="a158c-255">Describe cadenas de formato personalizado que crean formatos específicos de la aplicación para valores <xref:System.DateTime> y <xref:System.DateTimeOffset>.</span><span class="sxs-lookup"><span data-stu-id="a158c-255">Describes custom format strings that create application-specific formats for <xref:System.DateTime> and <xref:System.DateTimeOffset> values.</span></span>|
|[<span data-ttu-id="a158c-256">Cadenas de formato TimeSpan estándar</span><span class="sxs-lookup"><span data-stu-id="a158c-256">Standard TimeSpan Format Strings</span></span>](../../../docs/standard/base-types/standard-timespan-format-strings.md)|<span data-ttu-id="a158c-257">Describe cadenas de formato estándar que crean representaciones de cadena usadas con frecuencia de intervalos de tiempo.</span><span class="sxs-lookup"><span data-stu-id="a158c-257">Describes standard format strings that create commonly used string representations of time intervals.</span></span>|
|[<span data-ttu-id="a158c-258">Cadenas de formato TimeSpan personalizado</span><span class="sxs-lookup"><span data-stu-id="a158c-258">Custom TimeSpan Format Strings</span></span>](../../../docs/standard/base-types/custom-timespan-format-strings.md)|<span data-ttu-id="a158c-259">Describe cadenas de formato personalizado que crean formatos específicos de la aplicación para intervalos de tiempo.</span><span class="sxs-lookup"><span data-stu-id="a158c-259">Describes custom format strings that create application-specific formats for time intervals.</span></span>|
|[<span data-ttu-id="a158c-260">Enumeration Format Strings</span><span class="sxs-lookup"><span data-stu-id="a158c-260">Enumeration Format Strings</span></span>](../../../docs/standard/base-types/enumeration-format-strings.md)|<span data-ttu-id="a158c-261">Describe cadenas de formato estándar que se usan para crear representaciones de cadena de valores de enumeración.</span><span class="sxs-lookup"><span data-stu-id="a158c-261">Describes standard format strings that are used to create string representations of enumeration values.</span></span>|
|<xref:System.Guid.ToString%28System.String%29?displayProperty=nameWithType>|<span data-ttu-id="a158c-262">Describe cadenas de formato estándar para los valores de <xref:System.Guid> .</span><span class="sxs-lookup"><span data-stu-id="a158c-262">Describes standard format strings for <xref:System.Guid> values.</span></span>|

## <a name="culture-sensitive-formatting-with-format-providers"></a><span data-ttu-id="a158c-263">Formato según la referencia cultural con proveedores de formato</span><span class="sxs-lookup"><span data-stu-id="a158c-263">Culture-sensitive formatting with format providers</span></span>

<span data-ttu-id="a158c-264">Si bien los especificadores de formato permiten personalizar el formato de los objetos, la generación de una representación de cadena significativa de los objetos requiere a menudo información de formato adicional.</span><span class="sxs-lookup"><span data-stu-id="a158c-264">Although format specifiers let you customize the formatting of objects, producing a meaningful string representation of objects often requires additional formatting information.</span></span> <span data-ttu-id="a158c-265">Por ejemplo, cuando se da formato a un número como un valor de divisa mediante la cadena de formato estándar "C" o la cadena de formato personalizado “$ #,#.00”, se necesita como mínimo información sobre el símbolo de divisa, el separador de grupos y el separador decimal correctos para incluirla en la cadena con formato.</span><span class="sxs-lookup"><span data-stu-id="a158c-265">For example, formatting a number as a currency value by using either the "C" standard format string or a custom format string such as "$ #,#.00" requires, at a minimum, information about the correct currency symbol, group separator, and decimal separator to be available to include in the formatted string.</span></span> <span data-ttu-id="a158c-266">En .NET, esta información de formato adicional está disponible mediante la interfaz <xref:System.IFormatProvider>, que se proporciona como un parámetro a una o más sobrecargas del método `ToString` de los tipos numéricos y de fecha y hora.</span><span class="sxs-lookup"><span data-stu-id="a158c-266">In .NET, this additional formatting information is made available through the <xref:System.IFormatProvider> interface, which is provided as a parameter to one or more overloads of the `ToString` method of numeric types and date and time types.</span></span> <span data-ttu-id="a158c-267">Las implementaciones de <xref:System.IFormatProvider> se usan en .NET para admitir el formato específico de una referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="a158c-267"><xref:System.IFormatProvider> implementations are used in .NET to support culture-specific formatting.</span></span> <span data-ttu-id="a158c-268">En el siguiente ejemplo se muestra cómo cambia la representación en forma de cadena de un objeto cuando se le da formato con tres objetos <xref:System.IFormatProvider> que representan referencias culturales diferentes.</span><span class="sxs-lookup"><span data-stu-id="a158c-268">The following example illustrates how the string representation of an object changes when it is formatted with three <xref:System.IFormatProvider> objects that represent different cultures.</span></span>

[!code-csharp[Conceptual.Formatting.Overview#11](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/iformatprovider1.cs#11)]
[!code-vb[Conceptual.Formatting.Overview#11](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/iformatprovider1.vb#11)]

<span data-ttu-id="a158c-269">La interfaz <xref:System.IFormatProvider> incluye un método, <xref:System.IFormatProvider.GetFormat%28System.Type%29>, que tiene un único parámetro que especifica el tipo de objeto que proporciona información de formato.</span><span class="sxs-lookup"><span data-stu-id="a158c-269">The <xref:System.IFormatProvider> interface includes one method, <xref:System.IFormatProvider.GetFormat%28System.Type%29>, which has a single parameter that specifies the type of object that provides formatting information.</span></span> <span data-ttu-id="a158c-270">Si el método puede proporcionar un objeto de ese tipo, lo devuelve.</span><span class="sxs-lookup"><span data-stu-id="a158c-270">If the method can provide an object of that type, it returns it.</span></span> <span data-ttu-id="a158c-271">De lo contrario, devuelve una referencia nula (`Nothing` en Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="a158c-271">Otherwise, it returns a null reference (`Nothing` in Visual Basic).</span></span>

<span data-ttu-id="a158c-272"><xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType> es un método de devolución de llamada.</span><span class="sxs-lookup"><span data-stu-id="a158c-272"><xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType> is a callback method.</span></span> <span data-ttu-id="a158c-273">Al llamar a una sobrecarga del método `ToString` que incluye un parámetro de <xref:System.IFormatProvider> , se llama al método <xref:System.IFormatProvider.GetFormat%2A> de ese objeto <xref:System.IFormatProvider> .</span><span class="sxs-lookup"><span data-stu-id="a158c-273">When you call a `ToString` method overload that includes an <xref:System.IFormatProvider> parameter, it calls the <xref:System.IFormatProvider.GetFormat%2A> method of that <xref:System.IFormatProvider> object.</span></span> <span data-ttu-id="a158c-274">El método <xref:System.IFormatProvider.GetFormat%2A> devuelve un objeto que proporciona al método `formatType` la información de formato necesaria especificada por su parámetro `ToString` .</span><span class="sxs-lookup"><span data-stu-id="a158c-274">The <xref:System.IFormatProvider.GetFormat%2A> method is responsible for returning an object that provides the necessary formatting information, as specified by its `formatType` parameter, to the `ToString` method.</span></span>

<span data-ttu-id="a158c-275">Varios métodos de formato o de conversión de cadenas incluyen un parámetro de tipo <xref:System.IFormatProvider>pero, en muchos casos, se omite el valor del parámetro cuando se llama al método.</span><span class="sxs-lookup"><span data-stu-id="a158c-275">A number of formatting or string conversion methods include a parameter of type <xref:System.IFormatProvider>, but in many cases the value of the parameter is ignored when the method is called.</span></span> <span data-ttu-id="a158c-276">En la tabla siguiente se muestran algunos métodos de formato que usan el parámetro y el tipo del objeto <xref:System.Type> que pasan al método <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="a158c-276">The following table lists some of the formatting methods that use the parameter and the type of the <xref:System.Type> object that they pass to the <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType> method.</span></span>

|<span data-ttu-id="a158c-277">Método</span><span class="sxs-lookup"><span data-stu-id="a158c-277">Method</span></span>|<span data-ttu-id="a158c-278">Tipo de parámetro `formatType`</span><span class="sxs-lookup"><span data-stu-id="a158c-278">Type of `formatType` parameter</span></span>|
|------------|------------------------------------|
|<span data-ttu-id="a158c-279">Método`ToString` de tipos numéricos</span><span class="sxs-lookup"><span data-stu-id="a158c-279">`ToString` method of numeric types</span></span>|<xref:System.Globalization.NumberFormatInfo?displayProperty=nameWithType>|
|<span data-ttu-id="a158c-280">Método`ToString` de tipos de fecha y hora</span><span class="sxs-lookup"><span data-stu-id="a158c-280">`ToString` method of date and time types</span></span>|<xref:System.Globalization.DateTimeFormatInfo?displayProperty=nameWithType>|
|<xref:System.String.Format%2A?displayProperty=nameWithType>|<xref:System.ICustomFormatter?displayProperty=nameWithType>|
|<xref:System.Text.StringBuilder.AppendFormat%2A?displayProperty=nameWithType>|<xref:System.ICustomFormatter?displayProperty=nameWithType>|

> [!NOTE]
> <span data-ttu-id="a158c-281">Los métodos `ToString` de los tipos numéricos y los tipos de fecha y hora se sobrecargan y solo algunas de las sobrecargas incluyen un parámetro <xref:System.IFormatProvider> .</span><span class="sxs-lookup"><span data-stu-id="a158c-281">The `ToString` methods of the numeric types and date and time types are overloaded, and only some of the overloads include an <xref:System.IFormatProvider> parameter.</span></span> <span data-ttu-id="a158c-282">Si un método no tiene un parámetro de tipo <xref:System.IFormatProvider>, se pasa en su lugar el objeto devuelto por la propiedad <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="a158c-282">If a method does not have a parameter of type <xref:System.IFormatProvider>, the object that is returned by the <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> property is passed instead.</span></span> <span data-ttu-id="a158c-283">Por ejemplo, una llamada al método <xref:System.Int32.ToString?displayProperty=nameWithType> predeterminado resultará finalmente en una llamada similar a esta: `Int32.ToString("G", System.Globalization.CultureInfo.CurrentCulture)`.</span><span class="sxs-lookup"><span data-stu-id="a158c-283">For example, a call to the default <xref:System.Int32.ToString?displayProperty=nameWithType> method ultimately results in a method call such as the following: `Int32.ToString("G", System.Globalization.CultureInfo.CurrentCulture)`.</span></span>

<span data-ttu-id="a158c-284">.NET proporciona tres clases que implementan <xref:System.IFormatProvider>:</span><span class="sxs-lookup"><span data-stu-id="a158c-284">.NET provides three classes that implement <xref:System.IFormatProvider>:</span></span>

- <span data-ttu-id="a158c-285"><xref:System.Globalization.DateTimeFormatInfo>, una clase que proporciona información de formato para los valores de fecha y hora para una referencia cultural concreta.</span><span class="sxs-lookup"><span data-stu-id="a158c-285"><xref:System.Globalization.DateTimeFormatInfo>, a class that provides formatting information for date and time values for a specific culture.</span></span> <span data-ttu-id="a158c-286">Su implementación de <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType> devuelve una instancia de sí misma.</span><span class="sxs-lookup"><span data-stu-id="a158c-286">Its <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType> implementation returns an instance of itself.</span></span>

- <span data-ttu-id="a158c-287"><xref:System.Globalization.NumberFormatInfo>, una clase que proporciona información de formato numérico para una referencia cultural concreta.</span><span class="sxs-lookup"><span data-stu-id="a158c-287"><xref:System.Globalization.NumberFormatInfo>, a class that provides numeric formatting information for a specific culture.</span></span> <span data-ttu-id="a158c-288">Su implementación de <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType> devuelve una instancia de sí misma.</span><span class="sxs-lookup"><span data-stu-id="a158c-288">Its <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType> implementation returns an instance of itself.</span></span>

- <span data-ttu-id="a158c-289"><xref:System.Globalization.CultureInfo>.</span><span class="sxs-lookup"><span data-stu-id="a158c-289"><xref:System.Globalization.CultureInfo>.</span></span> <span data-ttu-id="a158c-290">Su implementación de <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType> puede devolver un objeto <xref:System.Globalization.NumberFormatInfo> para proporcionar información de formato numérico o un objeto <xref:System.Globalization.DateTimeFormatInfo> para proporcionar información de formato para los valores de fecha y hora.</span><span class="sxs-lookup"><span data-stu-id="a158c-290">Its <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType> implementation can return either a <xref:System.Globalization.NumberFormatInfo> object to provide numeric formatting information or a <xref:System.Globalization.DateTimeFormatInfo> object to provide formatting information for date and time values.</span></span>

<span data-ttu-id="a158c-291">También se puede implementar un proveedor de formato propio para reemplazar cualquiera de estas clases.</span><span class="sxs-lookup"><span data-stu-id="a158c-291">You can also implement your own format provider to replace any one of these classes.</span></span> <span data-ttu-id="a158c-292">Sin embargo, el método <xref:System.IFormatProvider.GetFormat%2A> de la implementación debe devolver un objeto del tipo mostrado en la tabla anterior si debe proporcionar información de formato al método `ToString`.</span><span class="sxs-lookup"><span data-stu-id="a158c-292">However, your implementation’s <xref:System.IFormatProvider.GetFormat%2A> method must return an object of the type listed in the previous table if it has to provide formatting information to the `ToString` method.</span></span>

### <a name="culture-sensitive-formatting-of-numeric-values"></a><span data-ttu-id="a158c-293">Formato que tiene en cuenta las referencias culturales de valores numéricos</span><span class="sxs-lookup"><span data-stu-id="a158c-293">Culture-sensitive formatting of numeric values</span></span>

<span data-ttu-id="a158c-294">De forma predeterminada, el formato de los valores numéricos depende de la referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="a158c-294">By default, the formatting of numeric values is culture-sensitive.</span></span> <span data-ttu-id="a158c-295">Si no especifica una referencia cultural cuando llama a un método de formato, se utilizan las convenciones de formato de la referencia cultural del subproceso actual.</span><span class="sxs-lookup"><span data-stu-id="a158c-295">If you do not specify a culture when you call a formatting method, the formatting conventions of the current thread culture are used.</span></span> <span data-ttu-id="a158c-296">Esto se muestra en el ejemplo siguiente, que cambia la referencia cultural del subproceso actual cuatro veces y después llama al método <xref:System.Decimal.ToString%28System.String%29?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="a158c-296">This is illustrated in the following example, which changes the current thread culture four times and then calls the <xref:System.Decimal.ToString%28System.String%29?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="a158c-297">En cada caso, la cadena resultante refleja las convenciones de formato de la referencia cultural actual.</span><span class="sxs-lookup"><span data-stu-id="a158c-297">In each case, the result string reflects the formatting conventions of the current culture.</span></span> <span data-ttu-id="a158c-298">Esto se debe a que los métodos `ToString` y `ToString(String)` incluyen llamadas a cada tipo numérico del método `ToString(String, IFormatProvider)` .</span><span class="sxs-lookup"><span data-stu-id="a158c-298">This is because the `ToString` and `ToString(String)` methods wrap calls to each numeric type's `ToString(String, IFormatProvider)` method.</span></span>

[!code-csharp[Conceptual.Formatting.Overview#19](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/culturespecific3.cs#19)]
[!code-vb[Conceptual.Formatting.Overview#19](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/culturespecific3.vb#19)]

<span data-ttu-id="a158c-299">También se puede dar formato a un valor numérico para una referencia cultural concreta llamando a una sobrecarga de `ToString` que tenga un parámetro `provider` y pasándole uno de los elementos siguientes:</span><span class="sxs-lookup"><span data-stu-id="a158c-299">You can also format a numeric value for a specific culture by calling a `ToString` overload that has a `provider` parameter and passing it either of the following:</span></span>

- <span data-ttu-id="a158c-300">Un objeto <xref:System.Globalization.CultureInfo> que representa la referencia cultural cuyas convenciones de formato se van a usar.</span><span class="sxs-lookup"><span data-stu-id="a158c-300">A <xref:System.Globalization.CultureInfo> object that represents the culture whose formatting conventions are to be used.</span></span> <span data-ttu-id="a158c-301">El método <xref:System.Globalization.CultureInfo.GetFormat%2A?displayProperty=nameWithType> devuelve el valor de la propiedad <xref:System.Globalization.CultureInfo.NumberFormat%2A?displayProperty=nameWithType> , que es el objeto <xref:System.Globalization.NumberFormatInfo> que proporciona información sobre el formato de la referencia cultural para los valores numéricos.</span><span class="sxs-lookup"><span data-stu-id="a158c-301">Its <xref:System.Globalization.CultureInfo.GetFormat%2A?displayProperty=nameWithType> method returns the value of the <xref:System.Globalization.CultureInfo.NumberFormat%2A?displayProperty=nameWithType> property, which is the <xref:System.Globalization.NumberFormatInfo> object that provides culture-specific formatting information for numeric values.</span></span>

- <span data-ttu-id="a158c-302">Un objeto <xref:System.Globalization.NumberFormatInfo> que define las convenciones de formato de la referencia cultural que se van a usar.</span><span class="sxs-lookup"><span data-stu-id="a158c-302">A <xref:System.Globalization.NumberFormatInfo> object that defines the culture-specific formatting conventions to be used.</span></span> <span data-ttu-id="a158c-303">Su método <xref:System.Globalization.NumberFormatInfo.GetFormat%2A> devuelve una instancia de sí mismo.</span><span class="sxs-lookup"><span data-stu-id="a158c-303">Its <xref:System.Globalization.NumberFormatInfo.GetFormat%2A> method returns an instance of itself.</span></span>

<span data-ttu-id="a158c-304">En el siguiente ejemplo se utilizan objetos <xref:System.Globalization.NumberFormatInfo> que representan las referencias culturales de inglés (Estados Unidos) e inglés (Reino Unido), y las referencias culturales neutras de francés y ruso para dar formato a un número de punto flotante.</span><span class="sxs-lookup"><span data-stu-id="a158c-304">The following example uses <xref:System.Globalization.NumberFormatInfo> objects that represent the English (United States) and English (Great Britain) cultures and the French and Russian neutral cultures to format a floating-point number.</span></span>

[!code-csharp[Conceptual.Formatting.Overview#20](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/culturespecific4.cs#20)]
[!code-vb[Conceptual.Formatting.Overview#20](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/culturespecific4.vb#20)]

### <a name="culture-sensitive-formatting-of-date-and-time-values"></a><span data-ttu-id="a158c-305">Formato que tiene en cuenta las referencias culturales de valores de fecha y hora</span><span class="sxs-lookup"><span data-stu-id="a158c-305">Culture-sensitive formatting of date and time values</span></span>

<span data-ttu-id="a158c-306">De forma predeterminada, el formato de los valores de fecha y hora tiene en cuenta las referencias culturales.</span><span class="sxs-lookup"><span data-stu-id="a158c-306">By default, the formatting of date and time values is culture-sensitive.</span></span> <span data-ttu-id="a158c-307">Si no especifica una referencia cultural cuando llama a un método de formato, se utilizan las convenciones de formato de la referencia cultural del subproceso actual.</span><span class="sxs-lookup"><span data-stu-id="a158c-307">If you do not specify a culture when you call a formatting method, the formatting conventions of the current thread culture are used.</span></span> <span data-ttu-id="a158c-308">Esto se muestra en el ejemplo siguiente, que cambia la referencia cultural del subproceso actual cuatro veces y después llama al método <xref:System.DateTime.ToString%28System.String%29?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="a158c-308">This is illustrated in the following example, which changes the current thread culture four times and then calls the <xref:System.DateTime.ToString%28System.String%29?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="a158c-309">En cada caso, la cadena resultante refleja las convenciones de formato de la referencia cultural actual.</span><span class="sxs-lookup"><span data-stu-id="a158c-309">In each case, the result string reflects the formatting conventions of the current culture.</span></span> <span data-ttu-id="a158c-310">Esto se debe a que los métodos <xref:System.DateTime.ToString?displayProperty=nameWithType>, <xref:System.DateTime.ToString%28System.String%29?displayProperty=nameWithType>, <xref:System.DateTimeOffset.ToString?displayProperty=nameWithType>y <xref:System.DateTimeOffset.ToString%28System.String%29?displayProperty=nameWithType> encapsulan llamadas a los métodos <xref:System.DateTime.ToString%28System.String%2CSystem.IFormatProvider%29?displayProperty=nameWithType> y <xref:System.DateTimeOffset.ToString%28System.String%2CSystem.IFormatProvider%29?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="a158c-310">This is because the <xref:System.DateTime.ToString?displayProperty=nameWithType>, <xref:System.DateTime.ToString%28System.String%29?displayProperty=nameWithType>, <xref:System.DateTimeOffset.ToString?displayProperty=nameWithType>, and <xref:System.DateTimeOffset.ToString%28System.String%29?displayProperty=nameWithType> methods wrap calls to the <xref:System.DateTime.ToString%28System.String%2CSystem.IFormatProvider%29?displayProperty=nameWithType> and <xref:System.DateTimeOffset.ToString%28System.String%2CSystem.IFormatProvider%29?displayProperty=nameWithType> methods.</span></span>

[!code-csharp[Conceptual.Formatting.Overview#17](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/culturespecific1.cs#17)]
[!code-vb[Conceptual.Formatting.Overview#17](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/culturespecific1.vb#17)]

<span data-ttu-id="a158c-311">También se puede dar formato a un valor de fecha y hora para una referencia cultural concreta llamando a una sobrecarga de <xref:System.DateTime.ToString%2A?displayProperty=nameWithType> o <xref:System.DateTimeOffset.ToString%2A?displayProperty=nameWithType> que tenga un parámetro `provider` y pasándole uno de los elementos siguientes:</span><span class="sxs-lookup"><span data-stu-id="a158c-311">You can also format a date and time value for a specific culture by calling a <xref:System.DateTime.ToString%2A?displayProperty=nameWithType> or <xref:System.DateTimeOffset.ToString%2A?displayProperty=nameWithType> overload that has a `provider` parameter and passing it either of the following:</span></span>

- <span data-ttu-id="a158c-312">Un objeto <xref:System.Globalization.CultureInfo> que representa la referencia cultural cuyas convenciones de formato se van a usar.</span><span class="sxs-lookup"><span data-stu-id="a158c-312">A <xref:System.Globalization.CultureInfo> object that represents the culture whose formatting conventions are to be used.</span></span> <span data-ttu-id="a158c-313">Su método <xref:System.Globalization.CultureInfo.GetFormat%2A?displayProperty=nameWithType> devuelve el valor de la propiedad <xref:System.Globalization.CultureInfo.DateTimeFormat%2A?displayProperty=nameWithType> , que es el objeto <xref:System.Globalization.DateTimeFormatInfo> que proporciona información sobre el formato de una referencia cultural específica para valores de fecha y hora.</span><span class="sxs-lookup"><span data-stu-id="a158c-313">Its <xref:System.Globalization.CultureInfo.GetFormat%2A?displayProperty=nameWithType> method returns the value of the <xref:System.Globalization.CultureInfo.DateTimeFormat%2A?displayProperty=nameWithType> property, which is the <xref:System.Globalization.DateTimeFormatInfo> object that provides culture-specific formatting information for date and time values.</span></span>

- <span data-ttu-id="a158c-314">Un objeto <xref:System.Globalization.DateTimeFormatInfo> que define las convenciones de formato de la referencia cultural que se van a usar.</span><span class="sxs-lookup"><span data-stu-id="a158c-314">A <xref:System.Globalization.DateTimeFormatInfo> object that defines the culture-specific formatting conventions to be used.</span></span> <span data-ttu-id="a158c-315">Su método <xref:System.Globalization.DateTimeFormatInfo.GetFormat%2A> devuelve una instancia de sí mismo.</span><span class="sxs-lookup"><span data-stu-id="a158c-315">Its <xref:System.Globalization.DateTimeFormatInfo.GetFormat%2A> method returns an instance of itself.</span></span>

<span data-ttu-id="a158c-316">En el siguiente ejemplo se utilizan objetos <xref:System.Globalization.DateTimeFormatInfo> que representan las referencias culturales de inglés (Estados Unidos) e inglés (Reino Unido), y las referencias culturales neutras de francés y ruso para dar formato a una fecha.</span><span class="sxs-lookup"><span data-stu-id="a158c-316">The following example uses <xref:System.Globalization.DateTimeFormatInfo> objects that represent the English (United States) and English (Great Britain) cultures and the French and Russian neutral cultures to format a date.</span></span>

[!code-csharp[Conceptual.Formatting.Overview#18](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/culturespecific2.cs#18)]
[!code-vb[Conceptual.Formatting.Overview#18](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/culturespecific2.vb#18)]

## <a name="the-iformattable-interface"></a><span data-ttu-id="a158c-317">Interfaz IFormattable</span><span class="sxs-lookup"><span data-stu-id="a158c-317">The IFormattable interface</span></span>

<span data-ttu-id="a158c-318">Normalmente, los tipos que sobrecargan el método `ToString` con una cadena de formato y un parámetro <xref:System.IFormatProvider> también implementan la interfaz <xref:System.IFormattable> .</span><span class="sxs-lookup"><span data-stu-id="a158c-318">Typically, types that overload the `ToString` method with a format string and an <xref:System.IFormatProvider> parameter also implement the <xref:System.IFormattable> interface.</span></span> <span data-ttu-id="a158c-319">Esta interfaz tiene un solo miembro, <xref:System.IFormattable.ToString%28System.String%2CSystem.IFormatProvider%29?displayProperty=nameWithType>, que incluye una cadena de formato y un proveedor de formato como parámetros.</span><span class="sxs-lookup"><span data-stu-id="a158c-319">This interface has a single member, <xref:System.IFormattable.ToString%28System.String%2CSystem.IFormatProvider%29?displayProperty=nameWithType>, that includes both a format string and a format provider as parameters.</span></span>

<span data-ttu-id="a158c-320">La implementación de la interfaz <xref:System.IFormattable> para su clase definida por la aplicación ofrece dos ventajas:</span><span class="sxs-lookup"><span data-stu-id="a158c-320">Implementing the <xref:System.IFormattable> interface for your application-defined class offers two advantages:</span></span>

- <span data-ttu-id="a158c-321">Compatibilidad con la conversión de cadenas por la clase <xref:System.Convert> .</span><span class="sxs-lookup"><span data-stu-id="a158c-321">Support for string conversion by the <xref:System.Convert> class.</span></span> <span data-ttu-id="a158c-322">Las llamadas a los métodos <xref:System.Convert.ToString%28System.Object%29?displayProperty=nameWithType> y <xref:System.Convert.ToString%28System.Object%2CSystem.IFormatProvider%29?displayProperty=nameWithType> llaman automáticamente a su implementación de <xref:System.IFormattable> .</span><span class="sxs-lookup"><span data-stu-id="a158c-322">Calls to the <xref:System.Convert.ToString%28System.Object%29?displayProperty=nameWithType> and <xref:System.Convert.ToString%28System.Object%2CSystem.IFormatProvider%29?displayProperty=nameWithType> methods call your <xref:System.IFormattable> implementation automatically.</span></span>

- <span data-ttu-id="a158c-323">Compatibilidad con formatos compuestos.</span><span class="sxs-lookup"><span data-stu-id="a158c-323">Support for composite formatting.</span></span> <span data-ttu-id="a158c-324">Si se usa un elemento de formato que incluye una cadena de formato para dar formato a su tipo personalizado, Common Language Runtime llama automáticamente a su implementación de <xref:System.IFormattable> y le pasa la cadena de formato.</span><span class="sxs-lookup"><span data-stu-id="a158c-324">If a format item that includes a format string is used to format your custom type, the common language runtime automatically calls your <xref:System.IFormattable> implementation and passes it the format string.</span></span> <span data-ttu-id="a158c-325">Para obtener más información sobre los formatos compuestos con métodos como <xref:System.String.Format%2A?displayProperty=nameWithType> o <xref:System.Console.WriteLine%2A?displayProperty=nameWithType>, vea la sección [Formatos compuestos](#composite-formatting) .</span><span class="sxs-lookup"><span data-stu-id="a158c-325">For more information about composite formatting with methods such as <xref:System.String.Format%2A?displayProperty=nameWithType> or <xref:System.Console.WriteLine%2A?displayProperty=nameWithType>, see the [Composite Formatting](#composite-formatting) section.</span></span>

<span data-ttu-id="a158c-326">En el ejemplo siguiente se define una clase `Temperature` que implementa la interfaz <xref:System.IFormattable> .</span><span class="sxs-lookup"><span data-stu-id="a158c-326">The following example defines a `Temperature` class that implements the <xref:System.IFormattable> interface.</span></span> <span data-ttu-id="a158c-327">Admite los especificadores de formato "C" o "G" para mostrar la temperatura en grados centígrados, el especificador de formato "F" para mostrar la temperatura en grados Fahrenheit y el especificador de formato "K" para mostrar la temperatura en grados Kelvin.</span><span class="sxs-lookup"><span data-stu-id="a158c-327">It supports the "C" or "G" format specifiers to display the temperature in Celsius, the "F" format specifier to display the temperature in Fahrenheit, and the "K" format specifier to display the temperature in Kelvin.</span></span>

[!code-csharp[Conceptual.Formatting.Overview#12](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/iformattable.cs#12)]
[!code-vb[Conceptual.Formatting.Overview#12](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/iformattable.vb#12)]

<span data-ttu-id="a158c-328">En el ejemplo siguiente se crea una instancia de un objeto `Temperature` .</span><span class="sxs-lookup"><span data-stu-id="a158c-328">The following example instantiates a `Temperature` object.</span></span> <span data-ttu-id="a158c-329">A continuación, llama al método <xref:System.Convert.ToString%2A> y usa varias cadenas de formato compuesto para obtener representaciones de cadena diferentes de un objeto `Temperature` .</span><span class="sxs-lookup"><span data-stu-id="a158c-329">It then calls the <xref:System.Convert.ToString%2A> method and uses several composite format strings to obtain different string representations of a `Temperature` object.</span></span> <span data-ttu-id="a158c-330">Cada una de estas llamadas al método, a su vez, llama a la implementación de <xref:System.IFormattable> de la clase `Temperature` .</span><span class="sxs-lookup"><span data-stu-id="a158c-330">Each of these method calls, in turn, calls the <xref:System.IFormattable> implementation of the `Temperature` class.</span></span>

[!code-csharp[Conceptual.Formatting.Overview#13](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/iformattable.cs#13)]
[!code-vb[Conceptual.Formatting.Overview#13](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/iformattable.vb#13)]

## <a name="composite-formatting"></a><span data-ttu-id="a158c-331">Formatos compuestos</span><span class="sxs-lookup"><span data-stu-id="a158c-331">Composite formatting</span></span>

<span data-ttu-id="a158c-332">Algunos métodos, como <xref:System.String.Format%2A?displayProperty=nameWithType> y <xref:System.Text.StringBuilder.AppendFormat%2A?displayProperty=nameWithType>, admiten formatos compuestos.</span><span class="sxs-lookup"><span data-stu-id="a158c-332">Some methods, such as <xref:System.String.Format%2A?displayProperty=nameWithType> and <xref:System.Text.StringBuilder.AppendFormat%2A?displayProperty=nameWithType>, support composite formatting.</span></span> <span data-ttu-id="a158c-333">Una cadena de formato compuesto es un tipo de plantilla que devuelve una sola cadena que incorpora la representación de cadena de cero, uno o más objetos.</span><span class="sxs-lookup"><span data-stu-id="a158c-333">A composite format string is a kind of template that returns a single string that incorporates the string representation of zero, one, or more objects.</span></span> <span data-ttu-id="a158c-334">Cada objeto se representa en la cadena de formato compuesto mediante un elemento de formato indizado.</span><span class="sxs-lookup"><span data-stu-id="a158c-334">Each object is represented in the composite format string by an indexed format item.</span></span> <span data-ttu-id="a158c-335">El índice del elemento de formato corresponde a la posición del objeto que representa en la lista de parámetros del método.</span><span class="sxs-lookup"><span data-stu-id="a158c-335">The index of the format item corresponds to the position of the object that it represents in the method's parameter list.</span></span> <span data-ttu-id="a158c-336">Los índices son de base cero.</span><span class="sxs-lookup"><span data-stu-id="a158c-336">Indexes are zero-based.</span></span> <span data-ttu-id="a158c-337">Por ejemplo, en la siguiente llamada al método <xref:System.String.Format%2A?displayProperty=nameWithType> , el primer elemento de formato, `{0:D}`se reemplaza con la representación de cadena de `thatDate`; el segundo elemento de formato, `{1}`, se reemplaza con la representación de cadena de `item1`y el tercer elemento de formato, `{2:C2}`, se reemplaza con la representación de cadena de `item1.Value`.</span><span class="sxs-lookup"><span data-stu-id="a158c-337">For example, in the following call to the <xref:System.String.Format%2A?displayProperty=nameWithType> method, the first format item, `{0:D}`, is replaced by the string representation of `thatDate`; the second format item, `{1}`, is replaced by the string representation of `item1`; and the third format item, `{2:C2}`, is replaced by the string representation of `item1.Value`.</span></span>

[!code-csharp[Conceptual.Formatting.Overview#14](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/composite1.cs#14)]
[!code-vb[Conceptual.Formatting.Overview#14](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/composite1.vb#14)]

<span data-ttu-id="a158c-338">Además de reemplazar un elemento de formato con la representación de cadena de su objeto correspondiente, los elementos de formato también permiten controlar lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="a158c-338">In addition to replacing a format item with the string representation of its corresponding object, format items also let you control the following:</span></span>

- <span data-ttu-id="a158c-339">La forma específica en que un objeto se representa como una cadena, si el objeto implementa la interfaz <xref:System.IFormattable> y admite cadenas de formato.</span><span class="sxs-lookup"><span data-stu-id="a158c-339">The specific way in which an object is represented as a string, if the object implements the <xref:System.IFormattable> interface and supports format strings.</span></span> <span data-ttu-id="a158c-340">Para ello, siga el índice del elemento de formato con un signo `:` (dos puntos) seguido de una cadena de formato válida.</span><span class="sxs-lookup"><span data-stu-id="a158c-340">You do this by following the format item's index with a `:` (colon) followed by a valid format string.</span></span> <span data-ttu-id="a158c-341">En el ejemplo anterior, esto se hacía dando formato a un valor de fecha con la cadena de formato "d" (patrón de fecha corta) (por ejemplo, `{0:d}`) y dando formato a un valor numérico con la cadena de formato "C2" (por ejemplo, `{2:C2}` ) para representar el número como un valor de moneda con dos decimales fraccionarios.</span><span class="sxs-lookup"><span data-stu-id="a158c-341">The previous example did this by formatting a date value with the "d" (short date pattern) format string (e.g., `{0:d}`) and   by formatting a numeric value with the "C2" format string (e.g., `{2:C2}` to represent the number as a currency value with two fractional decimal digits.</span></span>

- <span data-ttu-id="a158c-342">El ancho del campo que contiene la representación de cadena del objeto y la alineación de la representación de cadena en ese campo.</span><span class="sxs-lookup"><span data-stu-id="a158c-342">The width of the field that contains the object's string representation, and the alignment of the string representation in that field.</span></span> <span data-ttu-id="a158c-343">Para ello, escriba una coma ( `,` ) seguida del ancho del campo.</span><span class="sxs-lookup"><span data-stu-id="a158c-343">You do this by following the format item's index with a `,` (comma) followed the field width.</span></span> <span data-ttu-id="a158c-344">La cadena se alinea a la derecha en el campo si el ancho del campo es un valor positivo, y se alinea a la izquierda si el ancho del campo es un valor negativo.</span><span class="sxs-lookup"><span data-stu-id="a158c-344">The string is right-aligned in the field if the field width is a positive value, and it is left-aligned if the field width is a negative value.</span></span> <span data-ttu-id="a158c-345">En el ejemplo siguiente los valores de fecha se alinean a la izquierda en un campo de 20 caracteres y los valores decimales con un dígito fraccionario se alinean a la derecha en un campo de 11 caracteres.</span><span class="sxs-lookup"><span data-stu-id="a158c-345">The following example left-aligns date values in a 20-character field, and it right-aligns decimal values with one fractional digit in an 11-character field.</span></span>

     [!code-csharp[Conceptual.Formatting.Overview#22](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/composite2.cs#22)]
     [!code-vb[Conceptual.Formatting.Overview#22](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/composite2.vb#22)]

     <span data-ttu-id="a158c-346">Tenga en cuenta que, si están presentes tanto el componente de cadena de alineación como el componente de cadena de formato, el primero precede al último (por ejemplo, `{0,-20:g}`).</span><span class="sxs-lookup"><span data-stu-id="a158c-346">Note that, if both the alignment string component and the format string component are present, the former precedes the latter (for example, `{0,-20:g}`.</span></span>

<span data-ttu-id="a158c-347">Para más información sobre los formatos compuestos, vea [Composite Formatting](../../../docs/standard/base-types/composite-formatting.md).</span><span class="sxs-lookup"><span data-stu-id="a158c-347">For more information about composite formatting, see [Composite Formatting](../../../docs/standard/base-types/composite-formatting.md).</span></span>

## <a name="custom-formatting-with-icustomformatter"></a><span data-ttu-id="a158c-348">Formato personalizado con ICustomFormatter</span><span class="sxs-lookup"><span data-stu-id="a158c-348">Custom formatting with ICustomFormatter</span></span>

<span data-ttu-id="a158c-349">Dos métodos de formato compuesto, <xref:System.String.Format%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType> y <xref:System.Text.StringBuilder.AppendFormat%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType>, incluyen un parámetro de proveedor de formato que admite formatos personalizados.</span><span class="sxs-lookup"><span data-stu-id="a158c-349">Two composite formatting methods, <xref:System.String.Format%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType> and <xref:System.Text.StringBuilder.AppendFormat%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType>, include a format provider parameter that supports custom formatting.</span></span> <span data-ttu-id="a158c-350">Cuando se llama a alguno de estos métodos de formato, se pasa un objeto <xref:System.Type> que representa una interfaz <xref:System.ICustomFormatter> al método <xref:System.IFormatProvider.GetFormat%2A> del proveedor de formato.</span><span class="sxs-lookup"><span data-stu-id="a158c-350">When either of these formatting methods is called, it passes a <xref:System.Type> object that represents an <xref:System.ICustomFormatter> interface to the format provider’s <xref:System.IFormatProvider.GetFormat%2A> method.</span></span> <span data-ttu-id="a158c-351">A continuación, el método <xref:System.IFormatProvider.GetFormat%2A> devuelve la implementación de <xref:System.ICustomFormatter> que proporciona el formato personalizado.</span><span class="sxs-lookup"><span data-stu-id="a158c-351">The <xref:System.IFormatProvider.GetFormat%2A> method is then responsible for returning the <xref:System.ICustomFormatter> implementation that provides custom formatting.</span></span>

<span data-ttu-id="a158c-352">La interfaz <xref:System.ICustomFormatter> tiene un único método, <xref:System.ICustomFormatter.Format%28System.String%2CSystem.Object%2CSystem.IFormatProvider%29>, al que un método de formato compuesto llama automáticamente una vez para cada elemento de formato de una cadena de formato compuesto.</span><span class="sxs-lookup"><span data-stu-id="a158c-352">The <xref:System.ICustomFormatter> interface has a single method, <xref:System.ICustomFormatter.Format%28System.String%2CSystem.Object%2CSystem.IFormatProvider%29>, that is called automatically by a composite formatting method, once for each format item in a composite format string.</span></span> <span data-ttu-id="a158c-353">El método <xref:System.ICustomFormatter.Format%28System.String%2CSystem.Object%2CSystem.IFormatProvider%29> tiene tres parámetros: una cadena de formato, que representa el argumento `formatString` de un elemento de formato, un objeto para dar formato y un objeto <xref:System.IFormatProvider> que proporciona servicios de formato.</span><span class="sxs-lookup"><span data-stu-id="a158c-353">The <xref:System.ICustomFormatter.Format%28System.String%2CSystem.Object%2CSystem.IFormatProvider%29> method has three parameters: a format string, which represents the `formatString` argument in a format item, an object to format, and an <xref:System.IFormatProvider> object that provides formatting services.</span></span> <span data-ttu-id="a158c-354">Normalmente, la clase que implementa <xref:System.ICustomFormatter> también implementa <xref:System.IFormatProvider>, de modo que este último parámetro es una referencia a la propia clase de formato personalizado.</span><span class="sxs-lookup"><span data-stu-id="a158c-354">Typically, the class that implements <xref:System.ICustomFormatter> also implements <xref:System.IFormatProvider>, so this last parameter is a reference to the custom formatting class itself.</span></span> <span data-ttu-id="a158c-355">El método devuelve una representación de cadena con formato personalizado del objeto al que se va a dar formato.</span><span class="sxs-lookup"><span data-stu-id="a158c-355">The method returns a custom formatted string representation of the object to be formatted.</span></span> <span data-ttu-id="a158c-356">Si el método no puede dar formato al objeto, debe devolver una referencia nula (`Nothing` en Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="a158c-356">If the method cannot format the object, it should return a null reference (`Nothing` in Visual Basic).</span></span>

<span data-ttu-id="a158c-357">En el ejemplo siguiente se proporciona una implementación de <xref:System.ICustomFormatter> denominada `ByteByByteFormatter` que muestra los valores enteros como una secuencia de valores hexadecimales de dos dígitos seguidos de un espacio.</span><span class="sxs-lookup"><span data-stu-id="a158c-357">The following example provides an <xref:System.ICustomFormatter> implementation named `ByteByByteFormatter` that displays integer values as a sequence of two-digit hexadecimal values followed by a space.</span></span>

[!code-csharp[Conceptual.Formatting.Overview#15](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/icustomformatter1.cs#15)]
[!code-vb[Conceptual.Formatting.Overview#15](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/icustomformatter1.vb#15)]

<span data-ttu-id="a158c-358">En el ejemplo siguiente se usa la clase `ByteByByteFormatter` para dar formato a valores enteros.</span><span class="sxs-lookup"><span data-stu-id="a158c-358">The following example uses the `ByteByByteFormatter` class to format integer values.</span></span> <span data-ttu-id="a158c-359">Observe que en el ejemplo no se llama explícitamente al método <xref:System.ICustomFormatter.Format%2A?displayProperty=nameWithType> más de una vez en la segunda llamada al método <xref:System.String.Format%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType> y que el proveedor <xref:System.Globalization.NumberFormatInfo> predeterminado se usa en la tercera llamada al método porque el método`ByteByByteFormatter.Format`</span><span class="sxs-lookup"><span data-stu-id="a158c-359">Note that the <xref:System.ICustomFormatter.Format%2A?displayProperty=nameWithType> method is called more than once in the second <xref:System.String.Format%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType> method call, and that the default <xref:System.Globalization.NumberFormatInfo> provider is used in the third method call because the .`ByteByByteFormatter.Format`</span></span> <span data-ttu-id="a158c-360">no reconoce la cadena de formato "N0" y devuelve una referencia nula (`Nothing` en Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="a158c-360">method does not recognize the "N0" format string and returns a null reference (`Nothing` in Visual Basic).</span></span>

[!code-csharp[Conceptual.Formatting.Overview#16](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.formatting.overview/cs/icustomformatter1.cs#16)]
[!code-vb[Conceptual.Formatting.Overview#16](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.formatting.overview/vb/icustomformatter1.vb#16)]

## <a name="related-topics"></a><span data-ttu-id="a158c-361">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="a158c-361">Related topics</span></span>

|<span data-ttu-id="a158c-362">Title</span><span class="sxs-lookup"><span data-stu-id="a158c-362">Title</span></span>|<span data-ttu-id="a158c-363">Definición</span><span class="sxs-lookup"><span data-stu-id="a158c-363">Definition</span></span>|
|-----------|----------------|
|[<span data-ttu-id="a158c-364">Standard Numeric Format Strings</span><span class="sxs-lookup"><span data-stu-id="a158c-364">Standard Numeric Format Strings</span></span>](../../../docs/standard/base-types/standard-numeric-format-strings.md)|<span data-ttu-id="a158c-365">Describe cadenas de formato estándar que crean representaciones de cadena usadas con frecuencia de valores numéricos.</span><span class="sxs-lookup"><span data-stu-id="a158c-365">Describes standard format strings that create commonly used string representations of numeric values.</span></span>|
|[<span data-ttu-id="a158c-366">Custom Numeric Format Strings</span><span class="sxs-lookup"><span data-stu-id="a158c-366">Custom Numeric Format Strings</span></span>](../../../docs/standard/base-types/custom-numeric-format-strings.md)|<span data-ttu-id="a158c-367">Describe cadenas de formato personalizado que crean formatos específicos de la aplicación para valores numéricos.</span><span class="sxs-lookup"><span data-stu-id="a158c-367">Describes custom format strings that create application-specific formats for numeric values.</span></span>|
|[<span data-ttu-id="a158c-368">Standard Date and Time Format Strings</span><span class="sxs-lookup"><span data-stu-id="a158c-368">Standard Date and Time Format Strings</span></span>](../../../docs/standard/base-types/standard-date-and-time-format-strings.md)|<span data-ttu-id="a158c-369">Describe cadenas de formato estándar que crean representaciones de cadena usadas con frecuencia de valores <xref:System.DateTime> .</span><span class="sxs-lookup"><span data-stu-id="a158c-369">Describes standard format strings that create commonly used string representations of <xref:System.DateTime> values.</span></span>|
|[<span data-ttu-id="a158c-370">Custom Date and Time Format Strings</span><span class="sxs-lookup"><span data-stu-id="a158c-370">Custom Date and Time Format Strings</span></span>](../../../docs/standard/base-types/custom-date-and-time-format-strings.md)|<span data-ttu-id="a158c-371">Describe cadenas de formato personalizado que crean formatos específicos de la aplicación para valores <xref:System.DateTime> .</span><span class="sxs-lookup"><span data-stu-id="a158c-371">Describes custom format strings that create application-specific formats for <xref:System.DateTime> values.</span></span>|
|[<span data-ttu-id="a158c-372">Cadenas de formato TimeSpan estándar</span><span class="sxs-lookup"><span data-stu-id="a158c-372">Standard TimeSpan Format Strings</span></span>](../../../docs/standard/base-types/standard-timespan-format-strings.md)|<span data-ttu-id="a158c-373">Describe cadenas de formato estándar que crean representaciones de cadena usadas con frecuencia de intervalos de tiempo.</span><span class="sxs-lookup"><span data-stu-id="a158c-373">Describes standard format strings that create commonly used string representations of time intervals.</span></span>|
|[<span data-ttu-id="a158c-374">Cadenas de formato TimeSpan personalizado</span><span class="sxs-lookup"><span data-stu-id="a158c-374">Custom TimeSpan Format Strings</span></span>](../../../docs/standard/base-types/custom-timespan-format-strings.md)|<span data-ttu-id="a158c-375">Describe cadenas de formato personalizado que crean formatos específicos de la aplicación para intervalos de tiempo.</span><span class="sxs-lookup"><span data-stu-id="a158c-375">Describes custom format strings that create application-specific formats for time intervals.</span></span>|
|[<span data-ttu-id="a158c-376">Enumeration Format Strings</span><span class="sxs-lookup"><span data-stu-id="a158c-376">Enumeration Format Strings</span></span>](../../../docs/standard/base-types/enumeration-format-strings.md)|<span data-ttu-id="a158c-377">Describe cadenas de formato estándar que se usan para crear representaciones de cadena de valores de enumeración.</span><span class="sxs-lookup"><span data-stu-id="a158c-377">Describes standard format strings that are used to create string representations of enumeration values.</span></span>|
|[<span data-ttu-id="a158c-378">Formatos compuestos</span><span class="sxs-lookup"><span data-stu-id="a158c-378">Composite Formatting</span></span>](../../../docs/standard/base-types/composite-formatting.md)|<span data-ttu-id="a158c-379">Describe cómo incrustar uno o más valores con formato en una cadena.</span><span class="sxs-lookup"><span data-stu-id="a158c-379">Describes how to embed one or more formatted values in a string.</span></span> <span data-ttu-id="a158c-380">Posteriormente se puede mostrar la cadena en la consola o escrita en una secuencia.</span><span class="sxs-lookup"><span data-stu-id="a158c-380">The string can subsequently be displayed on the console or written to a stream.</span></span>|
|[<span data-ttu-id="a158c-381">Efectuar operaciones de formato</span><span class="sxs-lookup"><span data-stu-id="a158c-381">Performing Formatting Operations</span></span>](../../../docs/standard/base-types/performing-formatting-operations.md)|<span data-ttu-id="a158c-382">Muestra los temas en los que se proporcionan instrucciones paso a paso para realizar operaciones de formato concretas.</span><span class="sxs-lookup"><span data-stu-id="a158c-382">Lists topics that provide step-by-step instructions for performing specific formatting operations.</span></span>|
|[<span data-ttu-id="a158c-383">Parsing Strings</span><span class="sxs-lookup"><span data-stu-id="a158c-383">Parsing Strings</span></span>](../../../docs/standard/base-types/parsing-strings.md)|<span data-ttu-id="a158c-384">Describe cómo inicializar objetos en los valores descritos por representaciones de cadena de dichos objetos.</span><span class="sxs-lookup"><span data-stu-id="a158c-384">Describes how to initialize objects to the values described by string representations of those objects.</span></span> <span data-ttu-id="a158c-385">El análisis es la operación inversa de la aplicación de formato.</span><span class="sxs-lookup"><span data-stu-id="a158c-385">Parsing is the inverse operation of formatting.</span></span>|

## <a name="reference"></a><span data-ttu-id="a158c-386">Referencia</span><span class="sxs-lookup"><span data-stu-id="a158c-386">Reference</span></span>

- <xref:System.IFormattable?displayProperty=nameWithType>
- <xref:System.IFormatProvider?displayProperty=nameWithType>
- <xref:System.ICustomFormatter?displayProperty=nameWithType>
