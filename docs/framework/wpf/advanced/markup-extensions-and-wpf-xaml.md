---
title: Extensiones de marcado y XAML
ms.date: 03/30/2017
helpviewer_keywords:
- brace character [WPF]
- Binding markup extensions [WPF]
- RelativeSource markup extensions [WPF]
- XAML [WPF], markup extensions
- markup extensions [WPF]
- nesting extension syntax [WPF]
- curly brace characters ({})
- TemplateBinding markup extensions [WPF]
- StaticResource markup extensions [WPF]
- literal curly brace characters ({})
- characters [WPF], curly brace
- DynamicResource markup extensions [WPF]
ms.assetid: 618dc745-8b14-4886-833f-486d2254bb78
ms.openlocfilehash: f4134e9d0b26135d1bd6058ac9ed8941a9c6be34
ms.sourcegitcommit: de17a7a0a37042f0d4406f5ae5393531caeb25ba
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/24/2020
ms.locfileid: "76727888"
---
# <a name="markup-extensions-and-wpf-xaml"></a><span data-ttu-id="c7cc6-102">Extensiones de marcado y XAML de WPF</span><span class="sxs-lookup"><span data-stu-id="c7cc6-102">Markup Extensions and WPF XAML</span></span>
<span data-ttu-id="c7cc6-103">En este tema se presenta el concepto de extensiones de marcado para XAML, incluidos sus reglas de sintaxis, su finalidad y el modelo de objeto de clase subyacente.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-103">This topic introduces the concept of markup extensions for XAML, including their syntax rules, purpose, and the class object model that underlies them.</span></span> <span data-ttu-id="c7cc6-104">Las extensiones de marcado son una característica general del lenguaje XAML y de la implementación .NET de servicios XAML.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-104">Markup extensions are a general feature of the XAML language and of the .NET implementation of XAML services.</span></span> <span data-ttu-id="c7cc6-105">En este tema se detallan las extensiones de marcado para su uso en XAML de WPF.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-105">This topic specifically details markup extensions for use in WPF XAML.</span></span>  

<a name="XAML_Processors_and_Markup_Extensions"></a>   
## <a name="xaml-processors-and-markup-extensions"></a><span data-ttu-id="c7cc6-106">Procesadores XAML y extensiones de marcado</span><span class="sxs-lookup"><span data-stu-id="c7cc6-106">XAML Processors and Markup Extensions</span></span>  
 <span data-ttu-id="c7cc6-107">Por lo general, un analizador de XAML puede interpretar un valor de atributo como una cadena literal que se puede convertir a un primitivo o convertir a un objeto de algún modo.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-107">Generally speaking, a XAML parser can either interpret an attribute value as a literal string that can be converted to a primitive, or convert it to an object by some means.</span></span> <span data-ttu-id="c7cc6-108">Uno de estos modos es haciendo referencia a un convertidor de tipos: se documenta en el tema [Clases TypeConverter y XAML](typeconverters-and-xaml.md).</span><span class="sxs-lookup"><span data-stu-id="c7cc6-108">One such means is by referencing a type converter; this is documented in the topic [TypeConverters and XAML](typeconverters-and-xaml.md).</span></span> <span data-ttu-id="c7cc6-109">Sin embargo, hay escenarios donde se necesita un comportamiento diferente.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-109">However, there are scenarios where different behavior is required.</span></span> <span data-ttu-id="c7cc6-110">Por ejemplo, un procesador XAML puede recibir la orden de que un valor de un atributo no debería producir un nuevo objeto en el gráfico de objetos.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-110">For example, a XAML processor can be instructed that a value of an attribute should not result in a new object in the object graph.</span></span> <span data-ttu-id="c7cc6-111">En su lugar, el atributo debería producir un gráfico de objeto que hiciera referencia a un objeto ya construido en otra parte del gráfico o un objeto estático.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-111">Instead, the attribute should result in an object graph that makes a reference to an already constructed object in another part of the graph, or a static object.</span></span> <span data-ttu-id="c7cc6-112">Otro escenario es que un procesador XAML puede recibir una orden para usar una sintaxis que proporciona argumentos no predeterminados al constructor de un objeto.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-112">Another scenario is that a XAML processor can be instructed to use a syntax that provides non-default arguments to the constructor of an object.</span></span> <span data-ttu-id="c7cc6-113">Estos son los tipos de escenario donde una extensión de marcado puede proporcionar la solución.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-113">These are the types of scenarios where a markup extension can provide the solution.</span></span>  
  
<a name="Basic_Markup_Extension_Syntax"></a>   
## <a name="basic-markup-extension-syntax"></a><span data-ttu-id="c7cc6-114">Sintaxis de extensiones de marcado básica</span><span class="sxs-lookup"><span data-stu-id="c7cc6-114">Basic Markup Extension Syntax</span></span>  
 <span data-ttu-id="c7cc6-115">Una extensión de marcado se puede implementar para proporcionar valores a propiedades en un uso de atributos, a propiedades en un uso de elementos de propiedad o ambos usos.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-115">A markup extension can be implemented to provide values for properties in an attribute usage, properties in a property element usage, or both.</span></span>  
  
 <span data-ttu-id="c7cc6-116">Cuando se usa para proporcionar un valor de atributo, la sintaxis que distingue una secuencia de extensión de marcado para un procesador XAML es la presencia de llaves de apertura y cierre ({ y }).</span><span class="sxs-lookup"><span data-stu-id="c7cc6-116">When used to provide an attribute value, the syntax that distinguishes a markup extension sequence to a XAML processor is the presence of the opening and closing curly braces ({ and }).</span></span> <span data-ttu-id="c7cc6-117">A continuación, el token de cadena inmediatamente posterior a la llave de apertura identifica el tipo de extensión de marcado.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-117">The type of markup extension is then identified by the string token immediately following the opening curly brace.</span></span>  
  
 <span data-ttu-id="c7cc6-118">Cuando se usa en la sintaxis de elemento de propiedad, una extensión de marcado es visualmente igual que cualquier otro elemento que se use para proporcionar un valor de elemento de propiedad: una declaración de elemento XAML que hace referencia a la clase de extensión de marcado como un elemento, incluido entre corchetes angulares (<>).</span><span class="sxs-lookup"><span data-stu-id="c7cc6-118">When used in property element syntax, a markup extension is visually the same as any other element used to provide a property element value: a XAML element declaration that references the markup extension class as an element, enclosed within angle brackets (<>).</span></span>  
  
<a name="XAML_Defined_Markup_Extensions"></a>   
## <a name="xaml-defined-markup-extensions"></a><span data-ttu-id="c7cc6-119">Extensiones de marcado definidas por XAML</span><span class="sxs-lookup"><span data-stu-id="c7cc6-119">XAML-Defined Markup Extensions</span></span>  
 <span data-ttu-id="c7cc6-120">Existen varias extensiones de marcado que no son específicas de la implementación de WPF de XAML, pero que son implementaciones intrínsecas o características de XAML como lenguaje.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-120">Several markup extensions exist that are not specific to the WPF implementation of XAML, but are instead implementations of intrinsics or features of XAML as a language.</span></span> <span data-ttu-id="c7cc6-121">Estas extensiones de marcado se implementan en el ensamblado System.Xaml como parte de los servicios XAML de .NET Framework generales y están dentro del espacio de nombres XAML del lenguaje XAML.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-121">These markup extensions are implemented in the System.Xaml assembly as part of the general .NET Framework XAML services, and are within the XAML language XAML namespace.</span></span> <span data-ttu-id="c7cc6-122">En cuanto al uso de marcación común, estas extensiones de marcado se suelen identificar por el prefijo `x:` en el uso.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-122">In terms of common markup usage, these markup extensions are typically identifiable by the `x:` prefix in the usage.</span></span> <span data-ttu-id="c7cc6-123">La clase base <xref:System.Windows.Markup.MarkupExtension> (también definida en System. xaml) proporciona el patrón que deben usar todas las extensiones de marcado para que se admita en lectores XAML y escritores de XAML, incluido en XAML de WPF.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-123">The <xref:System.Windows.Markup.MarkupExtension> base class (also defined in System.Xaml) provides the pattern that all markup extensions should use in order to be supported in XAML readers and XAML writers, including in WPF XAML.</span></span>  
  
- <span data-ttu-id="c7cc6-124">`x:Type` proporciona el objeto <xref:System.Type> para el tipo con nombre.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-124">`x:Type` supplies the <xref:System.Type> object for the named type.</span></span> <span data-ttu-id="c7cc6-125">Esta función se usa con más frecuencia en estilos y plantillas.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-125">This facility is used most frequently in styles and templates.</span></span> <span data-ttu-id="c7cc6-126">Para obtener más información, consulte [x:Type (Extensión de marcado)](../../../desktop-wpf/xaml-services/xtype-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="c7cc6-126">For details, see [x:Type Markup Extension](../../../desktop-wpf/xaml-services/xtype-markup-extension.md).</span></span>  
  
- <span data-ttu-id="c7cc6-127">`x:Static` genera valores estáticos.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-127">`x:Static` produces static values.</span></span> <span data-ttu-id="c7cc6-128">Los valores proceden de entidades de código de tipo de valor que no son directamente el tipo del valor de una propiedad de destino, pero que se pueden evaluar como ese tipo.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-128">The values come from value-type code entities that are not directly the type of a target property's value, but can be evaluated to that type.</span></span> <span data-ttu-id="c7cc6-129">Para obtener más información, consulte [Extensiones de marcado x:Static](../../../desktop-wpf/xaml-services/xstatic-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="c7cc6-129">For details, see [x:Static Markup Extension](../../../desktop-wpf/xaml-services/xstatic-markup-extension.md).</span></span>  
  
- <span data-ttu-id="c7cc6-130">`x:Null` especifica `null` como un valor para una propiedad y se puede usar para atributos o valores de elemento de propiedad.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-130">`x:Null` specifies `null` as a value for a property and can be used either for attributes or property element values.</span></span> <span data-ttu-id="c7cc6-131">Para obtener más información, consulte [x:Null (Extensión de marcado)](../../../desktop-wpf/xaml-services/xnull-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="c7cc6-131">For details, see [x:Null Markup Extension](../../../desktop-wpf/xaml-services/xnull-markup-extension.md).</span></span>  
  
- <span data-ttu-id="c7cc6-132">`x:Array` admite la creación de matrices generales en sintaxis XAML para casos en los que no se use deliberadamente el soporte de colección que proporcionan los elementos base y los modelos de control.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-132">`x:Array` provides support for creation of general arrays in XAML syntax, for cases where the collection support provided by WPF base elements and control models is deliberately not used.</span></span> <span data-ttu-id="c7cc6-133">Para obtener más información, consulte [x:Array (Extensión de marcado)](../../../desktop-wpf/xaml-services/xarray-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="c7cc6-133">For details, see [x:Array Markup Extension](../../../desktop-wpf/xaml-services/xarray-markup-extension.md).</span></span>  
  
> [!NOTE]
> <span data-ttu-id="c7cc6-134">El prefijo `x:` se usa para la asignación de espacio de nombres típica de XAML para los objetos intrínsecos del lenguaje XAML, en el elemento raíz de una producción o un archivo XAML.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-134">The `x:` prefix is used for the typical XAML namespace mapping of the XAML language intrinsics, in the root element of a XAML file or production.</span></span> <span data-ttu-id="c7cc6-135">Por ejemplo, las plantillas de Visual Studio para aplicaciones de WPF inician un archivo XAML usando esta asignación de `x:`.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-135">For example, the Visual Studio templates for WPF applications initiate a XAML file using this `x:` mapping.</span></span> <span data-ttu-id="c7cc6-136">Puede elegir un token de prefijo diferente en su propia asignación de espacio de nombres XAML, pero en esta documentación se presupone la asignación `x:` predeterminada como manera de identificar las entidades que forman una parte definida del espacio de nombres XAML del lenguaje XAML, en lugar de un espacio de nombres predeterminado de WPF o de otros espacios de nombres XAML que no estén relacionados con ningún marco específico.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-136">You could choose a different prefix token in your own XAML namespace mapping, but this documentation will assume the default `x:` mapping as a means of identifying those entities that are a defined part of the XAML namespace for the XAML language, as opposed to the WPF default namespace or other XAML namespaces not related to a specific framework.</span></span>  
  
<a name="WPF_Specific_Markup_Extensions"></a>   
## <a name="wpf-specific-markup-extensions"></a><span data-ttu-id="c7cc6-137">Extensiones de marcado específicas de WPF</span><span class="sxs-lookup"><span data-stu-id="c7cc6-137">WPF-Specific Markup Extensions</span></span>  
 <span data-ttu-id="c7cc6-138">Las extensiones de marcado más comunes que se usan en la programación de WPF son las que admiten referencias de recursos (`StaticResource` y `DynamicResource`) y las que admiten el enlace de datos (`Binding`).</span><span class="sxs-lookup"><span data-stu-id="c7cc6-138">The most common markup extensions used in WPF programming are those that support resource references (`StaticResource` and `DynamicResource`), and those that support data binding (`Binding`).</span></span>  
  
- <span data-ttu-id="c7cc6-139">`StaticResource` proporciona un valor para una propiedad sustituyendo el valor de un recurso ya definido.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-139">`StaticResource` provides a value for a property by substituting the value of an already defined resource.</span></span> <span data-ttu-id="c7cc6-140">Finalmente, se realiza una evaluación `StaticResource` en tiempo de carga XAML y no tiene acceso al gráfico de objetos en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-140">A `StaticResource` evaluation is ultimately made at XAML load time and does not have access to the object graph at run time.</span></span> <span data-ttu-id="c7cc6-141">Para obtener más información, consulte [Extensión de marcado StaticResource](staticresource-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="c7cc6-141">For details, see [StaticResource Markup Extension](staticresource-markup-extension.md).</span></span>  
  
- <span data-ttu-id="c7cc6-142">`DynamicResource` proporciona un valor para una propiedad aplazando ese valor para que sea una referencia a un recurso en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-142">`DynamicResource` provides a value for a property by deferring that value to be a run-time reference to a resource.</span></span> <span data-ttu-id="c7cc6-143">Una referencia de recurso dinámico fuerza una nueva búsqueda cada vez que se tiene acceso a este tipo de recurso y tiene acceso al gráfico de objetos en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-143">A dynamic resource reference forces a new lookup each time that such a resource is accessed and has access to the object graph at run time.</span></span> <span data-ttu-id="c7cc6-144">Para obtener este acceso, las propiedades de dependencia del sistema de propiedades de WPF y las expresiones evaluadas admiten el concepto `DynamicResource`.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-144">In order to get this access, `DynamicResource` concept is supported by dependency properties in the WPF property system, and evaluated expressions.</span></span> <span data-ttu-id="c7cc6-145">Por lo tanto, solo puede usar `DynamicResource` para un destino de propiedad de dependencia.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-145">Therefore you can only use `DynamicResource` for a dependency property target.</span></span> <span data-ttu-id="c7cc6-146">Para obtener más información, consulte [Extensión de marcado DynamicResource](dynamicresource-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="c7cc6-146">For details, see [DynamicResource Markup Extension](dynamicresource-markup-extension.md).</span></span>  
  
- <span data-ttu-id="c7cc6-147">`Binding` proporciona un valor enlazado a datos para una propiedad mediante el contexto de datos que se aplica al objeto primario en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-147">`Binding` provides a data bound value for a property, using the data context that applies to the parent object at run time.</span></span> <span data-ttu-id="c7cc6-148">Esta extensión de marcado es relativamente compleja, porque permite una sintaxis insertada sustancial para especificar un enlace de datos.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-148">This markup extension is relatively complex, because it enables a substantial inline syntax for specifying a data binding.</span></span> <span data-ttu-id="c7cc6-149">Para obtener más información, consulte [Binding (extensión de marcado)](binding-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="c7cc6-149">For details, see [Binding Markup Extension](binding-markup-extension.md).</span></span>  
  
- <span data-ttu-id="c7cc6-150">`RelativeSource` proporciona información de origen para una <xref:System.Windows.Data.Binding> que puede navegar por varias posibles relaciones en el árbol de objetos en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-150">`RelativeSource` provides source information for a <xref:System.Windows.Data.Binding> that can navigate several possible relationships in the run-time object tree.</span></span> <span data-ttu-id="c7cc6-151">Esto proporciona un origen especializado para los enlaces que se crean en plantillas de uso múltiple o creados en código sin conocimiento completo del árbol de objetos adyacente.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-151">This provides specialized sourcing for bindings that are created in multi-use templates or created in code without full knowledge of the surrounding object tree.</span></span> <span data-ttu-id="c7cc6-152">Para obtener más información, consulte [Extensión de marcado RelativeSource](relativesource-markupextension.md).</span><span class="sxs-lookup"><span data-stu-id="c7cc6-152">For details, see [RelativeSource MarkupExtension](relativesource-markupextension.md).</span></span>  
  
- <span data-ttu-id="c7cc6-153">`TemplateBinding` permite que una plantilla de control use valores para propiedades con plantilla procedentes de propiedades definidas por el modelo de objeto de la clase que usará la plantilla.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-153">`TemplateBinding` enables a control template to use values for templated properties that come from object-model-defined properties of the class that will use the template.</span></span> <span data-ttu-id="c7cc6-154">En otras palabras, la propiedad dentro de la definición de plantilla puede obtener acceso a un contexto que solo existe cuando se aplica la plantilla.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-154">In other words, the property within the template definition can access a context that only exists once the template is applied.</span></span> <span data-ttu-id="c7cc6-155">Para obtener más información, consulte [Extensión de marcado TemplateBinding](templatebinding-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="c7cc6-155">For details, see [TemplateBinding Markup Extension](templatebinding-markup-extension.md).</span></span> <span data-ttu-id="c7cc6-156">Para obtener más información sobre el uso práctico de `TemplateBinding`, consulte [Aplicación de estilos con el ejemplo ControlTemplates](https://github.com/Microsoft/WPF-Samples/tree/master/Styles%20&%20Templates/IntroToStylingAndTemplating).</span><span class="sxs-lookup"><span data-stu-id="c7cc6-156">For more information on the practical use of `TemplateBinding`, see [Styling with ControlTemplates Sample](https://github.com/Microsoft/WPF-Samples/tree/master/Styles%20&%20Templates/IntroToStylingAndTemplating).</span></span>  
  
- <span data-ttu-id="c7cc6-157">`ColorConvertedBitmap` admite un escenario de creación de imágenes relativamente avanzado.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-157">`ColorConvertedBitmap` supports a relatively advanced imaging scenario.</span></span> <span data-ttu-id="c7cc6-158">Para obtener más información, consulte [ColorConvertedBitmap (extensión de marcado)](colorconvertedbitmap-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="c7cc6-158">For details, see [ColorConvertedBitmap Markup Extension](colorconvertedbitmap-markup-extension.md).</span></span>  
  
- <span data-ttu-id="c7cc6-159">`ComponentResourceKey` y `ThemeDictionary` admiten aspectos de búsqueda de recursos, especialmente para recursos y temas que se empaquetan con controles personalizados.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-159">`ComponentResourceKey` and `ThemeDictionary` support aspects of resource lookup, particularly for resources and themes that are packaged with custom controls.</span></span> <span data-ttu-id="c7cc6-160">Para obtener más información, consulte [Extensión de marcado ComponentResourceKey](componentresourcekey-markup-extension.md), [Extensión de marcado ThemeDictionary](themedictionary-markup-extension.md) o [Información general sobre la creación de controles](../controls/control-authoring-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c7cc6-160">For more information, see [ComponentResourceKey Markup Extension](componentresourcekey-markup-extension.md), [ThemeDictionary Markup Extension](themedictionary-markup-extension.md), or [Control Authoring Overview](../controls/control-authoring-overview.md).</span></span>  
  
<a name="StarExtension"></a>   
## <a name="extension-classes"></a><span data-ttu-id="c7cc6-161">Clases de extensión de \*</span><span class="sxs-lookup"><span data-stu-id="c7cc6-161">\*Extension Classes</span></span>  
 <span data-ttu-id="c7cc6-162">Tanto para el lenguaje XAML general como para las extensiones de marcado específicas de WPF, el comportamiento de cada extensión de marcado se identifica como un procesador XAML a través de una clase `*Extension` que se deriva de <xref:System.Windows.Markup.MarkupExtension>y proporciona una implementación del método <xref:System.Windows.Markup.StaticExtension.ProvideValue%2A>.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-162">For both the general XAML language and WPF-specific markup extensions, the behavior of each markup extension is identified to a XAML processor through a `*Extension` class that derives from <xref:System.Windows.Markup.MarkupExtension>, and provides an implementation of the <xref:System.Windows.Markup.StaticExtension.ProvideValue%2A> method.</span></span> <span data-ttu-id="c7cc6-163">Este método de cada extensión proporciona el objeto que se devuelve cuando se evalúa la extensión de marcado.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-163">This method on each extension provides the object that is returned when the markup extension is evaluated.</span></span> <span data-ttu-id="c7cc6-164">El objeto devuelto se suele evaluar según los distintos token de cadena que se pasan a la extensión de marcado.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-164">The returned object is typically evaluated based on the various string tokens that are passed to the markup extension.</span></span>  
  
 <span data-ttu-id="c7cc6-165">Por ejemplo, la clase <xref:System.Windows.StaticResourceExtension> proporciona la implementación de la superficie de la búsqueda de recursos real para que su implementación de <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A> devuelva el objeto que se solicita, con la entrada de esa implementación concreta como una cadena que se usa para buscar el recurso por su `x:Key`.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-165">For example, the <xref:System.Windows.StaticResourceExtension> class provides the surface implementation of actual resource lookup so that its <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A> implementation returns the object that is requested, with the input of that particular implementation being a string that is used to look up the resource by its `x:Key`.</span></span> <span data-ttu-id="c7cc6-166">Gran parte de este detalle de implementación no es importante si usa una extensión de marcado existente.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-166">Much of this implementation detail is unimportant if you are using an existing markup extension.</span></span>  
  
 <span data-ttu-id="c7cc6-167">Algunas extensiones de marcado no usan argumentos de token de cadena.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-167">Some markup extensions do not use string token arguments.</span></span> <span data-ttu-id="c7cc6-168">Esto es porque devuelven un valor estático o coherente o porque el contexto para el valor que se debe devolver está disponible mediante uno de los servicios que se pasan con el parámetro `serviceProvider`.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-168">This is either because they return a static or consistent value, or because context for what value should be returned is available through one of the services passed through the `serviceProvider` parameter.</span></span>  
  
 <span data-ttu-id="c7cc6-169">El patrón de nomenclatura `*Extension` es por comodidad y coherencia.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-169">The `*Extension` naming pattern is for convenience and consistency.</span></span> <span data-ttu-id="c7cc6-170">No es necesario para que un procesador XAML identifique esa clase como compatible para una extensión de marcado.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-170">It is not necessary in order for a XAML processor to identify that class as support for a markup extension.</span></span> <span data-ttu-id="c7cc6-171">Siempre que el código base incluya System. XAML y use .NET Framework implementaciones de servicios XAML, todo lo que se necesita para que se reconozca como una extensión de marcado XAML es derivar de <xref:System.Windows.Markup.MarkupExtension> y admitir una sintaxis de construcción.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-171">So long as your codebase includes System.Xaml and uses .NET Framework XAML Services implementations, all that is necessary to be recognized as a XAML markup extension is to derive from <xref:System.Windows.Markup.MarkupExtension> and to support a construction syntax.</span></span> <span data-ttu-id="c7cc6-172">WPF define las clases de habilitación de la extensión de marcado que no siguen el patrón de nomenclatura `*Extension`, por ejemplo <xref:System.Windows.Data.Binding>.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-172">WPF defines markup extension-enabling classes that do not follow the `*Extension` naming pattern, for example <xref:System.Windows.Data.Binding>.</span></span> <span data-ttu-id="c7cc6-173">Normalmente, el motivo es que la clase admite escenarios más allá de la compatibilidad de extensión de marcado pura.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-173">Typically the reason for this is that the class supports scenarios beyond pure markup extension support.</span></span> <span data-ttu-id="c7cc6-174">En el caso de <xref:System.Windows.Data.Binding>, esa clase admite el acceso en tiempo de ejecución a los métodos y propiedades del objeto para los escenarios que no tienen nada que hacer con XAML.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-174">In the case of <xref:System.Windows.Data.Binding>, that class supports run-time access to methods and properties of the object for scenarios that have nothing to do with XAML.</span></span>  
  
### <a name="extension-class-interpretation-of-initialization-text"></a><span data-ttu-id="c7cc6-175">Interpretación de la clase de extensión del texto de inicialización</span><span class="sxs-lookup"><span data-stu-id="c7cc6-175">Extension Class Interpretation of Initialization Text</span></span>  
 <span data-ttu-id="c7cc6-176">Un procesador XAML interpreta los token de cadena que siguen el nombre de la extensión de marcado y están dentro de las llaves de las siguientes maneras:</span><span class="sxs-lookup"><span data-stu-id="c7cc6-176">The string tokens following the markup extension name and still within the braces are interpreted by a XAML processor in one of the following ways:</span></span>  
  
- <span data-ttu-id="c7cc6-177">Una coma siempre representa el separador o el delimitador de token individuales.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-177">A comma always represents the separator or delimiter of individual tokens.</span></span>  
  
- <span data-ttu-id="c7cc6-178">Si los token separados individuales no contienen ningún signo igual, cada token se trata como un argumento constructor.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-178">If the individual separated tokens do not contain any equals signs, each token is treated as a constructor argument.</span></span> <span data-ttu-id="c7cc6-179">Cada parámetro constructor debe proporcionarse como el tipo que espera la signatura y en el orden apropiado que espera la signatura.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-179">Each constructor parameter must be given as the type expected by that signature, and in the proper order expected by that signature.</span></span>  
  
    > [!NOTE]
    > <span data-ttu-id="c7cc6-180">Un procesador XAML debe llamar al constructor que coincida con el recuento de argumentos del número de pares.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-180">A XAML processor must call the constructor that matches the argument count of the number of pairs.</span></span> <span data-ttu-id="c7cc6-181">Por esta razón, si está implementando una extensión de marcado personalizada, no proporcione varios constructores con el mismo recuento de argumentos.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-181">For this reason, if you are implementing a custom markup extension, do not provide multiple constructors with the same argument count.</span></span> <span data-ttu-id="c7cc6-182">El comportamiento de cómo se comporta un procesador XAML si existe más de una ruta de acceso de constructor de extensión de marcado con el mismo recuento de parámetros no está definido, pero debe prever que un procesador XAML puede producir una excepción en el uso si esta situación se da en las definiciones de tipo de las extensiones de marcado.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-182">The behavior for how a XAML processor behaves if more than one markup extension constructor path with the same parameter count exists is not defined, but you should anticipate that a XAML processor is permitted to throw an exception on usage if this situation exists in the markup extension type definitions.</span></span>  
  
- <span data-ttu-id="c7cc6-183">Si los tokens separados individuales contienen signos de igual, un procesador XAML llama primero al constructor sin parámetros para la extensión de marcado.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-183">If the individual separated tokens contain equals signs, then a XAML processor first calls the parameterless constructor for the markup extension.</span></span> <span data-ttu-id="c7cc6-184">A continuación, cada par nombre=valor se interpreta como un nombre de propiedad que existe en la extensión de marcado y un valor que se asigna a esa propiedad.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-184">Then, each name=value pair is interpreted as a property name that exists on the markup extension, and a value to assign to that property.</span></span>  
  
- <span data-ttu-id="c7cc6-185">Si hay un resultado paralelo entre el comportamiento del constructor y el comportamiento de la configuración de propiedades en una extensión de marcado, no importa qué comportamiento use.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-185">If there is a parallel result between the constructor behavior and the property setting behavior in a markup extension, it does not matter which behavior you use.</span></span> <span data-ttu-id="c7cc6-186">Es más común usar los pares *propiedad*`=`*valor* pares para las extensiones de marcado que tienen más de una propiedad configurable, aunque solamente sea porque hace que la marcación sea más calculada y es menos probable transponer accidentalmente parámetros constructor.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-186">It is more common usage to use the *property*`=`*value* pairs for markup extensions that have more than one settable property, if only because it makes your markup more intentional and you are less likely to accidentally transpose constructor parameters.</span></span> <span data-ttu-id="c7cc6-187">(Cuando se especifican pares propiedad = valor, esas propiedades pueden estar en cualquier orden). Además, no hay ninguna garantía de que una extensión de marcado suministre un parámetro de constructor que establezca cada una de sus propiedades configurables.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-187">(When you specify property=value pairs, those properties may be in any order.) Also, there is no guarantee that a markup extension supplies a constructor parameter that sets every one of its settable properties.</span></span> <span data-ttu-id="c7cc6-188">Por ejemplo, <xref:System.Windows.Data.Binding> es una extensión de marcado, con muchas propiedades que se pueden establecer a través de la extensión en el formato de *valor* de *propiedad*`=`, pero <xref:System.Windows.Data.Binding> solo admite dos constructores: un constructor sin parámetros y otro que establece una ruta de acceso inicial.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-188">For example, <xref:System.Windows.Data.Binding> is a markup extension, with many properties that are settable through the extension in *property*`=`*value* form, but <xref:System.Windows.Data.Binding> only supports two constructors: a parameterless constructor, and one that sets an initial path.</span></span>  
  
- <span data-ttu-id="c7cc6-189">Una coma literal no se puede pasar a una extensión de marcado sin escape.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-189">A literal comma cannot be passed to a markup extension without escapement.</span></span>  
  
<a name="EscapeSequences"></a>   
## <a name="escape-sequences-and-markup-extensions"></a><span data-ttu-id="c7cc6-190">Secuencias de escape y extensiones de marcado</span><span class="sxs-lookup"><span data-stu-id="c7cc6-190">Escape Sequences and Markup Extensions</span></span>  
 <span data-ttu-id="c7cc6-191">El control de atributos en un procesador XAML usa las llaves como indicadores de una secuencia de extensión de marcado.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-191">Attribute handling in a XAML processor uses the curly braces as indicators of a markup extension sequence.</span></span> <span data-ttu-id="c7cc6-192">También es posible generar un valor de atributo de caracteres literales de llave si es necesario, escribiendo una secuencia de escape con un par de llaves vacío seguido de la llave de cierre literal.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-192">It is also possible to produce a literal curly brace character attribute value if necessary, by entering an escape sequence using an empty curly brace pair followed by the literal curly brace.</span></span> <span data-ttu-id="c7cc6-193">Vea [{} extensión de marcado de secuencia de escape](../../../desktop-wpf/xaml-services/escape-sequence-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="c7cc6-193">See [{} Escape Sequence - Markup Extension](../../../desktop-wpf/xaml-services/escape-sequence-markup-extension.md).</span></span>  
  
<a name="Nesting"></a>   
## <a name="nesting-markup-extensions-in-xaml-usage"></a><span data-ttu-id="c7cc6-194">Anidar extensiones de marcado en uso de XAML</span><span class="sxs-lookup"><span data-stu-id="c7cc6-194">Nesting Markup Extensions in XAML Usage</span></span>  
 <span data-ttu-id="c7cc6-195">Se admite el anidamiento de varias extensiones de marcado. Se empezará a evaluar las extensiones de marcado por profundidad.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-195">Nesting of multiple markup extensions is supported, and each markup extension will be evaluated deepest first.</span></span> <span data-ttu-id="c7cc6-196">Por ejemplo, considere el siguiente uso:</span><span class="sxs-lookup"><span data-stu-id="c7cc6-196">For example, consider the following usage:</span></span>  
  
```xaml  
<Setter Property="Background"  
  Value="{DynamicResource {x:Static SystemColors.ControlBrushKey}}" />  
```  
  
 <span data-ttu-id="c7cc6-197">En este uso, la instrucción `x:Static` se evalúa primero y devuelve una cadena.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-197">In this usage, the `x:Static` statement is evaluated first and returns a string.</span></span> <span data-ttu-id="c7cc6-198">A continuación, la cadena se usa como argumento para `DynamicResource`.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-198">That string is then used as the argument for `DynamicResource`.</span></span>  
  
## <a name="markup-extensions-and-property-element-syntax"></a><span data-ttu-id="c7cc6-199">Extensiones de marcado y sintaxis de elementos de propiedad</span><span class="sxs-lookup"><span data-stu-id="c7cc6-199">Markup Extensions and Property Element Syntax</span></span>  
 <span data-ttu-id="c7cc6-200">Cuando se usa como un elemento de objeto que rellena un valor de elemento de propiedad, una clase de extensión de marcado es visualmente indistinguible de un elemento de objeto típico respaldado por tipo que se puede usar en XAML.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-200">When used as an object element that fills a property element value, a markup extension class is visually indistinguishable from a typical type-backed object element that can be used in XAML.</span></span> <span data-ttu-id="c7cc6-201">La diferencia práctica entre un elemento de objeto típico y una extensión de marcado es que la extensión de marcado se evalúa como un valor con tipo o se aplaza como una expresión.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-201">The practical difference between a typical object element and a markup extension is that the markup extension is either evaluated to a typed value or deferred as an expression.</span></span> <span data-ttu-id="c7cc6-202">Por lo tanto, los mecanismos para detectar posibles errores de tipo de valores de propiedad para la extensión de marcado será diferente, de forma similar a cómo se trata una propiedad enlazada en tiempo de ejecución en otros modelos de programación.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-202">Therefore the mechanisms for any possible type errors of property values for the markup extension will be different, similar to how a late-bound property is treated in other programming models.</span></span> <span data-ttu-id="c7cc6-203">Se evaluará un elemento de objeto normal para la coincidencia de tipo con la propiedad de destino que se configura al analizar el XAML.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-203">An ordinary object element will be evaluated for type match against the target property it is setting when the XAML is parsed.</span></span>  
  
 <span data-ttu-id="c7cc6-204">La mayoría de extensiones de marcado, cuando se usan en sintaxis de elementos de objeto para rellenar un elemento de propiedad, no contienen sintaxis de elementos de contenido o de cualquier otra propiedad.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-204">Most markup extensions, when used in object element syntax to fill a property element, would not have content or any further property element syntax within.</span></span> <span data-ttu-id="c7cc6-205">De este modo, cerraría la etiqueta de elemento de objeto y no proporcionaría ningún elemento secundario.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-205">Thus you would close the object element tag, and provide no child elements.</span></span> <span data-ttu-id="c7cc6-206">Siempre que un procesador XAML encuentra cualquier elemento de objeto, se llama al constructor de esa clase, que crea una instancia del objeto creado a partir del elemento analizado.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-206">Whenever any object element is encountered by a XAML processor, the constructor for that class is called, which instantiates the object created from the parsed element.</span></span> <span data-ttu-id="c7cc6-207">Una clase de extensión de marcado no es diferente: Si desea que la extensión de marcado se pueda usar en la sintaxis de elementos de objeto, debe proporcionar un constructor sin parámetros.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-207">A markup extension class is no different: if you want your markup extension to be usable in object element syntax, you must provide a parameterless constructor.</span></span> <span data-ttu-id="c7cc6-208">Algunas extensiones de marcado existentes tienen al menos un valor de propiedad obligatorio que se debe especificar para obtener una inicialización eficaz.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-208">Some existing markup extensions have at least one required property value that must be specified for effective initialization.</span></span> <span data-ttu-id="c7cc6-209">Si es así, ese valor de propiedad se proporciona normalmente como un atributo de propiedad en el elemento de objeto.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-209">If so, that property value is typically given as a property attribute on the object element.</span></span> <span data-ttu-id="c7cc6-210">En las páginas de referencia [Características de lenguaje (x:) de espacios de nombres XAML](../../../desktop-wpf/xaml-services/namespace-language-features.md) y [Extensiones XAML de WPF](wpf-xaml-extensions.md), se indican las extensiones de marcado que tienen propiedades obligatorias (y los nombres de dichas propiedades).</span><span class="sxs-lookup"><span data-stu-id="c7cc6-210">In the [XAML Namespace (x:) Language Features](../../../desktop-wpf/xaml-services/namespace-language-features.md) and [WPF XAML Extensions](wpf-xaml-extensions.md) reference pages, markup extensions that have required properties (and the names of required properties) will be noted.</span></span> <span data-ttu-id="c7cc6-211">En las páginas de referencia también se indica si la sintaxis de elementos de objeto o de atributos no se permite para extensiones de marcado concretas.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-211">Reference pages will also note if either object element syntax or attribute syntax is disallowed for particular markup extensions.</span></span> <span data-ttu-id="c7cc6-212">Un caso destacado e es [x:Array (Extensión de marcado)](../../../desktop-wpf/xaml-services/xarray-markup-extension.md), que no admite la sintaxis de atributos porque el contenido de la matriz debe especificarse en el etiquetado como contenido.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-212">A notable case is [x:Array Markup Extension](../../../desktop-wpf/xaml-services/xarray-markup-extension.md), which cannot support attribute syntax because the contents of that array must be specified within the tagging as content.</span></span> <span data-ttu-id="c7cc6-213">El contenido de la matriz se controla como objetos generales y, por lo tanto, no es posible usar ningún convertidor de tipos predeterminado para el atributo.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-213">The array contents are handled as general objects, therefore no default type converter for the attribute is feasible.</span></span> <span data-ttu-id="c7cc6-214">Además, [x:Array (Extensión de marcado)](../../../desktop-wpf/xaml-services/xarray-markup-extension.md) necesita un parámetro `type`.</span><span class="sxs-lookup"><span data-stu-id="c7cc6-214">Also, [x:Array Markup Extension](../../../desktop-wpf/xaml-services/xarray-markup-extension.md) requires a `type` parameter.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c7cc6-215">Consulte también</span><span class="sxs-lookup"><span data-stu-id="c7cc6-215">See also</span></span>

- [<span data-ttu-id="c7cc6-216">Información general sobre XAML (WPF)</span><span class="sxs-lookup"><span data-stu-id="c7cc6-216">XAML Overview (WPF)</span></span>](../../../desktop-wpf/fundamentals/xaml.md)
- [<span data-ttu-id="c7cc6-217">Características de lenguaje (x:) de espacios de nombres XAML</span><span class="sxs-lookup"><span data-stu-id="c7cc6-217">XAML Namespace (x:) Language Features</span></span>](../../../desktop-wpf/xaml-services/namespace-language-features.md)
- [<span data-ttu-id="c7cc6-218">Extensiones XAML de WPF</span><span class="sxs-lookup"><span data-stu-id="c7cc6-218">WPF XAML Extensions</span></span>](wpf-xaml-extensions.md)
- [<span data-ttu-id="c7cc6-219">StaticResource (extensión de marcado)</span><span class="sxs-lookup"><span data-stu-id="c7cc6-219">StaticResource Markup Extension</span></span>](staticresource-markup-extension.md)
- [<span data-ttu-id="c7cc6-220">Binding (extensión de marcado)</span><span class="sxs-lookup"><span data-stu-id="c7cc6-220">Binding Markup Extension</span></span>](binding-markup-extension.md)
- [<span data-ttu-id="c7cc6-221">DynamicResource (extensión de marcado)</span><span class="sxs-lookup"><span data-stu-id="c7cc6-221">DynamicResource Markup Extension</span></span>](dynamicresource-markup-extension.md)
- [<span data-ttu-id="c7cc6-222">x:Type (extensión de marcado)</span><span class="sxs-lookup"><span data-stu-id="c7cc6-222">x:Type Markup Extension</span></span>](../../../desktop-wpf/xaml-services/xtype-markup-extension.md)
