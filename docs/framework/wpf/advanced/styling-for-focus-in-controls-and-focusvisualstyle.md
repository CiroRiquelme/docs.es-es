---
title: Aplicar estilo a los controles al recibir el foco y FocusVisualStyle
ms.date: 03/30/2017
helpviewer_keywords:
- keyboard focus [WPF]
- focus [WPF], visual styling
- styles [WPF], focus visual style
ms.assetid: 786ac576-011b-4d72-913b-558deccb9b35
ms.openlocfilehash: fda7ed12d232af5a7cfb8eb43cbb09eb793da171
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/12/2020
ms.locfileid: "79141204"
---
# <a name="styling-for-focus-in-controls-and-focusvisualstyle"></a><span data-ttu-id="60818-102">Aplicar estilo a los controles al recibir el foco y FocusVisualStyle</span><span class="sxs-lookup"><span data-stu-id="60818-102">Styling for Focus in Controls, and FocusVisualStyle</span></span>
[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] <span data-ttu-id="60818-103">proporciona dos mecanismos paralelos para cambiar el aspecto visual de un control cuando recibe el foco de teclado.</span><span class="sxs-lookup"><span data-stu-id="60818-103">provides two parallel mechanisms for changing the visual appearance of a control when it receives keyboard focus.</span></span> <span data-ttu-id="60818-104">El primer mecanismo consiste en usar establecedores <xref:System.Windows.UIElement.IsKeyboardFocused%2A> de propiedades para propiedades como dentro del estilo o plantilla que se aplica al control.</span><span class="sxs-lookup"><span data-stu-id="60818-104">The first mechanism is to use property setters for properties such as <xref:System.Windows.UIElement.IsKeyboardFocused%2A> within the style or template that is applied to the control.</span></span> <span data-ttu-id="60818-105">El segundo mecanismo consiste en proporcionar un <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A> estilo independiente como el valor de la propiedad; el "estilo visual de enfoque" crea un árbol visual independiente para un adorno que se dibuja en la parte superior del control, en lugar de cambiar el árbol visual del control u otro elemento de interfaz de usuario sustituyéndolo.</span><span class="sxs-lookup"><span data-stu-id="60818-105">The second mechanism is to provide a separate style as the value of the <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A> property; the "focus visual style" creates a separate visual tree for an adorner that draws on top of the control, rather than changing the visual tree of the control or other UI element by replacing it.</span></span> <span data-ttu-id="60818-106">En este tema se describen los escenarios en los que es apropiado cada uno de estos mecanismos.</span><span class="sxs-lookup"><span data-stu-id="60818-106">This topic discusses the scenarios where each of these mechanisms is appropriate.</span></span>  

<a name="Purpose"></a>
## <a name="the-purpose-of-focus-visual-style"></a><span data-ttu-id="60818-107">La finalidad del estilo visual de foco</span><span class="sxs-lookup"><span data-stu-id="60818-107">The Purpose of Focus Visual Style</span></span>  
 <span data-ttu-id="60818-108">La característica de estilo visual de foco proporciona un "modelo de objetos" común para especificar información visual al usuario basándose en la navegación mediante el teclado a cualquier elemento de la interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="60818-108">The focus visual style feature provides a common "object model" for introducing visual user feedback based on keyboard navigation to any UI element.</span></span> <span data-ttu-id="60818-109">Esto es posible sin aplicar una nueva plantilla al control ni conocer la composición de la plantilla concreta.</span><span class="sxs-lookup"><span data-stu-id="60818-109">This is possible without applying a new template to the control, or knowing the specific template composition.</span></span>  
  
 <span data-ttu-id="60818-110">Pero, y precisamente porque la característica de estilo visual de foco funciona sin conocer las plantillas de control, la información visual que se puede mostrar para un control usando un estilo visual de foco es necesariamente limitada.</span><span class="sxs-lookup"><span data-stu-id="60818-110">However, precisely because the focus visual style feature works without knowing the control templates, the visual feedback that can be displayed for a control using a focus visual style is necessarily limited.</span></span> <span data-ttu-id="60818-111">Lo que la característica hace en realidad es superponer un árbol visual diferente (un adorno) sobre el árbol visual creado por la representación de un control a través de su plantilla.</span><span class="sxs-lookup"><span data-stu-id="60818-111">What the feature actually does is to overlay a different visual tree (an adorner) on top of the visual tree as created by a control's rendering through its template.</span></span> <span data-ttu-id="60818-112">Este árbol visual independiente se define mediante <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A> un estilo que rellena la propiedad.</span><span class="sxs-lookup"><span data-stu-id="60818-112">You define this separate visual tree using a style that fills the <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A> property.</span></span>  
  
<a name="Default"></a>
## <a name="default-focus-visual-style-behavior"></a><span data-ttu-id="60818-113">Comportamiento predeterminado del estilo visual de foco</span><span class="sxs-lookup"><span data-stu-id="60818-113">Default Focus Visual Style Behavior</span></span>  
 <span data-ttu-id="60818-114">Los estilos visuales de foco solo actúan cuando la acción de foco se inicia desde el teclado.</span><span class="sxs-lookup"><span data-stu-id="60818-114">Focus visual styles act only when the focus action was initiated by the keyboard.</span></span> <span data-ttu-id="60818-115">Los cambios de foco provocados por acciones del mouse o mediante programación deshabilitan el modo de estilos visuales de foco.</span><span class="sxs-lookup"><span data-stu-id="60818-115">Any mouse action or programmatic focus change disables the mode for focus visual styles.</span></span> <span data-ttu-id="60818-116">Para más información sobre las distinciones entre los modos de foco, vea [Información general sobre el foco](focus-overview.md).</span><span class="sxs-lookup"><span data-stu-id="60818-116">For more information about the distinctions between focus modes, see [Focus Overview](focus-overview.md).</span></span>  
  
 <span data-ttu-id="60818-117">Los temas para los controles incluyen un comportamiento de estilo visual de foco predeterminado que pasa a ser el estilo visual de foco para todos los controles del tema.</span><span class="sxs-lookup"><span data-stu-id="60818-117">The themes for controls include a default focus visual style behavior that becomes the focus visual style for all controls in the theme.</span></span> <span data-ttu-id="60818-118">Este estilo de tema se identifica por <xref:System.Windows.SystemParameters.FocusVisualStyleKey%2A>el valor de la clave estática .</span><span class="sxs-lookup"><span data-stu-id="60818-118">This theme style is identified by the value of the static key <xref:System.Windows.SystemParameters.FocusVisualStyleKey%2A>.</span></span> <span data-ttu-id="60818-119">Al declarar su propio estilo visual de foco en el nivel de aplicación, se reemplaza este comportamiento de estilo predeterminado de los temas.</span><span class="sxs-lookup"><span data-stu-id="60818-119">When you declare your own focus visual style at the application level, you replace this default style behavior from the themes.</span></span> <span data-ttu-id="60818-120">Como alternativa, si define el tema completo, entonces deberá usar esta misma clave para definir el estilo correspondiente al comportamiento predeterminado para todo el tema.</span><span class="sxs-lookup"><span data-stu-id="60818-120">Alternatively, if you define the entire theme, then you should use this same key to define the style for the default behavior for your entire theme.</span></span>  
  
 <span data-ttu-id="60818-121">En los temas, el estilo visual de foco predeterminado suele ser muy simple.</span><span class="sxs-lookup"><span data-stu-id="60818-121">In the themes, the default focus visual style is generally very simple.</span></span> <span data-ttu-id="60818-122">A continuación se muestra una aproximación sin detallar:</span><span class="sxs-lookup"><span data-stu-id="60818-122">The following is a rough approximation:</span></span>  
  
```xaml  
<Style x:Key="{x:Static SystemParameters.FocusVisualStyleKey}">  
  <Setter Property="Control.Template">  
    <Setter.Value>  
      <ControlTemplate>  
        <Rectangle StrokeThickness="1"  
          Stroke="Black"  
          StrokeDashArray="1 2"  
          SnapsToDevicePixels="true"/>  
      </ControlTemplate>  
    </Setter.Value>  
  </Setter>  
</Style>  
```  
  
<a name="When"></a>
## <a name="when-to-use-focus-visual-styles"></a><span data-ttu-id="60818-123">Cuándo usar estilos visuales de foco</span><span class="sxs-lookup"><span data-stu-id="60818-123">When to Use Focus Visual Styles</span></span>  
 <span data-ttu-id="60818-124">Conceptualmente, el aspecto de los estilos visuales de foco aplicados a los controles debe ser coherente para todos los controles.</span><span class="sxs-lookup"><span data-stu-id="60818-124">Conceptually, the appearance of focus visual styles applied to controls should be coherent from control to control.</span></span> <span data-ttu-id="60818-125">Una manera de asegurar la coherencia es cambiar el estilo visual de foco únicamente si se está creando un tema completo, donde cada control que se defina obtendrá exactamente el mismo estilo visual de foco, o bien una variación de un estilo que guarde una relación visual en todos los controles.</span><span class="sxs-lookup"><span data-stu-id="60818-125">One way to ensure coherence is to change the focus visual style only if you are composing an entire theme, where each control that is defined in the theme gets either the very same focus visual style, or some variation of a style that is visually related from control to control.</span></span> <span data-ttu-id="60818-126">Como alternativa, se puede usar el mismo estilo (o estilos similares) para aplicárselos a todos los elementos que pueden recibir el foco del teclado de una página o una interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="60818-126">Alternatively, you might use the same style (or similar styles) to style every keyboard-focusable element on a page or in a UI.</span></span>  
  
 <span data-ttu-id="60818-127">Establecer <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A> en estilos de control individuales que no forman parte de un tema no es el uso previsto de estilos visuales de foco.</span><span class="sxs-lookup"><span data-stu-id="60818-127">Setting <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A> on individual control styles that are not part of a theme is not the intended usage of focus visual styles.</span></span> <span data-ttu-id="60818-128">Esto se debe a que un comportamiento visual incoherente en los distintos controles puede dar lugar a una experiencia del usuario confusa con respecto al foco de teclado.</span><span class="sxs-lookup"><span data-stu-id="60818-128">This is because an inconsistent visual behavior between controls can lead to a confusing user experience regarding keyboard focus.</span></span> <span data-ttu-id="60818-129">Si tiene la intención de comportamientos específicos del control para el foco del teclado que deliberadamente no son coherentes <xref:System.Windows.UIElement.IsFocused%2A> <xref:System.Windows.UIElement.IsKeyboardFocused%2A>en un tema, un enfoque mucho mejor es usar desencadenadores en estilos para propiedades de estado de entrada individuales, como o .</span><span class="sxs-lookup"><span data-stu-id="60818-129">If you are intending control-specific behaviors for keyboard focus that are deliberately not coherent across a theme, a much better approach is to use triggers in styles for individual input state properties, such as <xref:System.Windows.UIElement.IsFocused%2A> or <xref:System.Windows.UIElement.IsKeyboardFocused%2A>.</span></span>  
  
 <span data-ttu-id="60818-130">Los estilos visuales de foco actúan exclusivamente para el foco de teclado.</span><span class="sxs-lookup"><span data-stu-id="60818-130">Focus visual styles act exclusively for keyboard focus.</span></span> <span data-ttu-id="60818-131">Como tales, los estilos visuales de foco son un tipo de característica de accesibilidad.</span><span class="sxs-lookup"><span data-stu-id="60818-131">As such, focus visual styles are a type of accessibility feature.</span></span> <span data-ttu-id="60818-132">Si quiere efectuar cambios en la interfaz de usuario para cualquier tipo de foco, ya sea mediante el mouse, el teclado o programación, no debe usar los estilos visuales de foco sino establecedores y desencadenadores de estilos o plantillas que funcionen partiendo del valor de las propiedades de foco generales, <xref:System.Windows.UIElement.IsFocused%2A> o <xref:System.Windows.UIElement.IsKeyboardFocusWithin%2A>.</span><span class="sxs-lookup"><span data-stu-id="60818-132">If you want UI changes for any type of focus, whether via mouse, keyboard, or programmatically, then you should not use focus visual styles, and should instead use setters and triggers in styles or templates that are working from the value of general focus properties such as <xref:System.Windows.UIElement.IsFocused%2A> or <xref:System.Windows.UIElement.IsKeyboardFocusWithin%2A>.</span></span>  
  
<a name="How"></a>
## <a name="how-to-create-a-focus-visual-style"></a><span data-ttu-id="60818-133">Cómo crear un estilo visual de foco</span><span class="sxs-lookup"><span data-stu-id="60818-133">How to Create a Focus Visual Style</span></span>  
 <span data-ttu-id="60818-134">El estilo que cree para un estilo <xref:System.Windows.Style.TargetType%2A> <xref:System.Windows.Controls.Control>visual de foco siempre debe tener el de .</span><span class="sxs-lookup"><span data-stu-id="60818-134">The style you create for a focus visual style should always have the <xref:System.Windows.Style.TargetType%2A> of <xref:System.Windows.Controls.Control>.</span></span> <span data-ttu-id="60818-135">El estilo debe consistir principalmente en un <xref:System.Windows.Controls.ControlTemplate>archivo .</span><span class="sxs-lookup"><span data-stu-id="60818-135">The style should consist mainly of a <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="60818-136">No se especifica el tipo de destino para que sea <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A>el tipo donde se asigna el estilo visual de foco al archivo .</span><span class="sxs-lookup"><span data-stu-id="60818-136">You do not specify the target type to be the type where the focus visual style is assigned to the <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A>.</span></span>  
  
 <span data-ttu-id="60818-137">Dado que el <xref:System.Windows.Controls.Control>tipo de destino es siempre , debe aplicar estilo <xref:System.Windows.Controls.Control> mediante el uso de propiedades que son comunes a todos los controles (mediante las propiedades de la clase y sus clases base).</span><span class="sxs-lookup"><span data-stu-id="60818-137">Because the target type is always <xref:System.Windows.Controls.Control>, you must style by using properties that are common to all controls (using properties of the <xref:System.Windows.Controls.Control> class and its base classes).</span></span> <span data-ttu-id="60818-138">Debe crear una plantilla que funcione correctamente como una superposición a un elemento de la interfaz de usuario y que no oculte áreas funcionales del control.</span><span class="sxs-lookup"><span data-stu-id="60818-138">You should create a template that will properly function as an overlay to a UI element and that will not obscure functional areas of the control.</span></span> <span data-ttu-id="60818-139">En general, esto significa que la información visual debe aparecer fuera de los márgenes del control, o en forma de efectos temporales o discretos que no bloqueen las pruebas de posicionamiento del control al que se aplica el estilo visual de foco.</span><span class="sxs-lookup"><span data-stu-id="60818-139">Generally, this means that the visual feedback should appear outside the control margins, or as temporary or unobtrusive effects that will not block the hit testing on the control where the focus visual style is applied.</span></span> <span data-ttu-id="60818-140">Las propiedades que puede usar en el enlace de plantillas que son <xref:System.Windows.FrameworkElement.ActualHeight%2A>útiles <xref:System.Windows.FrameworkElement.Margin%2A>para <xref:System.Windows.Controls.Control.Padding%2A>determinar el tamaño y el posicionamiento de la plantilla de superposición incluyen , <xref:System.Windows.FrameworkElement.ActualWidth%2A>, y .</span><span class="sxs-lookup"><span data-stu-id="60818-140">Properties that you can use in template binding that are useful for determining sizing and positioning of your overlay template include <xref:System.Windows.FrameworkElement.ActualHeight%2A>, <xref:System.Windows.FrameworkElement.ActualWidth%2A>, <xref:System.Windows.FrameworkElement.Margin%2A>, and <xref:System.Windows.Controls.Control.Padding%2A>.</span></span>  
  
<a name="Alternatives"></a>
## <a name="alternatives-to-using-a-focus-visual-style"></a><span data-ttu-id="60818-141">Alternativas al uso de un estilo visual de foco</span><span class="sxs-lookup"><span data-stu-id="60818-141">Alternatives to Using a Focus Visual Style</span></span>  
 <span data-ttu-id="60818-142">En aquellas situaciones en que no sea apropiado usar un estilo visual de foco, ya sea porque el estilo se aplica a controles individuales o porque se quiere un mayor control sobre la plantilla de control, existen muchas otras propiedades y técnicas accesibles capaces de crear comportamiento visual en respuesta a los cambios de foco.</span><span class="sxs-lookup"><span data-stu-id="60818-142">For situations where using a focus visual style is not appropriate, either because you are only styling single controls or because you want greater control over the control template, there are many other accessible properties and techniques that can create visual behavior in response to changes in focus.</span></span>  
  
 <span data-ttu-id="60818-143">Los desencadenadores, establecedores y establecedores de eventos se describen con detalle en [Aplicar estilos y plantillas](../../../desktop-wpf/fundamentals/styles-templates-overview.md).</span><span class="sxs-lookup"><span data-stu-id="60818-143">Triggers, setters, and event setters are all discussed in detail in [Styling and Templating](../../../desktop-wpf/fundamentals/styles-templates-overview.md).</span></span> <span data-ttu-id="60818-144">El control de eventos enrutados se describe en [Información general sobre eventos enrutados](routed-events-overview.md).</span><span class="sxs-lookup"><span data-stu-id="60818-144">Routed event handling is discussed in [Routed Events Overview](routed-events-overview.md).</span></span>  
  
### <a name="iskeyboardfocused"></a><span data-ttu-id="60818-145">IsKeyboardFocused</span><span class="sxs-lookup"><span data-stu-id="60818-145">IsKeyboardFocused</span></span>  
 <span data-ttu-id="60818-146">Si está específicamente interesado en <xref:System.Windows.UIElement.IsKeyboardFocused%2A> el foco de teclado, <xref:System.Windows.Trigger>la propiedad de dependencia se puede utilizar para una propiedad.</span><span class="sxs-lookup"><span data-stu-id="60818-146">If you are specifically interested in keyboard focus, the <xref:System.Windows.UIElement.IsKeyboardFocused%2A> dependency property can be used for a property <xref:System.Windows.Trigger>.</span></span> <span data-ttu-id="60818-147">Un desencadenador de propiedad de un estilo o plantilla constituye una técnica más adecuada para definir el comportamiento de foco de teclado más específico para un único control y que no coincida visualmente con el comportamiento de foco de teclado de los demás controles.</span><span class="sxs-lookup"><span data-stu-id="60818-147">A property trigger in either a style or template is a more appropriate technique for defining a keyboard focus behavior that is very specifically for a single control, and which might not visually match the keyboard focus behavior for other controls.</span></span>  
  
 <span data-ttu-id="60818-148">Otra propiedad de <xref:System.Windows.UIElement.IsKeyboardFocusWithin%2A>dependencia similar es , que podría ser adecuado para usar si desea llamar visualmente que el foco del teclado está en algún lugar dentro de la composición o dentro del área funcional del control.</span><span class="sxs-lookup"><span data-stu-id="60818-148">Another similar dependency property is <xref:System.Windows.UIElement.IsKeyboardFocusWithin%2A>, which might be appropriate to use if you want to visually call out that keyboard focus is somewhere within compositing or within the functional area of the control.</span></span> <span data-ttu-id="60818-149">Por ejemplo, puede <xref:System.Windows.UIElement.IsKeyboardFocusWithin%2A> colocar un desencadenador de modo que un panel que agrupa varios controles aparezca de forma diferente, aunque el foco del teclado podría estar más preciso en un elemento individual dentro de ese panel.</span><span class="sxs-lookup"><span data-stu-id="60818-149">For example, you might place an <xref:System.Windows.UIElement.IsKeyboardFocusWithin%2A> trigger such that a panel that groups several controls appears differently, even though keyboard focus might more precisely be on an individual element within that panel.</span></span>  
  
 <span data-ttu-id="60818-150">También puede utilizar <xref:System.Windows.UIElement.GotKeyboardFocus> los <xref:System.Windows.UIElement.LostKeyboardFocus> eventos y (así como sus equivalentes de vista previa).</span><span class="sxs-lookup"><span data-stu-id="60818-150">You can also use the events <xref:System.Windows.UIElement.GotKeyboardFocus> and <xref:System.Windows.UIElement.LostKeyboardFocus> (as well as their Preview equivalents).</span></span> <span data-ttu-id="60818-151">Puede usar estos eventos como <xref:System.Windows.EventSetter>base para un , o puede escribir controladores para los eventos en código subyacente.</span><span class="sxs-lookup"><span data-stu-id="60818-151">You can use these events as the basis for an <xref:System.Windows.EventSetter>, or you can write handlers for the events in code-behind.</span></span>  
  
### <a name="other-focus-properties"></a><span data-ttu-id="60818-152">Otras propiedades de foco</span><span class="sxs-lookup"><span data-stu-id="60818-152">Other Focus Properties</span></span>  
 <span data-ttu-id="60818-153">Si desea que todas las causas posibles de cambio de foco produzcan <xref:System.Windows.UIElement.IsFocused%2A> un comportamiento visual, debe <xref:System.Windows.UIElement.GotFocus> <xref:System.Windows.UIElement.LostFocus> basar un <xref:System.Windows.EventSetter>establecedor o desencadenador en la propiedad de dependencia o, alternativamente, en los eventos utilizados para un archivo .</span><span class="sxs-lookup"><span data-stu-id="60818-153">If you want all possible causes of changing focus to produce a visual behavior, you should base a setter or trigger on the <xref:System.Windows.UIElement.IsFocused%2A> dependency property, or alternatively on the <xref:System.Windows.UIElement.GotFocus> or <xref:System.Windows.UIElement.LostFocus> events used for an <xref:System.Windows.EventSetter>.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="60818-154">Consulte también</span><span class="sxs-lookup"><span data-stu-id="60818-154">See also</span></span>

- <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A>
- [<span data-ttu-id="60818-155">Aplicar estilos y plantillas</span><span class="sxs-lookup"><span data-stu-id="60818-155">Styling and Templating</span></span>](../../../desktop-wpf/fundamentals/styles-templates-overview.md)
- [<span data-ttu-id="60818-156">Información general sobre el foco</span><span class="sxs-lookup"><span data-stu-id="60818-156">Focus Overview</span></span>](focus-overview.md)
- [<span data-ttu-id="60818-157">Información general sobre acciones del usuario</span><span class="sxs-lookup"><span data-stu-id="60818-157">Input Overview</span></span>](input-overview.md)
