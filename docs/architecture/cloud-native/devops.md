---
title: DevOps nativa de la nube
description: Diseño de aplicaciones .NET nativas en la nube para Azure | DevOps nativa de la nube
ms.date: 06/30/2019
ms.openlocfilehash: d152989061964d78c8be97b69df413b975058319
ms.sourcegitcommit: 30a558d23e3ac5a52071121a52c305c85fe15726
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 12/25/2019
ms.locfileid: "75337411"
---
# <a name="cloud-native-devops"></a><span data-ttu-id="c3bc1-103">DevOps nativa de la nube</span><span class="sxs-lookup"><span data-stu-id="c3bc1-103">Cloud Native DevOps</span></span>

[!INCLUDE [book-preview](../../../includes/book-preview.md)]

<span data-ttu-id="c3bc1-104">El mantr favorito de los asesores de software es responder "depende" de cualquier pregunta planteada.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-104">The favorite mantra of software consultants is to answer "It depends" to any question posed.</span></span> <span data-ttu-id="c3bc1-105">No se debe a que los consultores de software no toman ninguna posición.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-105">It isn't because software consultants are fond of not taking a position.</span></span> <span data-ttu-id="c3bc1-106">Esto se debe a que no hay ninguna respuesta auténtica a las preguntas del software.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-106">It's because there's no one true answer to any questions in software.</span></span> <span data-ttu-id="c3bc1-107">No hay ningún derecho absoluto y incorrecto, sino un equilibrio entre los opuestos.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-107">There's no absolute right and wrong, but rather a balance between opposites.</span></span>

<span data-ttu-id="c3bc1-108">Tomemos, por ejemplo, las dos escuelas principales del desarrollo de aplicaciones web: aplicaciones de una sola página (Spa) frente a aplicaciones del lado servidor.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-108">Take, for instance, the two major schools of developing web applications: Single Page Applications (SPAs) versus server-side applications.</span></span> <span data-ttu-id="c3bc1-109">Por un lado, la experiencia del usuario tiende a ser mejor con spa y la cantidad de tráfico al servidor Web se puede minimizar, lo que permite hospedarlos en algo tan sencillo como el hospedaje estático.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-109">On the one hand, the user experience tends to be better with SPAs and the amount of traffic to the web server can be minimized making it possible to host them on something as simple as static hosting.</span></span> <span data-ttu-id="c3bc1-110">Por otro lado, los Spa suelen ser más lentos de desarrollar y más difíciles de probar.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-110">On the other hand, SPAs tend to be slower to develop and more difficult to test.</span></span> <span data-ttu-id="c3bc1-111">¿Cuál es la opción correcta?</span><span class="sxs-lookup"><span data-stu-id="c3bc1-111">Which one is the right choice?</span></span> <span data-ttu-id="c3bc1-112">Bien, depende de su situación.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-112">Well, it depends on your situation.</span></span>

<span data-ttu-id="c3bc1-113">Las aplicaciones nativas de la nube no son inmunes a ese mismo Dichotomy.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-113">Cloud-native applications aren't immune to that same dichotomy.</span></span> <span data-ttu-id="c3bc1-114">Tienen ventajas claras en cuanto a la velocidad del desarrollo, la estabilidad y la escalabilidad, pero administrarlos puede ser un poco más difícil.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-114">They have clear advantages in terms of speed of development, stability, and scalability, but managing them can be quite a bit more difficult.</span></span>

<span data-ttu-id="c3bc1-115">Hace años, no era raro que el proceso de mover una aplicación de desarrollo a producción tomara un mes, o incluso más.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-115">Years ago, it wasn't uncommon for the process of moving an application from development to production to take a month, or even more.</span></span> <span data-ttu-id="c3bc1-116">Las empresas publican software en un ritmo de 6 meses o incluso cada año.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-116">Companies released software on a 6-month or even every year cadence.</span></span> <span data-ttu-id="c3bc1-117">No es necesario que Microsoft Windows se parezca más a la cadencia de las versiones que eran aceptables antes de los días de la marcha de Windows 10.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-117">One needs to look no further than Microsoft Windows to get an idea for the cadence of releases that were acceptable before the ever-green days of Windows 10.</span></span> <span data-ttu-id="c3bc1-118">Cinco años transcurridos entre Windows XP y vista, más de 3 entre vista y Windows 7.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-118">Five years passed between Windows XP and Vista, a further 3 between Vista and Windows 7.</span></span>

<span data-ttu-id="c3bc1-119">Ahora está bien establecido que poder lanzar software rápidamente ofrece a las empresas una gran ventaja en el mercado con respecto a sus competidores más sloths.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-119">It's now fairly well established that being able to release software rapidly gives fast-moving companies a huge market advantage over their more sloth-like competitors.</span></span> <span data-ttu-id="c3bc1-120">Por ese motivo, las actualizaciones principales de Windows 10 son aproximadamente cada seis meses.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-120">It's for that reason that major updates to Windows 10 are now approximately every six months.</span></span>

<span data-ttu-id="c3bc1-121">Los patrones y prácticas que permiten que las versiones más rápidas y confiables entreguen valor a la empresa se conocen colectivamente como DevOps.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-121">The patterns and practices that enable faster, more reliable releases to deliver value to the business are collectively known as DevOps.</span></span> <span data-ttu-id="c3bc1-122">Están formados por una amplia gama de ideas que abarcan todo el ciclo de vida de desarrollo de software desde la especificación de una aplicación hasta la entrega y el funcionamiento de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-122">They consist of a wide range of ideas spanning the entire software development life cycle from specifying an application all the way up to delivering and operating that application.</span></span>

<span data-ttu-id="c3bc1-123">DevOps surgió antes que los microservicios y es probable que el movimiento hacia los servicios de propósito más pequeños, más ajustados a los fines, no hubiera sido posible sin DevOps para que la liberación y el funcionamiento no solo de una pero muchas aplicaciones en producción fuera más fácil.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-123">DevOps emerged before microservices and it's likely that the movement towards smaller, more fit to purpose services wouldn't have been possible without DevOps to make releasing and operating not just one but many applications in production easier.</span></span>

![La figura 11-0 las tendencias de búsqueda muestran que el crecimiento de los microservicios no se inicia hasta que DevOps es una idea bastante bien establecida.](./media/microservices-vs-devops.png)

<span data-ttu-id="c3bc1-125">Gracias a las buenas prácticas de DevOps, es posible obtener las ventajas de las aplicaciones nativas de la nube sin Suffocating con una montaña de trabajo que realmente funcione con las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-125">Through good DevOps practices, it's possible to realize the advantages of cloud-native applications without suffocating under a mountain of work actually operating the applications.</span></span>

<span data-ttu-id="c3bc1-126">No hay ningún martillo de oro en cuanto a DevOps.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-126">There's no golden hammer when it comes to DevOps.</span></span> <span data-ttu-id="c3bc1-127">Nadie puede vender una solución completa y completa para lanzar y operar aplicaciones de alta calidad.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-127">Nobody can sell a complete and all-encompassing solution for releasing and operating high-quality applications.</span></span> <span data-ttu-id="c3bc1-128">Esto se debe a que cada aplicación es muy diferente de las demás.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-128">This is because each application is wildly different from all others.</span></span> <span data-ttu-id="c3bc1-129">Sin embargo, hay herramientas que pueden hacer que DevOps sea una propuesta mucho menos desalentadora.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-129">However, there are tools that can make DevOps a far less daunting proposition.</span></span> <span data-ttu-id="c3bc1-130">Una de estas herramientas se conoce como DevOps de Azure.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-130">One of these tools is known as Azure DevOps.</span></span>

## <a name="azure-devops"></a><span data-ttu-id="c3bc1-131">Azure DevOps</span><span class="sxs-lookup"><span data-stu-id="c3bc1-131">Azure DevOps</span></span>

<span data-ttu-id="c3bc1-132">Azure DevOps tiene un pedigrí largo.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-132">Azure DevOps has a long pedigree.</span></span> <span data-ttu-id="c3bc1-133">Puede volver a hacer un seguimiento de sus raíces cuando Team Foundation Server por primera vez en línea y a través de los distintos cambios de nombre: Visual Studio online y Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-133">It can trace its roots back to when Team Foundation Server first moved online and through the various name changes: Visual Studio Online and Visual Studio Team Services.</span></span> <span data-ttu-id="c3bc1-134">Sin embargo, a lo largo de los años, ha llegado mucho más allá de sus predecesores.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-134">Through the years, however, it has become far more than its predecessors.</span></span>

<span data-ttu-id="c3bc1-135">Azure DevOps se divide en cinco componentes principales:</span><span class="sxs-lookup"><span data-stu-id="c3bc1-135">Azure DevOps is divided into five major components:</span></span>

![Figura 11-1 las cinco áreas principales de DevOps de Azure](./media/devops-components.png)

<span data-ttu-id="c3bc1-137">**Azure Boards** : proporciona un problema y una herramienta de seguimiento de elementos de trabajo que se esfuerza por permitir que los usuarios elijan los flujos de trabajo que mejor funcionan para ellos.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-137">**Azure Boards** - Provides an issue and work item tracking tool that strives to allow users to pick the workflows that work best for them.</span></span> <span data-ttu-id="c3bc1-138">Incluye varias plantillas preconfiguradas, como las que admiten los estilos SCRUM y Kanban de desarrollo.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-138">It comes with a number of pre-configured templates including ones to support SCRUM and Kanban styles of development.</span></span>

<span data-ttu-id="c3bc1-139">**Azure Repos** : administración de código fuente que admite el control de versiones de Team Foundation venerable (TFVC) y el git favorito del sector.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-139">**Azure Repos** - Source code management that supports the venerable Team Foundation Version Control (TFVC) and the industry favorite git.</span></span> <span data-ttu-id="c3bc1-140">Las solicitudes de incorporación de cambios proporcionan una manera de habilitar la codificación social fomentando la explicación de los cambios a medida que se realizan.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-140">Pull requests provide a way to enable social coding by fostering discussion of changes as they're made.</span></span>

<span data-ttu-id="c3bc1-141">**Azure pipelines** -un sistema de administración de versión y compilación que admita una estrecha integración con Azure.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-141">**Azure Pipelines** - A build and release management system that supports tight integration with Azure.</span></span> <span data-ttu-id="c3bc1-142">Las compilaciones se pueden ejecutar en una gran variedad de plataformas de Windows a Linux y MacOS.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-142">Builds can be run on a variety of platforms from Windows to Linux to MacOS.</span></span> <span data-ttu-id="c3bc1-143">Los agentes de compilación se pueden aprovisionar en la nube o de forma local.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-143">Build agents may be provisioned in the cloud or on-premises.</span></span>

<span data-ttu-id="c3bc1-144">**Azure Test Plans** : no se dejará ninguna persona de control de calidad con la compatibilidad con la administración de pruebas y las pruebas exploratorias que ofrece la característica Test Plans.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-144">**Azure Test Plans** - No QA person will be left behind with the test management and exploratory testing support offered by the Test Plans feature.</span></span>

<span data-ttu-id="c3bc1-145">**Azure Artifacts** : una fuente de artefactos que permite a las empresas crear sus propias versiones, internas, de NuGet, NPM y otras.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-145">**Azure Artifacts** - An artifact feed that allows companies to create their own, internal, versions of NuGet, npm, and others.</span></span> <span data-ttu-id="c3bc1-146">Sirve para un doble propósito de actuar como una caché de paquetes ascendentes si se produce un error en un repositorio centralizado.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-146">It serves a double purpose of acting as a cache of upstream packages if there's a failure of a centralized repository.</span></span>

<span data-ttu-id="c3bc1-147">La unidad organizativa de nivel superior de Azure DevOps se denomina proyecto.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-147">The top-level organizational unit in Azure DevOps is known as a Project.</span></span> <span data-ttu-id="c3bc1-148">Dentro de cada proyecto, los distintos componentes, como Azure Artifacts, pueden activarse y desactivarse.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-148">Within each project the various components, such as Azure Artifacts, can be turned on and off.</span></span> <span data-ttu-id="c3bc1-149">Si los usuarios desean administrar su código fuente en GitHub pero siguen aprovechando Azure Pipelines, eso es perfectamente posible.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-149">If users want to manage their source code in GitHub but still take advantage of Azure Pipelines, then that's perfectly possible.</span></span> <span data-ttu-id="c3bc1-150">De hecho, muchos proyectos de código abierto aprovechan las [compilaciones gratuitas](https://azure.microsoft.com/blog/announcing-azure-pipelines-with-unlimited-ci-cd-minutes-for-open-source/) que ofrece Azure DevOps mientras mantienen su código fuente en github.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-150">In fact, many open-source projects leverage the [free builds](https://azure.microsoft.com/blog/announcing-azure-pipelines-with-unlimited-ci-cd-minutes-for-open-source/) offered by Azure DevOps while keeping their source code on GitHub.</span></span> <span data-ttu-id="c3bc1-151">Algunos proyectos de código abierto significativos como [Visual Studio Code](https://code.visualstudio.com/), [hilados](https://yarnpkg.com/en/), [Gulp](https://gulpjs.com/)y [NumPy](https://www.numpy.org/) han realizado la transición.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-151">Some significant open-source projects such as [Visual Studio Code](https://code.visualstudio.com/), [yarn](https://yarnpkg.com/en/), [gulp](https://gulpjs.com/), and [NumPy](https://www.numpy.org/) have made the transition.</span></span>

<span data-ttu-id="c3bc1-152">Cada uno de estos componentes proporciona algunas ventajas para las aplicaciones nativas de la nube, pero las tres más útiles son el control de código fuente, las placas y las canalizaciones.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-152">Each of these components provides some advantages for cloud-native applications, but the three most useful are the source control, boards and pipelines.</span></span>  

## <a name="source-control"></a><span data-ttu-id="c3bc1-153">Control de código fuente</span><span class="sxs-lookup"><span data-stu-id="c3bc1-153">Source control</span></span>

<span data-ttu-id="c3bc1-154">La organización del código para una aplicación nativa en la nube puede resultar complicada.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-154">Organizing the code for a cloud-native application can be challenging.</span></span> <span data-ttu-id="c3bc1-155">En lugar de una sola aplicación gigante, las aplicaciones nativas de la nube tienden a estar compuestas de una web de aplicaciones más pequeñas que se comunican entre sí.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-155">Instead of a single giant application, the cloud-native applications tend to be made up of a web of smaller applications that talk with one another.</span></span> <span data-ttu-id="c3bc1-156">Al igual que sucede con todo lo que hay en informática, la mejor disposición del código sigue siendo una pregunta abierta.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-156">As with all things in computing, the best arrangement of code remains an open question.</span></span> <span data-ttu-id="c3bc1-157">Hay ejemplos de aplicaciones correctas que usan diferentes tipos de diseños, pero parece que dos variantes tienen la mayor popularidad.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-157">There are examples of successful applications using different kinds of layouts, but two variants seem to have the most popularity.</span></span>

<span data-ttu-id="c3bc1-158">Antes de llegar al propio control de código fuente real, probablemente merece la pena decidir cuántos proyectos son adecuados.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-158">Before getting down into the actual source control itself, it's probably worth deciding on how many projects are appropriate.</span></span> <span data-ttu-id="c3bc1-159">Dentro de un solo proyecto, hay compatibilidad con varios repositorios y canalizaciones de compilación.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-159">Within a single project, there's support for multiple repositories, and build pipelines.</span></span> <span data-ttu-id="c3bc1-160">Los paneles son un poco más complicados, pero también se pueden asignar fácilmente a varios equipos dentro de un solo proyecto.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-160">Boards are a little more complicated, but there too, the tasks can easily be assigned to multiple teams within a single project.</span></span> <span data-ttu-id="c3bc1-161">Es ciertamente posible admitir cientos, incluso miles de desarrolladores, de un solo proyecto de Azure DevOps.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-161">It's certainly possible to support hundreds, even thousands of developers, out of a single Azure DevOps project.</span></span> <span data-ttu-id="c3bc1-162">Hacerlo es probablemente el mejor enfoque, ya que proporciona un único lugar para que todo el desarrollador pueda trabajar y reduzca la confusión que supone encontrar una aplicación cuando los desarrolladores no están seguros del proyecto en el que reside.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-162">Doing so is likely the best approach as it provides a single place for all developer to work out of and reduces the confusion of finding that one application when developers are unsure in which project in which it resides.</span></span>

<span data-ttu-id="c3bc1-163">Dividir el código para los microservicios dentro del proyecto DevOps de Azure puede ser un poco más desafiante.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-163">Splitting up code for microservices within the Azure DevOps project can be slightly more challenging.</span></span>

![Figura 11-2 única frente a varios repositorios](./media/single-repository-vs-multiple.png)

### <a name="repository-per-microservice"></a><span data-ttu-id="c3bc1-165">Repositorio por microservicio</span><span class="sxs-lookup"><span data-stu-id="c3bc1-165">Repository per microservice</span></span>

<span data-ttu-id="c3bc1-166">A primera vista, parece como el enfoque más lógico para dividir el código fuente de los microservicios.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-166">At first glance, this seems like the most logical approach to splitting up the source code for microservices.</span></span> <span data-ttu-id="c3bc1-167">Cada repositorio puede contener el código necesario para compilar un microservicio.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-167">Each repository can contain the code needed to build the one microservice.</span></span> <span data-ttu-id="c3bc1-168">Las ventajas de este enfoque son fácilmente visibles:</span><span class="sxs-lookup"><span data-stu-id="c3bc1-168">The advantages to this approach are readily visible:</span></span>

1. <span data-ttu-id="c3bc1-169">Las instrucciones para generar y mantener la aplicación se pueden agregar a un archivo Léame en la raíz de cada repositorio.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-169">Instructions for building and maintaining the application can be added to a README file at the root of each repository.</span></span> <span data-ttu-id="c3bc1-170">Al voltear los repositorios, es fácil encontrar estas instrucciones, lo que reduce el tiempo de arranque de los desarrolladores.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-170">When flipping through the repositories, it's easy to find these instructions, reducing spin-up time for developers.</span></span>
2. <span data-ttu-id="c3bc1-171">Cada servicio se encuentra en un lugar lógico y se encuentra fácilmente conociendo el nombre del servicio.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-171">Every service is located in a logical place, easily found by knowing the name of the service.</span></span>
3. <span data-ttu-id="c3bc1-172">Las compilaciones se pueden configurar fácilmente de forma que solo se desencadenen cuando se realiza un cambio en el repositorio propietario.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-172">Builds can easily be set up such that they're only triggered when a change is made to the owning repository.</span></span>
4. <span data-ttu-id="c3bc1-173">El número de cambios que entran en un repositorio se limita al número reducido de desarrolladores que trabajan en el proyecto.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-173">The number of changes coming into a repository is limited to the small number of developers working on the project.</span></span>
5. <span data-ttu-id="c3bc1-174">La seguridad es fácil de configurar mediante la restricción de los repositorios a los que los desarrolladores tienen permisos de lectura y escritura.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-174">Security is easy to set up by restricting the repositories to which developers have read and write permissions.</span></span>
6. <span data-ttu-id="c3bc1-175">El equipo propietario puede cambiar la configuración de nivel de repositorio con un mínimo de debate con otras personas.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-175">Repository level settings can be changed by the owning team with a minimum of discussion with others.</span></span>

<span data-ttu-id="c3bc1-176">Una de las ideas clave detrás de los microservicios es que los servicios se deben silor y separar entre sí.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-176">One of the key ideas behind microservices is that services should be siloed and separated from each other.</span></span> <span data-ttu-id="c3bc1-177">Al usar el diseño basado en dominio para decidir los límites de los servicios, los servicios actúan como límites transaccionales.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-177">When using Domain Driven Design to decide on the boundaries for services the services act as transactional boundaries.</span></span> <span data-ttu-id="c3bc1-178">Las actualizaciones de base de datos no deben abarcar varios servicios.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-178">Database updates shouldn't span multiple services.</span></span> <span data-ttu-id="c3bc1-179">Esta colección de datos relacionados se conoce como contexto delimitado.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-179">This collection of related data is referred to as a bounded context.</span></span>  <span data-ttu-id="c3bc1-180">Esta idea se refleja en el aislamiento de los datos de microservicios a una base de datos independiente y autónoma del resto de los servicios.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-180">This idea is reflected by the isolation of microservice data to a database separate and autonomous from the rest of the services.</span></span> <span data-ttu-id="c3bc1-181">Le resultará muy útil llevar esta idea a través del código fuente de.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-181">It makes a great deal of sense to carry this idea all the way through to the source code.</span></span>

<span data-ttu-id="c3bc1-182">Sin embargo, este enfoque no está sin sus problemas.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-182">However, this approach isn't without its issues.</span></span> <span data-ttu-id="c3bc1-183">Uno de los problemas de desarrollo más gnarly de nuestro tiempo es la administración de las dependencias.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-183">One of the more gnarly development problems of our time is managing dependencies.</span></span> <span data-ttu-id="c3bc1-184">Tenga en cuenta el número de archivos que componen el promedio `node_modules` directorio.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-184">Consider the number of files that make up the average `node_modules` directory.</span></span> <span data-ttu-id="c3bc1-185">Una instalación nueva de algo como `create-react-app` es probable que incorpore miles de paquetes.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-185">A fresh install of something like `create-react-app` is likely to bring with it thousands of packages.</span></span> <span data-ttu-id="c3bc1-186">La cuestión de cómo administrar estas dependencias es difícil.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-186">The question of how to manage these dependencies is a difficult one.</span></span>

<span data-ttu-id="c3bc1-187">Si se actualiza una dependencia, los paquetes de nivel inferior también deben actualizar esta dependencia.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-187">If a dependency is updated, then downstream packages must also update this dependency.</span></span> <span data-ttu-id="c3bc1-188">Desafortunadamente, eso lleva el trabajo de desarrollo, de forma invariable, el directorio de `node_modules` finaliza con varias versiones de un único paquete, cada una de las cuales es una dependencia de algún otro paquete con versiones de una cadencia ligeramente diferente.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-188">Unfortunately, that takes development work so, invariably, the `node_modules` directory ends up with multiple versions of a single package, each one a dependency of some other package that is versioned at a slightly different cadence.</span></span> <span data-ttu-id="c3bc1-189">Al implementar una aplicación, ¿qué versión de una dependencia debe usarse?</span><span class="sxs-lookup"><span data-stu-id="c3bc1-189">When deploying an application, which version of a dependency should be used?</span></span> <span data-ttu-id="c3bc1-190">¿La versión que está actualmente en producción?</span><span class="sxs-lookup"><span data-stu-id="c3bc1-190">The version that is currently in production?</span></span> <span data-ttu-id="c3bc1-191">La versión que se encuentra actualmente en versión beta, pero que es probable que esté en producción en el momento en que el consumidor la convierte en producción.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-191">The version that is currently in Beta but is likely to be in production by the time the consumer makes it to production?</span></span> <span data-ttu-id="c3bc1-192">Problemas difíciles que no se resuelven mediante el uso de microservicios.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-192">Difficult problems that aren't resolved by just using microservices.</span></span>

<span data-ttu-id="c3bc1-193">Hay bibliotecas que dependen de una amplia variedad de proyectos.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-193">There are libraries that are depended upon by a wide variety of projects.</span></span> <span data-ttu-id="c3bc1-194">Al dividir los microservicios con uno en cada repositorio, las dependencias internas se pueden resolver mejor mediante el repositorio interno, Azure Artifacts.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-194">By dividing the microservices up with one in each repository the internal dependencies can best be resolved by using the internal repository, Azure Artifacts.</span></span> <span data-ttu-id="c3bc1-195">Las compilaciones de las bibliotecas incorporarán sus versiones más recientes en Azure Artifacts para el consumo interno.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-195">Builds for libraries will push their latest versions into Azure Artifacts for internal consumption.</span></span> <span data-ttu-id="c3bc1-196">El proyecto de nivel inferior debe actualizarse manualmente para que dependa de los paquetes recién actualizados.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-196">The downstream project must still be manually updated to take a dependency on the newly updated packages.</span></span>

<span data-ttu-id="c3bc1-197">Otro inconveniente se presenta al mover el código entre los servicios.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-197">Another disadvantage presents itself when moving code between services.</span></span> <span data-ttu-id="c3bc1-198">Aunque sería bueno creer que la primera división de una aplicación en microservicios es 100% correcta, la realidad es que rara vez estamos prescient como para no cometer errores de división de servicios.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-198">Although it would be nice to believe that the first division of an application into microservices is 100% correct, the reality is that rarely we're so prescient as to make no service division mistakes.</span></span> <span data-ttu-id="c3bc1-199">Por lo tanto, la funcionalidad y el código que lo impulsa deberán moverse de servicio a servicio: repositorio al repositorio.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-199">Thus, functionality and the code that drives it will need to move from service to service: repository to repository.</span></span> <span data-ttu-id="c3bc1-200">Al hacer un salto de un repositorio a otro, el código pierde el historial.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-200">When leaping from one repository to another, the code loses its history.</span></span> <span data-ttu-id="c3bc1-201">Hay muchos casos, especialmente en el caso de una auditoría, donde el historial completo de un fragmento de código es muy valioso.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-201">There are many cases, especially in the event of an audit, where having full history on a piece of code is invaluable.</span></span>

<span data-ttu-id="c3bc1-202">La desventaja final y quizás más importante es la coordinación de los cambios.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-202">The final and perhaps most important disadvantage is coordinating changes.</span></span> <span data-ttu-id="c3bc1-203">En una aplicación de microservicios verdadera, no debería haber dependencias de implementación entre los servicios.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-203">In a true microservices application, there should be no deployment dependencies between services.</span></span> <span data-ttu-id="c3bc1-204">Debe ser posible implementar los servicios A, B y C en cualquier orden, ya que tienen acoplamiento flexible.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-204">It should be possible to deploy services A, B, and C in any order as they have loose coupling.</span></span> <span data-ttu-id="c3bc1-205">Sin embargo, en realidad, hay ocasiones en las que es deseable hacer un cambio que cruce varios repositorios al mismo tiempo.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-205">In reality, however, there are times when it's desirable to make a change that crosses multiple repositories at the same time.</span></span> <span data-ttu-id="c3bc1-206">Algunos ejemplos incluyen la actualización de una biblioteca para cerrar un agujero de seguridad o el cambio de un protocolo de comunicación utilizado por todos los servicios.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-206">Some examples include updating a library to close a security hole or changing a communication protocol used by all services.</span></span>

<span data-ttu-id="c3bc1-207">Para realizar un cambio entre repositorios, es necesario realizar una confirmación en cada repositorio en sucesión.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-207">To do a cross-repository change requires a commit to each repository be made in succession.</span></span> <span data-ttu-id="c3bc1-208">Cada cambio de cada repositorio deberá solicitarse y revisarse por separado.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-208">Each change in each repository will need to be pull-requested and reviewed separately.</span></span> <span data-ttu-id="c3bc1-209">Esto puede ser difícil de coordinar y generalmente molesto.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-209">This can be difficult to coordinate and generally annoying to do.</span></span>

<span data-ttu-id="c3bc1-210">Una alternativa al uso de muchos repositorios es poner todo el código fuente en un gigante, todo ello en un único repositorio.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-210">An alternative to using many repositories is to put all the source code together in a giant, all knowing, single repository.</span></span>

### <a name="single-repository"></a><span data-ttu-id="c3bc1-211">Repositorio único</span><span class="sxs-lookup"><span data-stu-id="c3bc1-211">Single repository</span></span>

<span data-ttu-id="c3bc1-212">En este enfoque, que a veces se conoce como [monorepositorio](https://danluu.com/monorepo/), todo el código fuente de cada servicio se coloca en el mismo repositorio.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-212">In this approach, sometimes referred to as a [monorepository](https://danluu.com/monorepo/), all the source code for every service is put into the same repository.</span></span> <span data-ttu-id="c3bc1-213">En primer lugar, esto parece una idea muy poco probable de hacer que el código fuente no sea manejable.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-213">At first, this seems like a terrible idea likely to make dealing with source code unwieldy.</span></span> <span data-ttu-id="c3bc1-214">Sin embargo, hay algunas ventajas marcadas para trabajar de esta manera.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-214">There are, however, some marked advantages to working this way.</span></span>

<span data-ttu-id="c3bc1-215">La primera ventaja es que es más fácil administrar las dependencias entre proyectos.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-215">The first advantage is that it's easier to manage dependencies between projects.</span></span> <span data-ttu-id="c3bc1-216">En lugar de depender de una fuente de artefactos externa, los proyectos pueden importarse directamente.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-216">Instead of relying on some external artifact feed, projects can directly import one another.</span></span> <span data-ttu-id="c3bc1-217">Esto significa que las actualizaciones son instantáneas y que es probable que se encuentren versiones conflictivas en tiempo de compilación en la estación de trabajo del desarrollador.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-217">This means that updates are instant, and conflicting versions are likely to be found at compile time on the developer's workstation.</span></span> <span data-ttu-id="c3bc1-218">En efecto, se desplazan algunas de las pruebas de integración a la izquierda.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-218">In effect, shifting some of the integration testing left.</span></span>

<span data-ttu-id="c3bc1-219">Al mover código entre proyectos, ahora es más fácil conservar el historial, ya que los archivos se detectarán como movidos en lugar de reescribirse.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-219">When moving code between projects, it's now easier to preserve the history as the files will be detected as having been moved rather than being rewritten.</span></span>

<span data-ttu-id="c3bc1-220">Otra ventaja es que los cambios que varían en los límites de servicio pueden realizarse en una sola confirmación.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-220">Another advantage is that wide ranging changes that cross service boundaries can be made in a single commit.</span></span> <span data-ttu-id="c3bc1-221">Esto reduce la sobrecarga que supone tener que revisar los cambios de forma individual.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-221">This reduces the overhead of having potentially dozens of changes to review individually.</span></span>

<span data-ttu-id="c3bc1-222">Hay muchas herramientas que pueden realizar análisis estáticos de código para detectar prácticas de programación no seguras o el uso problemático de las API.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-222">There are many tools that can perform static analysis of code to detect insecure programming practices or problematic use of APIs.</span></span> <span data-ttu-id="c3bc1-223">En un mundo con varios repositorios, cada repositorio deberá recorrer en iteración para encontrar los problemas en ellos.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-223">In a multi-repository world, each repository will need to be iterated over to find the problems in them.</span></span> <span data-ttu-id="c3bc1-224">El repositorio único permite ejecutar el análisis en un solo lugar.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-224">The single repository allows running the analysis all in one place.</span></span>

<span data-ttu-id="c3bc1-225">También hay muchas desventajas en el enfoque de repositorio único.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-225">There are also many disadvantages to the single repository approach.</span></span> <span data-ttu-id="c3bc1-226">Uno de los más preocupados es que tener un único repositorio genera problemas de seguridad.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-226">One of the most worrying ones is that having a single repository raises security concerns.</span></span> <span data-ttu-id="c3bc1-227">Si el contenido de un repositorio se pierde en un repositorio por cada modelo de servicio, la cantidad de código perdido es mínima.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-227">If the contents of a repository are leaked in a repository per service model, the amount of code lost is minimal.</span></span> <span data-ttu-id="c3bc1-228">Con un único repositorio, se podría perder todo lo que posea la compañía.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-228">With a single repository, everything the company owns could be lost.</span></span> <span data-ttu-id="c3bc1-229">En el pasado, hemos habido muchos ejemplos en los que se entrenó todo el trabajo de desarrollo de juegos.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-229">There have been many examples in the past of this happening and derailing entire game development efforts.</span></span> <span data-ttu-id="c3bc1-230">El hecho de tener varios repositorios expone menos área expuesta, que es un rasgo muy deseable en la mayoría de los procedimientos de seguridad.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-230">Having multiple repositories exposes less surface area, which is a very desirable trait in most security practices.</span></span>

<span data-ttu-id="c3bc1-231">Es probable que el tamaño del único repositorio deje de ser fácil de administrar.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-231">The size of the single repository is likely to become unmanageable rapidly.</span></span> <span data-ttu-id="c3bc1-232">Esto presenta algunas implicaciones interesantes en el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-232">This presents some interesting performance implications.</span></span> <span data-ttu-id="c3bc1-233">Puede ser necesario usar herramientas especializadas como el [sistema de archivos virtual para git](https://vfsforgit.org/), que se diseñó originalmente para mejorar la experiencia de los desarrolladores en el equipo de Windows.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-233">It may become necessary to use specialized tools such as [Virtual File System for Git](https://vfsforgit.org/), which was originally designed to improve the experience for developers on the Windows team.</span></span>

<span data-ttu-id="c3bc1-234">Con frecuencia, el argumento para usar un único repositorio se reduce a un argumento que Facebook o Google usan este método para la organización del código fuente.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-234">Frequently the argument for using a single repository boils down to an argument that Facebook or Google use this method for source code arrangement.</span></span> <span data-ttu-id="c3bc1-235">Si el enfoque es lo suficientemente bueno para estas empresas, seguramente es el enfoque correcto para todas las empresas.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-235">If the approach is good enough for these companies, then, surely, it's the correct approach for all companies.</span></span> <span data-ttu-id="c3bc1-236">La verdad de la cuestión es que muy pocas empresas operan en algo como la escala de Facebook o Google.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-236">The truth of the matter is that very few companies operate on anything like the scale of Facebook or Google.</span></span> <span data-ttu-id="c3bc1-237">Los problemas que se producen en esas escalas son diferentes de los que se verán en la mayoría de los desarrolladores.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-237">The problems that occur at those scales are different from those most developers will face.</span></span> <span data-ttu-id="c3bc1-238">Lo que es adecuado para el OCA no puede ser bueno para el Gander.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-238">What is good for the goose may not be good for the gander.</span></span>

<span data-ttu-id="c3bc1-239">Al final, cualquiera de las soluciones se puede usar para hospedar el código fuente de los microservicios.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-239">In the end, either solution can be used to host the source code for microservices.</span></span> <span data-ttu-id="c3bc1-240">Sin embargo, en la mayoría de los casos, la sobrecarga de administración y Ingeniería de trabajar en un único repositorio no merece las ventajas de Meager.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-240">However, in most cases, the management and engineering overhead of operating in a single repository isn't worth the meager advantages.</span></span> <span data-ttu-id="c3bc1-241">Al dividir el código en varios repositorios, se fomenta una mejor separación de problemas y se fomenta la autonomía entre los equipos de desarrollo.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-241">Splitting code up over multiple repositories encourages better separation of concerns and encourages autonomy among development teams.</span></span>  

### <a name="standard-directory-structure"></a><span data-ttu-id="c3bc1-242">Estructura de directorios estándar</span><span class="sxs-lookup"><span data-stu-id="c3bc1-242">Standard directory structure</span></span>

<span data-ttu-id="c3bc1-243">Sin tener en cuenta el debate entre varios repositorios, cada servicio tendrá su propio directorio.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-243">Regardless of the single versus multiple repositories debate each service will have its own directory.</span></span> <span data-ttu-id="c3bc1-244">Una de las mejores optimizaciones que permiten a los desarrolladores cruzar entre proyectos rápidamente es mantener una estructura de directorios estándar.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-244">One of the best optimizations to allow developers to cross between projects quickly is to maintain a standard directory structure.</span></span>

![Figura 11-3 una estructura de directorios estándar para el correo electrónico y los servicios de inicio de sesión](./media/dir-struct.png)

<span data-ttu-id="c3bc1-246">Cada vez que se crea un nuevo proyecto, se debe usar una plantilla que coloque la estructura correcta.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-246">Whenever a new project is created, a template that puts in place the correct structure should be used.</span></span> <span data-ttu-id="c3bc1-247">Esta plantilla también puede incluir elementos útiles como un archivo Léame de esqueleto y un `azure-pipelines.yml`.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-247">This template can also include such useful items as a skeleton README file and an `azure-pipelines.yml`.</span></span> <span data-ttu-id="c3bc1-248">En cualquier arquitectura de microservicios, un alto grado de varianza entre proyectos hace que las operaciones masivas en los servicios sean más difíciles.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-248">In any microservice architecture, a high degree of variance between projects makes bulk operations against the services more difficult.</span></span>

<span data-ttu-id="c3bc1-249">Hay muchas herramientas que pueden proporcionar plantillas para un directorio completo, que contiene varios directorios de código fuente.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-249">There are many tools that can provide templating for an entire directory, containing several source code directories.</span></span> <span data-ttu-id="c3bc1-250">[Yeoman](https://yeoman.io/) es popular en el mundo de JavaScript y GitHub ha publicado recientemente [plantillas de repositorio](https://github.blog/2019-06-06-generate-new-repositories-with-repository-templates/), que proporcionan gran parte de la misma funcionalidad.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-250">[Yeoman](https://yeoman.io/) is popular in the JavaScript world and GitHub have recently released [Repository Templates](https://github.blog/2019-06-06-generate-new-repositories-with-repository-templates/), which provide much of the same functionality.</span></span>

## <a name="task-management"></a><span data-ttu-id="c3bc1-251">Administración de tareas</span><span class="sxs-lookup"><span data-stu-id="c3bc1-251">Task management</span></span>

<span data-ttu-id="c3bc1-252">La administración de tareas en cualquier proyecto puede ser difícil.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-252">Managing tasks in any project can be difficult.</span></span> <span data-ttu-id="c3bc1-253">Por adelantado, hay innumerables preguntas que se deben responder sobre la ordenación de los flujos de trabajo para garantizar una productividad óptima del desarrollador.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-253">Up front there are countless questions to be answered about the sort of workflows to set up to ensure optimal developer productivity.</span></span>

<span data-ttu-id="c3bc1-254">Las aplicaciones nativas de la nube tienden a ser más pequeñas que los productos de software tradicionales o, al menos, están divididas en servicios más pequeños.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-254">Cloud-native applications tend to be smaller than traditional software products or at least they're divided into smaller services.</span></span> <span data-ttu-id="c3bc1-255">El seguimiento de problemas o tareas relacionados con estos servicios permanece tan importante como con cualquier otro proyecto de software.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-255">Tracking of issues or tasks related to these services remains as important as with any other software project.</span></span> <span data-ttu-id="c3bc1-256">Nadie desea perder el seguimiento de algún elemento de trabajo o explicar a un cliente que su problema no se ha registrado correctamente.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-256">Nobody wants to lose track of some work item or explain to a customer that their issue wasn't properly logged.</span></span> <span data-ttu-id="c3bc1-257">Los paneles se configuran en el nivel de proyecto, pero dentro de cada proyecto se pueden definir áreas.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-257">Boards are configured at the project level but within each project, areas can be defined.</span></span> <span data-ttu-id="c3bc1-258">Estos permiten desglosar problemas en varios componentes.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-258">These allow breaking down issues across several components.</span></span> <span data-ttu-id="c3bc1-259">La ventaja de mantener todo el trabajo para toda la aplicación en un solo lugar es que es fácil trasladar los elementos de trabajo de un equipo a otro a medida que se entienden mejor.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-259">The advantage to keeping all the work for the entire application in one place is that it's easy to move work items from one team to another as they're understood better.</span></span>

<span data-ttu-id="c3bc1-260">Azure DevOps incluye una serie de plantillas populares preconfiguradas.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-260">Azure DevOps comes with a number of popular templates pre-configured.</span></span> <span data-ttu-id="c3bc1-261">En la configuración más básica, todo lo que se necesita saber es lo que hay en el trabajo pendiente, en qué personas trabajan y qué se ha hecho.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-261">In the most basic configuration, all that is needed to know is what's in the backlog, what people are working on, and what's done.</span></span> <span data-ttu-id="c3bc1-262">Es importante tener esta visibilidad en el proceso de creación de software, de modo que se pueda priorizar el trabajo y completar las tareas que se notifiquen al cliente.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-262">It's important to have this visibility into the process of building software, so that work can be prioritized and completed tasks reported to the customer.</span></span> <span data-ttu-id="c3bc1-263">Por supuesto, muy pocos proyectos de software se adhieren a un proceso tan sencillo como `to do`, `doing`y `done`.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-263">Of course, very few software projects stick to a process as simple as `to do`, `doing`, and `done`.</span></span> <span data-ttu-id="c3bc1-264">Los usuarios no tardan mucho en empezar a agregar pasos como `QA` o `Detailed Specification` al proceso.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-264">It doesn't take long for people to start adding steps like `QA` or `Detailed Specification` to the process.</span></span>

<span data-ttu-id="c3bc1-265">Una de las partes más importantes de las metodologías ágiles es introspección a intervalos regulares.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-265">One of the more important parts of Agile methodologies is self-introspection at regular intervals.</span></span> <span data-ttu-id="c3bc1-266">Estas revisiones están diseñadas para proporcionar información sobre los problemas de cara al equipo y cómo se pueden mejorar.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-266">These reviews are meant to provide insight into what problems the team is facing and how they can be improved.</span></span> <span data-ttu-id="c3bc1-267">Con frecuencia, esto significa cambiar el flujo de problemas y características a través del proceso de desarrollo.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-267">Frequently, this means changing the flow of issues and features through the development process.</span></span> <span data-ttu-id="c3bc1-268">Por lo tanto, es absolutamente correcto expandir los diseños de los paneles con fases adicionales.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-268">So, it's perfectly healthy to expand the layouts of the boards with additional stages.</span></span>

<span data-ttu-id="c3bc1-269">Las fases de los paneles no son la única herramienta de la organización.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-269">The stages in the boards aren't the only organizational tool.</span></span> <span data-ttu-id="c3bc1-270">En función de la configuración del panel, hay una jerarquía de elementos de trabajo.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-270">Depending on the configuration of the board, there's a hierarchy of work items.</span></span> <span data-ttu-id="c3bc1-271">El elemento más granular que puede aparecer en un panel es una tarea.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-271">The most granular item that can appear on a board is a task.</span></span> <span data-ttu-id="c3bc1-272">De forma automática, una tarea contiene campos para un título, una descripción, una prioridad, una estimación de la cantidad de trabajo restante y la capacidad de vincular a otros elementos de trabajo o elementos de desarrollo (ramas, confirmaciones, solicitudes de incorporación de cambios, compilaciones, etc.).</span><span class="sxs-lookup"><span data-stu-id="c3bc1-272">Out of the box a task contains fields for a title, description, a priority, an estimate of the amount of work remaining and the ability to link to other work items or development items (branches, commits, pull requests, builds, and so forth).</span></span> <span data-ttu-id="c3bc1-273">Los elementos de trabajo se pueden clasificar en diferentes áreas de la aplicación y distintas iteraciones (sprints) para facilitar su búsqueda.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-273">Work items can be classified into different areas of the application and different iterations (sprints) to make finding them easier.</span></span>

![Figura 11-4 una tarea de ejemplo en Azure DevOps](./media/task-details.png)

<span data-ttu-id="c3bc1-275">El campo de Descripción admite los estilos normales que cabría esperar (negrita, carácter de subrayado en cursiva y tachado) y la capacidad de insertar imágenes.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-275">The description field supports the normal styles you'd expect (bold, italic underscore and strike through) and the ability to insert images.</span></span> <span data-ttu-id="c3bc1-276">Esto lo convierte en una herramienta muy eficaz para su uso al especificar el trabajo o los errores.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-276">This makes it a very powerful tool for use when specifying work or bugs.</span></span>

<span data-ttu-id="c3bc1-277">Las tareas se pueden acumular en características, que definen una unidad de trabajo mayor.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-277">Tasks can be rolled up into features, which define a larger unit of work.</span></span> <span data-ttu-id="c3bc1-278">A su vez, las características se pueden [acumular en epopeyas](https://docs.microsoft.com/azure/devops/boards/backlogs/define-features-epics?view=azure-devops).</span><span class="sxs-lookup"><span data-stu-id="c3bc1-278">Features, in turn, can be [rolled up into epics](https://docs.microsoft.com/azure/devops/boards/backlogs/define-features-epics?view=azure-devops).</span></span> <span data-ttu-id="c3bc1-279">La clasificación de tareas en esta jerarquía hace que sea mucho más fácil comprender cómo se va a implementar una característica grande.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-279">Classifying tasks in this hierarchy makes it much easier to understand how close a large feature is to rolling out.</span></span>

![Figura 11-5 tipos de elemento de trabajo configurados de forma predeterminada en la plantilla de proceso básica](./media/board-issue-types.png)

<span data-ttu-id="c3bc1-281">Hay diferentes tipos de vistas en los problemas de Azure Boards.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-281">There are different kinds of views into the issues in Azure Boards.</span></span> <span data-ttu-id="c3bc1-282">Los elementos que todavía no están programados aparecen en el trabajo pendiente.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-282">Items that aren't yet scheduled appear in the backlog.</span></span> <span data-ttu-id="c3bc1-283">Desde allí, se pueden asignar a un Sprint.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-283">From there, they can be assigned to a sprint.</span></span> <span data-ttu-id="c3bc1-284">Un Sprint es un cuadro de tiempo durante el cual se espera que se complete una cantidad de trabajo.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-284">A sprint is a time box during which it's expected some quantity of work will be completed.</span></span> <span data-ttu-id="c3bc1-285">Este trabajo puede incluir tareas, pero también la resolución de vales.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-285">This work can include tasks but also the resolution of tickets.</span></span> <span data-ttu-id="c3bc1-286">Una vez allí, todo el Sprint puede administrarse desde la sección del panel del Sprint.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-286">Once there, the entire sprint can be managed from the Sprint board section.</span></span> <span data-ttu-id="c3bc1-287">Esta vista muestra cómo progresa el trabajo e incluye un gráfico de reproducción hacia abajo para dar una estimación de actualización permanente de si el Sprint se realizará correctamente.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-287">This view shows how work is progressing and includes a burn down chart to give an ever-updating estimate of if the sprint will be successful.</span></span>

![Figura 11-6 un panel con un Sprint definido](./media/sprint-board.png)

<span data-ttu-id="c3bc1-289">En este momento, debe ser evidente que hay una gran potencia en los paneles de Azure DevOps.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-289">By now, it should be apparent that there's a great deal of power in the Boards in Azure DevOps.</span></span> <span data-ttu-id="c3bc1-290">Para los desarrolladores, hay vistas sencillas de lo que se está trabajando.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-290">For developers, there are easy views of what is being worked on.</span></span> <span data-ttu-id="c3bc1-291">Para ver las vistas de los jefes de proyecto, así como información general sobre el trabajo existente.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-291">For project managers views into upcoming work as well as an overview of existing work.</span></span> <span data-ttu-id="c3bc1-292">Para los administradores, hay muchos informes sobre el reabastecimiento y la capacidad.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-292">For managers, there are plenty of reports about resourcing and capacity.</span></span> <span data-ttu-id="c3bc1-293">Desafortunadamente, no hay nada mágico sobre las aplicaciones nativas de la nube que eliminan la necesidad de realizar un seguimiento del trabajo.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-293">Unfortunately, there's nothing magical about cloud-native applications that eliminate the need to track work.</span></span> <span data-ttu-id="c3bc1-294">Pero si debe realizar un seguimiento del trabajo, hay algunos lugares en los que la experiencia es mejor que en Azure DevOps.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-294">But if you must track work, there are a few places where the experience is better than in Azure DevOps.</span></span>

## <a name="cicd-pipelines"></a><span data-ttu-id="c3bc1-295">Canalizaciones de CI/CD</span><span class="sxs-lookup"><span data-stu-id="c3bc1-295">CI/CD pipelines</span></span>

<span data-ttu-id="c3bc1-296">Casi ningún cambio en el ciclo de vida de desarrollo de software ha sido tan revolucionario como la llegada de la integración continua (CI) y la entrega continua (CD).</span><span class="sxs-lookup"><span data-stu-id="c3bc1-296">Almost no change in the software development life cycle has been so revolutionary as the advent of continuous integration (CI) and continuous delivery (CD).</span></span> <span data-ttu-id="c3bc1-297">Compilar y ejecutar pruebas automatizadas en el código fuente de un proyecto en cuanto se protege un cambio en detecta errores al principio.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-297">Building and running automated tests against the source code of a project as soon as a change is checked in catches mistakes early.</span></span> <span data-ttu-id="c3bc1-298">Antes de la llegada de las compilaciones de integración continua, no sería raro extraer el código del repositorio y encontrar que no superó las pruebas o incluso no se pudo compilar.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-298">Prior to the advent of continuous integration builds, it wouldn't be uncommon to pull code from the repository and find that it didn't pass tests or couldn't even be built.</span></span> <span data-ttu-id="c3bc1-299">Esto provocó una gran cantidad de seguimiento del origen de la interrupción.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-299">This resulted in a lot of tracking down the source of the breakage.</span></span>

<span data-ttu-id="c3bc1-300">Tradicionalmente, la distribución de software en el entorno de producción requería una amplia documentación y una lista de pasos.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-300">Traditionally shipping software to the production environment required extensive documentation and a list of steps.</span></span> <span data-ttu-id="c3bc1-301">Cada uno de estos pasos debe realizarse de forma manual en un proceso muy propenso a errores.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-301">Each one of these steps needed to be manually completed in a very error prone process.</span></span>

![Figura 11-7 una lista de comprobación](./media/checklist.png)

<span data-ttu-id="c3bc1-303">La hermana de integración continua es la entrega continua en la que los paquetes recién compilados se implementan en un entorno.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-303">The sister of continuous integration is continuous delivery in which the freshly built packages are deployed to an environment.</span></span> <span data-ttu-id="c3bc1-304">El proceso manual no se puede escalar para que coincida con la velocidad de desarrollo, por lo que la automatización es más importante.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-304">The manual process can't scale to match the speed of development so automation becomes more important.</span></span> <span data-ttu-id="c3bc1-305">Las listas de comprobación se sustituyen por scripts que pueden ejecutar las mismas tareas de forma más rápida y precisa que cualquier persona.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-305">Checklists are replaced by scripts that can execute the same tasks faster and more accurately than any human.</span></span>

<span data-ttu-id="c3bc1-306">El entorno en el que entrega continua puede ser un entorno de prueba o, como lo hacen muchas grandes empresas de tecnología, podría ser el entorno de producción.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-306">The environment to which continuous delivery delivers might be a test environment or, as is being done by many major technology companies, it could be the production environment.</span></span> <span data-ttu-id="c3bc1-307">Este último requiere una inversión en pruebas de alta calidad que pueden dar la seguridad de que un cambio no va a interrumpir la producción de los usuarios.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-307">The latter requires an investment in high-quality tests that can give confidence that a change isn't going to break production for users.</span></span> <span data-ttu-id="c3bc1-308">Del mismo modo que la integración continua detectó problemas en el código, la entrega continua temprana detecta problemas en el proceso de implementación.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-308">In the same way that continuous integration caught issues in the code early continuous delivery catches issues in the deployment process early.</span></span>

<span data-ttu-id="c3bc1-309">La importancia de automatizar el proceso de compilación y entrega se acentúa en las aplicaciones nativas de la nube.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-309">The importance of automating the build and delivery process is accentuated by cloud-native applications.</span></span> <span data-ttu-id="c3bc1-310">Las implementaciones se producen con más frecuencia y en más entornos, por lo que la implementación manual de los bordes es imposible.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-310">Deployments happen more frequently and to more environments so manually deploying borders on impossible.</span></span>

### <a name="azure-builds"></a><span data-ttu-id="c3bc1-311">Compilaciones de Azure</span><span class="sxs-lookup"><span data-stu-id="c3bc1-311">Azure Builds</span></span>

<span data-ttu-id="c3bc1-312">Azure DevOps proporciona un conjunto de herramientas para facilitar la integración y la implementación continuas.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-312">Azure DevOps provides a set of tools to make continuous integration and deployment easier than ever.</span></span> <span data-ttu-id="c3bc1-313">Estas herramientas se encuentran en Azure Pipelines.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-313">These tools are located under Azure Pipelines.</span></span> <span data-ttu-id="c3bc1-314">La primera de ellas es Azure compilaciones, que es una herramienta para ejecutar definiciones de compilación basadas en YAML a escala.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-314">The first of them is Azure Builds, which is a tool for running YAML-based build definitions at scale.</span></span> <span data-ttu-id="c3bc1-315">Los usuarios pueden traer sus propias máquinas de compilación (para si la compilación requiere un entorno de configuración meticulosa) o usar una máquina de un grupo actualizado constantemente de máquinas virtuales hospedadas en Azure.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-315">Users can either bring their own build machines (great for if the build requires a meticulously set up environment) or use a machine from a constantly refreshed pool of Azure hosted virtual machines.</span></span> <span data-ttu-id="c3bc1-316">Estos agentes de compilación hospedados se instalan previamente con una amplia gama de herramientas de desarrollo no solo para el desarrollo de .NET, sino también para todo, desde Java hasta Python hasta el desarrollo de iPhone.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-316">These hosted build agents come pre-installed with a wide range of development tools for not just .NET development but for everything from Java to Python to iPhone development.</span></span>

<span data-ttu-id="c3bc1-317">DevOps incluye una amplia gama de definiciones de compilación preparadas que se pueden personalizar para cualquier compilación.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-317">DevOps includes a wide range of out of the box build definitions that can be customized for any build.</span></span> <span data-ttu-id="c3bc1-318">Las definiciones de compilación se definen en un archivo denominado `azure-pipelines.yml` y se protegen en el repositorio para que puedan tener versiones junto con el código fuente.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-318">The build definitions are defined in a file called `azure-pipelines.yml` and checked into the repository so they can be versioned along with the source code.</span></span> <span data-ttu-id="c3bc1-319">Esto hace que sea mucho más fácil realizar cambios en la canalización de compilación en una bifurcación, ya que los cambios se pueden proteger solo en esa rama.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-319">This makes it much easier to make changes to the build pipeline in a branch as the changes can be checked into just that branch.</span></span> <span data-ttu-id="c3bc1-320">En la figura 11-8 se muestra un ejemplo `azure-pipelines.yml` para compilar una aplicación Web de ASP.NET en el marco de trabajo completo.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-320">An example `azure-pipelines.yml` for building an ASP.NET web application on full framework is show in Figure 11-8.</span></span>

```yml
name: $(rev:r)

variables:
  version: 9.2.0.$(Build.BuildNumber)
  solution: Portals.sln
  artifactName: drop
  buildPlatform: any cpu
  buildConfiguration: release
  
pool:
  name: Hosted VS2017
  demands:
  - msbuild
  - visualstudio
  - vstest

steps:
- task: NuGetToolInstaller@0
  displayName: 'Use NuGet 4.4.1'
  inputs:
    versionSpec: 4.4.1

- task: NuGetCommand@2
  displayName: 'NuGet restore'
  inputs:
    restoreSolution: '$(solution)'

- task: VSBuild@1
  displayName: 'Build solution'
  inputs:
    solution: '$(solution)'
    msbuildArgs: '-p:DeployOnBuild=true -p:WebPublishMethod=Package -p:PackageAsSingleFile=true -p:SkipInvalidConfigurations=true -p:PackageLocation="$(build.artifactstagingdirectory)\\"'
    platform: '$(buildPlatform)'
    configuration: '$(buildConfiguration)'

- task: VSTest@2
  displayName: 'Test Assemblies'
  inputs:
    testAssemblyVer2: |
     **\$(buildConfiguration)\**\*test*.dll
     !**\obj\**
     !**\*testadapter.dll
    platform: '$(buildPlatform)'
    configuration: '$(buildConfiguration)'

- task: CopyFiles@2
  displayName: 'Copy UI Test Files to: $(build.artifactstagingdirectory)'
  inputs:
    SourceFolder: UITests
    TargetFolder: '$(build.artifactstagingdirectory)/uitests'

- task: PublishBuildArtifacts@1
  displayName: 'Publish Artifact'
  inputs:
    PathtoPublish: '$(build.artifactstagingdirectory)'
    ArtifactName: '$(artifactName)'
  condition: succeededOrFailed()
```

<span data-ttu-id="c3bc1-321">**Figura 11-8** : ejemplo de Azure-pipelines. yml</span><span class="sxs-lookup"><span data-stu-id="c3bc1-321">**Figure 11-8** - A sample azure-pipelines.yml</span></span>

<span data-ttu-id="c3bc1-322">Esta definición de compilación usa una serie de tareas integradas que facilitan la creación de compilaciones tan sencillas como la creación de un conjunto de LEGO (más sencillo que el Giant Falcon).</span><span class="sxs-lookup"><span data-stu-id="c3bc1-322">This build definition uses a number of built-in tasks that make creating builds as simple as building a Lego set (simpler than the giant Millennium Falcon).</span></span> <span data-ttu-id="c3bc1-323">Por ejemplo, la tarea de NuGet restaura los paquetes NuGet, mientras que la tarea VSBuild llama a las herramientas de compilación de Visual Studio para realizar la compilación real.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-323">For instance, the NuGet task restores NuGet packages, while the VSBuild task calls the Visual Studio build tools to perform the actual compilation.</span></span> <span data-ttu-id="c3bc1-324">Hay cientos de tareas diferentes disponibles en Azure DevOps, con miles de ellas que mantiene la comunidad.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-324">There are hundreds of different tasks available in Azure DevOps, with thousands more that are maintained by the community.</span></span> <span data-ttu-id="c3bc1-325">Es probable que, independientemente de las tareas de compilación que quiera ejecutar, ya haya creado una.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-325">It's likely that no matter what build tasks you're looking to run, somebody has built one already.</span></span>

<span data-ttu-id="c3bc1-326">Las compilaciones se pueden desencadenar manualmente, mediante una operación de protección, una programación o la finalización de otra compilación.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-326">Builds can be triggered manually, by a check-in, on a schedule, or by the completion of another build.</span></span> <span data-ttu-id="c3bc1-327">En la mayoría de los casos, es conveniente basarse en cada inserción en el repositorio.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-327">In most cases, building on every check-in is desirable.</span></span> <span data-ttu-id="c3bc1-328">Las compilaciones se pueden filtrar para que las distintas compilaciones se ejecuten en diferentes partes del repositorio o en distintas ramas.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-328">Builds can be filtered so that different builds run against different parts of the repository or against different branches.</span></span> <span data-ttu-id="c3bc1-329">Esto permite escenarios como la ejecución de compilaciones rápidas con pruebas reducidas en las solicitudes de extracción y la ejecución de un conjunto de regresión completo en el tronco cada noche.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-329">This allows for scenarios like running fast builds with reduced testing on pull requests and running a full regression suite against the trunk on a nightly basis.</span></span>

<span data-ttu-id="c3bc1-330">El resultado final de una compilación es una colección de archivos conocidos como artefactos de compilación.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-330">The end result of a build is a collection of files known as build artifacts.</span></span> <span data-ttu-id="c3bc1-331">Estos artefactos se pueden pasar al siguiente paso del proceso de compilación o agregarse a una fuente de artefactos de Azure, para que puedan consumirlos otras compilaciones.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-331">These artifacts can be passed along to the next step in the build process or added to an Azure Artifact feed, so they can be consumed by other builds.</span></span>

### <a name="azure-devops-releases"></a><span data-ttu-id="c3bc1-332">Versiones de DevOps de Azure</span><span class="sxs-lookup"><span data-stu-id="c3bc1-332">Azure DevOps releases</span></span>

<span data-ttu-id="c3bc1-333">Las compilaciones se encargan de compilar el software en un paquete que se puede enviar, pero los artefactos todavía tienen que insertarse en un entorno de prueba para completar la entrega continua.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-333">Builds take care of compiling the software into a shippable package, but the artifacts still need to be pushed out to a testing environment to complete continuous delivery.</span></span> <span data-ttu-id="c3bc1-334">Para ello, Azure DevOps usa una herramienta independiente denominada versiones.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-334">For this, Azure DevOps uses a separate tool called Releases.</span></span> <span data-ttu-id="c3bc1-335">La herramienta de versiones hace uso de la misma biblioteca de tareas que estaba disponible para la compilación, pero presenta un concepto de "fases".</span><span class="sxs-lookup"><span data-stu-id="c3bc1-335">The Releases tool makes use of the same tasks' library that were available to the Build but introduce a concept of "stages".</span></span> <span data-ttu-id="c3bc1-336">Una fase es un entorno aislado en el que se instala el paquete.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-336">A stage is an isolated environment into which the package is installed.</span></span> <span data-ttu-id="c3bc1-337">Por ejemplo, un producto puede hacer uso de un desarrollo, un QA y un entorno de producción.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-337">For instance, a product might make use of a development, a QA, and a production environment.</span></span> <span data-ttu-id="c3bc1-338">El código se entrega continuamente en el entorno de desarrollo en el que se pueden ejecutar pruebas automatizadas.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-338">Code is continuously delivered into the development environment where automated tests can be run against it.</span></span> <span data-ttu-id="c3bc1-339">Una vez que estas pruebas superan la versión, se mueven al entorno de QA para realizar pruebas manuales.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-339">Once those tests pass the release moves onto the QA environment for manual testing.</span></span> <span data-ttu-id="c3bc1-340">Por último, el código se inserta en producción, donde es visible para todo el mundo.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-340">Finally, the code is pushed to production where it's visible to everybody.</span></span>

![Figura 11-9 ejemplo de canalización de versiones con desarrollo, QA y fases de producción](./media/release-pipeline.png)

<span data-ttu-id="c3bc1-342">Cada fase de la compilación se puede desencadenar automáticamente mediante la finalización de la fase anterior.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-342">Each stage in the build can be automatically triggered by the completion of the previous phase.</span></span> <span data-ttu-id="c3bc1-343">Sin embargo, en muchos casos, esto no es deseable.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-343">In many cases, however, this isn't desirable.</span></span> <span data-ttu-id="c3bc1-344">Mover código a producción podría requerir la aprobación de alguien.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-344">Moving code into production might require approval from somebody.</span></span> <span data-ttu-id="c3bc1-345">La herramienta de versiones admite esto al permitir aprobadores en cada paso de la canalización de versiones.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-345">The Releases tool supports this by allowing approvers at each step of the release pipeline.</span></span> <span data-ttu-id="c3bc1-346">Las reglas se pueden configurar de modo que una persona o un grupo de personas específicas debe cerrar la sesión en una versión antes de que se haga en producción.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-346">Rules can be set up such that a specific person or group of people must sign off on a release before it makes into production.</span></span> <span data-ttu-id="c3bc1-347">Estas puertas permiten comprobaciones de calidad manuales y también para el cumplimiento de los requisitos normativos relacionados con el control de lo que entra en producción.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-347">These gates allow for manual quality checks and also for compliance with any regulatory requirements related to control what goes into production.</span></span>

### <a name="everybody-gets-a-build-pipeline"></a><span data-ttu-id="c3bc1-348">Todos obtienen una canalización de compilación</span><span class="sxs-lookup"><span data-stu-id="c3bc1-348">Everybody gets a build pipeline</span></span>

<span data-ttu-id="c3bc1-349">La configuración de muchas canalizaciones de compilación no supone ningún costo, por lo que es conveniente tener al menos una canalización de compilación por microservicio.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-349">There's no cost to configuring many build pipelines, so it's advantageous to have at least one build pipeline per microservice.</span></span> <span data-ttu-id="c3bc1-350">Idealmente, los microservicios se pueden implementar de forma independiente en cualquier entorno, por lo que tener cada uno de ellos capaz de lanzarse a través de su propia canalización sin liberar una masa de código no relacionado es perfecto.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-350">Ideally, microservices are independently deployable to any environment so having each one able to be released via its own pipeline without releasing a mass of unrelated code is perfect.</span></span> <span data-ttu-id="c3bc1-351">Cada canalización puede tener su propio conjunto de aprobaciones, lo que permite variaciones en el proceso de compilación para cada servicio.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-351">Each pipeline can have its own set of approvals allowing for variations in build process for each service.</span></span>

### <a name="versioning-releases"></a><span data-ttu-id="c3bc1-352">Versiones de control de versiones</span><span class="sxs-lookup"><span data-stu-id="c3bc1-352">Versioning releases</span></span>

<span data-ttu-id="c3bc1-353">Un inconveniente de usar la funcionalidad de versiones es que no se puede definir en un archivo de `azure-pipelines.yml` protegido.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-353">One drawback to using the Releases functionality is that it can't be defined in a checked-in `azure-pipelines.yml` file.</span></span> <span data-ttu-id="c3bc1-354">Hay muchas razones por las que es posible que desee hacer esto desde tener definiciones de versión por rama para incluir un esqueleto de versión en la plantilla de proyecto.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-354">There are many reasons you might want to do that from having per-branch release definitions to including a release skeleton in your project template.</span></span> <span data-ttu-id="c3bc1-355">Afortunadamente, el trabajo está en curso para desplazar algunas de las fases que se admiten en el componente de compilación.</span><span class="sxs-lookup"><span data-stu-id="c3bc1-355">Fortunately, work is ongoing to shift some of the stages support into the Build component.</span></span> <span data-ttu-id="c3bc1-356">Esto se conoce como compilación en varias fases y la [primera versión ya está disponible](https://devblogs.microsoft.com/devops/whats-new-with-azure-pipelines/).</span><span class="sxs-lookup"><span data-stu-id="c3bc1-356">This will be known as multi-stage build and the [first version is available now](https://devblogs.microsoft.com/devops/whats-new-with-azure-pipelines/)!</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="c3bc1-357">[Anterior](azure-security.md)
>[Siguiente](infrastructure-as-code.md)</span><span class="sxs-lookup"><span data-stu-id="c3bc1-357">[Previous](azure-security.md)
[Next](infrastructure-as-code.md)</span></span>
