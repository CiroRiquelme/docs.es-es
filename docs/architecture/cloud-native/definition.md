---
title: Definición de nativo en la nube
description: Obtenga información sobre los pilares básicos que proporcionan el cimientos para sistemas nativos en la nube.
author: robvet
ms.date: 08/20/2019
ms.openlocfilehash: 33977ff736fc5cbfcf86ed6479e8d0b927b87a63
ms.sourcegitcommit: 957c49696eaf048c284ef8f9f8ffeb562357ad95
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 05/07/2020
ms.locfileid: "82895617"
---
# <a name="defining-cloud-native"></a><span data-ttu-id="16da6-103">Definir nativo en la nube</span><span class="sxs-lookup"><span data-stu-id="16da6-103">Defining cloud native</span></span>

[!INCLUDE [book-preview](../../../includes/book-preview.md)]

<span data-ttu-id="16da6-104">Detenga lo que está haciendo y el texto 10 de sus compañeros.</span><span class="sxs-lookup"><span data-stu-id="16da6-104">Stop what you're doing and text ten of your colleagues.</span></span> <span data-ttu-id="16da6-105">Pídales que definan el término "Cloud Native".</span><span class="sxs-lookup"><span data-stu-id="16da6-105">Ask them to define the term "Cloud Native".</span></span> <span data-ttu-id="16da6-106">Buena oportunidad obtendrá ocho respuestas diferentes.</span><span class="sxs-lookup"><span data-stu-id="16da6-106">Good chance you'll get eight different answers.</span></span>

<span data-ttu-id="16da6-107">La nube nativa es todo lo que se trata de cambiar el modo en que pensamos en la creación de sistemas empresariales críticos.</span><span class="sxs-lookup"><span data-stu-id="16da6-107">Cloud native is all about changing the way we think about constructing critical business systems.</span></span>

<span data-ttu-id="16da6-108">Los sistemas nativos de la nube están diseñados para adoptar un cambio rápido, gran escala y resistencia.</span><span class="sxs-lookup"><span data-stu-id="16da6-108">Cloud-native systems are designed to embrace rapid change, large scale, and resilience.</span></span>

<span data-ttu-id="16da6-109">Cloud Native Computing Foundation proporciona una [definición oficial](https://github.com/cncf/foundation/blob/master/charter.md):</span><span class="sxs-lookup"><span data-stu-id="16da6-109">The Cloud Native Computing Foundation provides an [official definition](https://github.com/cncf/foundation/blob/master/charter.md):</span></span>

> <span data-ttu-id="16da6-110">*Las tecnologías nativas de la nube permiten a las organizaciones crear y ejecutar aplicaciones escalables en entornos modernos y dinámicos, como nubes públicas, privadas y híbridas. Los contenedores, las mallas de servicio, los microservicios, la infraestructura inmutable y las API declarativas ejemplifican este enfoque.*</span><span class="sxs-lookup"><span data-stu-id="16da6-110">*Cloud-native technologies empower organizations to build and run scalable applications in modern, dynamic environments such as public, private, and hybrid clouds. Containers, service meshes, microservices, immutable infrastructure, and declarative APIs exemplify this approach.*</span></span>

> <span data-ttu-id="16da6-111">*Estas técnicas permiten sistemas de acoplamiento flexible que son resistentes, administrables y observables. Combinado con una automatización sólida, permite a los ingenieros realizar cambios de gran impacto con frecuencia y de forma predecible con TOIL mínimos.*</span><span class="sxs-lookup"><span data-stu-id="16da6-111">*These techniques enable loosely coupled systems that are resilient, manageable, and observable. Combined with robust automation, they allow engineers to make high-impact changes frequently and predictably with minimal toil.*</span></span>

<span data-ttu-id="16da6-112">Las aplicaciones se han vuelto cada vez más complejas con usuarios que requieren más y más.</span><span class="sxs-lookup"><span data-stu-id="16da6-112">Applications have become increasingly complex with users demanding more and more.</span></span> <span data-ttu-id="16da6-113">Los usuarios esperan una capacidad de respuesta rápida, características innovadoras y sin tiempo de inactividad.</span><span class="sxs-lookup"><span data-stu-id="16da6-113">Users expect rapid responsiveness, innovative features, and zero downtime.</span></span> <span data-ttu-id="16da6-114">Los problemas de rendimiento, los errores periódicos y la incapacidad de moverse rápidamente ya no son aceptables.</span><span class="sxs-lookup"><span data-stu-id="16da6-114">Performance problems, recurring errors, and the inability to move fast are no longer acceptable.</span></span> <span data-ttu-id="16da6-115">Se trasladarán fácilmente a su competidor.</span><span class="sxs-lookup"><span data-stu-id="16da6-115">They'll easily move to your competitor.</span></span>

<span data-ttu-id="16da6-116">La nube nativa es mucho más *rápida* y *ágil*.</span><span class="sxs-lookup"><span data-stu-id="16da6-116">Cloud native is much about *speed* and *agility*.</span></span> <span data-ttu-id="16da6-117">Los sistemas empresariales están evolucionando desde la habilitación de las capacidades empresariales a armas de transformación estratégica, lo que acelera la velocidad y el crecimiento de la empresa.</span><span class="sxs-lookup"><span data-stu-id="16da6-117">Business systems are evolving from enabling business capabilities to weapons of strategic transformation, accelerating business velocity and growth.</span></span> <span data-ttu-id="16da6-118">Es imperativo obtener ideas al mercado inmediatamente.</span><span class="sxs-lookup"><span data-stu-id="16da6-118">It's imperative to get ideas to market immediately.</span></span>

<span data-ttu-id="16da6-119">Estas son algunas compañías que han implementado estas técnicas.</span><span class="sxs-lookup"><span data-stu-id="16da6-119">Here are some companies who have implemented these techniques.</span></span> <span data-ttu-id="16da6-120">Piense en la velocidad, la agilidad y la escalabilidad que han logrado.</span><span class="sxs-lookup"><span data-stu-id="16da6-120">Think about the speed, agility, and scalability they've achieved.</span></span>

| <span data-ttu-id="16da6-121">Compañía</span><span class="sxs-lookup"><span data-stu-id="16da6-121">Company</span></span> | <span data-ttu-id="16da6-122">Experiencia</span><span class="sxs-lookup"><span data-stu-id="16da6-122">Experience</span></span> |
| :-------- | :-------- |
| [<span data-ttu-id="16da6-123">Netflix</span><span class="sxs-lookup"><span data-stu-id="16da6-123">Netflix</span></span>](https://www.infoq.com/news/2013/06/netflix/) | <span data-ttu-id="16da6-124">Tiene 600 y servicios en producción.</span><span class="sxs-lookup"><span data-stu-id="16da6-124">Has 600+ services in production.</span></span> <span data-ttu-id="16da6-125">Implementa cientos de veces al día.</span><span class="sxs-lookup"><span data-stu-id="16da6-125">Deploys hundred times per day.</span></span> |
| [<span data-ttu-id="16da6-126">Uber</span><span class="sxs-lookup"><span data-stu-id="16da6-126">Uber</span></span>](https://eng.uber.com/micro-deploy/) | <span data-ttu-id="16da6-127">Tiene más de 1000 servicios en producción.</span><span class="sxs-lookup"><span data-stu-id="16da6-127">Has 1,000+ services in production.</span></span> <span data-ttu-id="16da6-128">Implementa varios miles de veces cada semana.</span><span class="sxs-lookup"><span data-stu-id="16da6-128">Deploys several thousand times each week.</span></span> |
| [<span data-ttu-id="16da6-129">WeChat</span><span class="sxs-lookup"><span data-stu-id="16da6-129">WeChat</span></span>](https://www.cs.columbia.edu/~ruigu/papers/socc18-final100.pdf) | <span data-ttu-id="16da6-130">Tiene más de 300 servicios en producción.</span><span class="sxs-lookup"><span data-stu-id="16da6-130">Has 300+ services in production.</span></span> <span data-ttu-id="16da6-131">Implementa 1.000 veces al día.</span><span class="sxs-lookup"><span data-stu-id="16da6-131">Deploys 1,000 times a day.</span></span> |

<span data-ttu-id="16da6-132">Como puede ver, Netflix, Uber y WeChat exponen sistemas que se componen de cientos de microservicios independientes.</span><span class="sxs-lookup"><span data-stu-id="16da6-132">As you can see, Netflix, Uber, and WeChat expose systems that consist of hundreds of independent microservices.</span></span> <span data-ttu-id="16da6-133">Este estilo arquitectónico les permite responder rápidamente a las condiciones de mercado.</span><span class="sxs-lookup"><span data-stu-id="16da6-133">This architectural style enables them to rapidly respond to market conditions.</span></span> <span data-ttu-id="16da6-134">Pueden actualizar de forma instantánea pequeñas áreas de una aplicación dinámica y compleja, y escalarlas individualmente según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="16da6-134">They can instantaneously update small areas of a live, complex application, and individually scale those areas as needed.</span></span>

<span data-ttu-id="16da6-135">La velocidad y la agilidad de la nube nativa proceden de una serie de factores.</span><span class="sxs-lookup"><span data-stu-id="16da6-135">The speed and agility of cloud native come about from a number of factors.</span></span> <span data-ttu-id="16da6-136">Lo más importante es la infraestructura de la nube.</span><span class="sxs-lookup"><span data-stu-id="16da6-136">Foremost is cloud infrastructure.</span></span> <span data-ttu-id="16da6-137">Cinco pilares básicos adicionales que se muestran en la figura 1-3 también proporcionan cimientos para sistemas nativos en la nube.</span><span class="sxs-lookup"><span data-stu-id="16da6-137">Five additional foundational pillars shown in Figure 1-3 also provide the bedrock for cloud-native systems.</span></span>

![Pilares básicos de la nube nativos](./media/cloud-native-foundational-pillars.png)

<span data-ttu-id="16da6-139">**Figura 1-3**.</span><span class="sxs-lookup"><span data-stu-id="16da6-139">**Figure 1-3**.</span></span> <span data-ttu-id="16da6-140">Pilares básicos de la nube nativos</span><span class="sxs-lookup"><span data-stu-id="16da6-140">Cloud-native foundational pillars</span></span>

<span data-ttu-id="16da6-141">Vamos a tomar un tiempo para comprender mejor la importancia de cada pilar.</span><span class="sxs-lookup"><span data-stu-id="16da6-141">Let's take some time to better understand the significance of each pillar.</span></span>

## <a name="the-cloud"></a><span data-ttu-id="16da6-142">La nube...</span><span class="sxs-lookup"><span data-stu-id="16da6-142">The cloud…</span></span>

<span data-ttu-id="16da6-143">Los sistemas nativos en la nube sacan el máximo partido del modelo de servicio en la nube.</span><span class="sxs-lookup"><span data-stu-id="16da6-143">Cloud-native systems take full advantage of the cloud service model.</span></span>

<span data-ttu-id="16da6-144">Diseñado para prosperar en un entorno de nube dinámico y virtualizado, estos sistemas hacen un uso extensivo de la infraestructura de proceso de [plataforma como servicio (PaaS)](https://azure.microsoft.com/overview/what-is-paas/) y los servicios administrados.</span><span class="sxs-lookup"><span data-stu-id="16da6-144">Designed to thrive in a dynamic, virtualized cloud environment, these systems make extensive use of [Platform as a Service (PaaS)](https://azure.microsoft.com/overview/what-is-paas/) compute infrastructure and managed services.</span></span> <span data-ttu-id="16da6-145">Tratan la infraestructura subyacente como *descartable* : aprovisionada en minutos y cambiado de tamaño, escalada, movida o destruida a petición, a través de la automatización.</span><span class="sxs-lookup"><span data-stu-id="16da6-145">They treat the underlying infrastructure as *disposable* - provisioned in minutes and resized, scaled, moved, or destroyed on demand – via automation.</span></span>

<span data-ttu-id="16da6-146">Tenga en cuenta el concepto DevOps ampliamente aceptado de [mascotas frente a bovinos](https://medium.com/@Joachim8675309/devops-concepts-pets-vs-cattle-2380b5aab313).</span><span class="sxs-lookup"><span data-stu-id="16da6-146">Consider the widely accepted DevOps concept of [Pets vs. Cattle](https://medium.com/@Joachim8675309/devops-concepts-pets-vs-cattle-2380b5aab313).</span></span> <span data-ttu-id="16da6-147">En un centro de datos tradicional, los servidores se tratan como *mascotas*: una máquina física, un nombre descriptivo y el tratamiento de los mismos.</span><span class="sxs-lookup"><span data-stu-id="16da6-147">In a traditional data center, servers are treated as *Pets*: a physical machine, given a meaningful name, and cared for.</span></span> <span data-ttu-id="16da6-148">Puede escalar agregando más recursos a la misma máquina (escalar verticalmente).</span><span class="sxs-lookup"><span data-stu-id="16da6-148">You scale by adding more resources to the same machine (scaling up).</span></span> <span data-ttu-id="16da6-149">Si el servidor está enfermo, se vuelve de la enfermera al estado.</span><span class="sxs-lookup"><span data-stu-id="16da6-149">If the server becomes sick, you nurse it back to health.</span></span> <span data-ttu-id="16da6-150">Si el servidor deja de estar disponible, todos los usuarios se ponen en aviso.</span><span class="sxs-lookup"><span data-stu-id="16da6-150">Should the server become unavailable, everyone notices.</span></span>

<span data-ttu-id="16da6-151">El modelo de servicio de la *vacuno* es diferente.</span><span class="sxs-lookup"><span data-stu-id="16da6-151">The *Cattle* service model is different.</span></span> <span data-ttu-id="16da6-152">Aprovisiona cada instancia como una máquina virtual o un contenedor.</span><span class="sxs-lookup"><span data-stu-id="16da6-152">You provision each instance as a virtual machine or container.</span></span> <span data-ttu-id="16da6-153">Son idénticos y se les asigna un identificador de sistema como Service-01, Service-02, etc.</span><span class="sxs-lookup"><span data-stu-id="16da6-153">They're identical and assigned a system identifier such as Service-01, Service-02, and so on.</span></span> <span data-ttu-id="16da6-154">El escalado se realiza mediante la creación de más (escalado horizontal).</span><span class="sxs-lookup"><span data-stu-id="16da6-154">You scale by creating more of them (scaling out).</span></span> <span data-ttu-id="16da6-155">Cuando uno deja de estar disponible, nadie lo notifica.</span><span class="sxs-lookup"><span data-stu-id="16da6-155">When one becomes unavailable, nobody notices.</span></span>

<span data-ttu-id="16da6-156">El modelo de ganado vacuno adopta una *infraestructura inmutable*.</span><span class="sxs-lookup"><span data-stu-id="16da6-156">The cattle model embraces *immutable infrastructure*.</span></span> <span data-ttu-id="16da6-157">Los servidores no se reparan ni modifican.</span><span class="sxs-lookup"><span data-stu-id="16da6-157">Servers aren't repaired or modified.</span></span> <span data-ttu-id="16da6-158">Si se produce un error en uno o es necesario actualizarlo, se destruye y se aprovisiona uno nuevo; todo ello se realiza mediante la automatización.</span><span class="sxs-lookup"><span data-stu-id="16da6-158">If one fails or requires updating, it's destroyed and a new one is provisioned – all done via automation.</span></span>

<span data-ttu-id="16da6-159">Los sistemas nativos en la nube adoptan el modelo de servicio de la ganado vacuno.</span><span class="sxs-lookup"><span data-stu-id="16da6-159">Cloud-native systems embrace the Cattle service model.</span></span> <span data-ttu-id="16da6-160">Continúan ejecutándose a medida que la infraestructura se escala dentro o fuera con independencia de los equipos en los que se ejecutan.</span><span class="sxs-lookup"><span data-stu-id="16da6-160">They continue to run as the infrastructure scales in or out with no regard to the machines upon which they're running.</span></span>

<span data-ttu-id="16da6-161">La plataforma en la nube de Azure admite este tipo de infraestructura muy elástica con capacidades de escalado automático, recuperación automática y supervisión.</span><span class="sxs-lookup"><span data-stu-id="16da6-161">The Azure cloud platform supports this type of highly elastic infrastructure with automatic scaling, self-healing, and monitoring capabilities.</span></span>

## <a name="modern-design"></a><span data-ttu-id="16da6-162">Diseño moderno</span><span class="sxs-lookup"><span data-stu-id="16da6-162">Modern design</span></span>

<span data-ttu-id="16da6-163">¿Cómo se diseña una aplicación nativa en la nube?</span><span class="sxs-lookup"><span data-stu-id="16da6-163">How would you design a cloud-native app?</span></span> <span data-ttu-id="16da6-164">¿Cuál sería la apariencia de la arquitectura?</span><span class="sxs-lookup"><span data-stu-id="16da6-164">What would your architecture look like?</span></span> <span data-ttu-id="16da6-165">¿A qué principios, patrones y procedimientos recomendados cumpliría?</span><span class="sxs-lookup"><span data-stu-id="16da6-165">To what principles, patterns, and best practices would you adhere?</span></span> <span data-ttu-id="16da6-166">¿Qué problemas de infraestructura y de funcionamiento serían importantes?</span><span class="sxs-lookup"><span data-stu-id="16da6-166">What infrastructure and operational concerns would be important?</span></span>

### <a name="the-twelve-factor-application"></a><span data-ttu-id="16da6-167">Aplicación de doce factores</span><span class="sxs-lookup"><span data-stu-id="16da6-167">The Twelve-Factor Application</span></span>

<span data-ttu-id="16da6-168">Una metodología ampliamente aceptada para construir aplicaciones basadas en la nube es la [aplicación de doce factores](https://12factor.net/).</span><span class="sxs-lookup"><span data-stu-id="16da6-168">A widely accepted methodology for constructing cloud-based applications is the [Twelve-Factor Application](https://12factor.net/).</span></span> <span data-ttu-id="16da6-169">Describe un conjunto de principios y prácticas que los desarrolladores siguen para crear aplicaciones optimizadas para entornos modernos en la nube.</span><span class="sxs-lookup"><span data-stu-id="16da6-169">It describes a set of principles and practices that developers follow to construct applications optimized for modern cloud environments.</span></span> <span data-ttu-id="16da6-170">Se presta especial atención a la portabilidad entre entornos y la automatización declarativa.</span><span class="sxs-lookup"><span data-stu-id="16da6-170">Special attention is given to portability across environments and declarative automation.</span></span>

<span data-ttu-id="16da6-171">Aunque es aplicable a cualquier aplicación basada en Web, muchos profesionales la consideran como una base sólida para la creación de aplicaciones nativas en la nube.</span><span class="sxs-lookup"><span data-stu-id="16da6-171">While applicable to any web-based application, many practitioners consider it as a solid foundation for building cloud-native apps.</span></span> <span data-ttu-id="16da6-172">Los sistemas basados en estos principios pueden implementar y escalar rápidamente y agregar características para reaccionar rápidamente a los cambios de mercado.</span><span class="sxs-lookup"><span data-stu-id="16da6-172">Systems built upon these principles can deploy and scale rapidly and add features to react quickly to market changes.</span></span>

<span data-ttu-id="16da6-173">En la tabla siguiente se resalta la metodología de doce factores:</span><span class="sxs-lookup"><span data-stu-id="16da6-173">The following table highlights the Twelve-Factor methodology:</span></span>

|    |  <span data-ttu-id="16da6-174">Factor</span><span class="sxs-lookup"><span data-stu-id="16da6-174">Factor</span></span> | <span data-ttu-id="16da6-175">Explicación</span><span class="sxs-lookup"><span data-stu-id="16da6-175">Explanation</span></span>  |
| :-------- | :-------- | :-------- |
| <span data-ttu-id="16da6-176">1</span><span class="sxs-lookup"><span data-stu-id="16da6-176">1</span></span> | <span data-ttu-id="16da6-177">Código base</span><span class="sxs-lookup"><span data-stu-id="16da6-177">Code Base</span></span> | <span data-ttu-id="16da6-178">Una única base de código para cada microservicio, almacenada en su propio repositorio.</span><span class="sxs-lookup"><span data-stu-id="16da6-178">A single code base for each microservice, stored in its own repository.</span></span> <span data-ttu-id="16da6-179">Con el control de versiones, se puede implementar en varios entornos (QA, ensayo, producción).</span><span class="sxs-lookup"><span data-stu-id="16da6-179">Tracked with version control, it can deploy to multiple environments (QA, Staging, Production).</span></span> |
| <span data-ttu-id="16da6-180">2</span><span class="sxs-lookup"><span data-stu-id="16da6-180">2</span></span> | <span data-ttu-id="16da6-181">Dependencias</span><span class="sxs-lookup"><span data-stu-id="16da6-181">Dependencies</span></span> | <span data-ttu-id="16da6-182">Cada microservicio aísla y empaqueta sus propias dependencias, y adopta los cambios sin afectar a todo el sistema.</span><span class="sxs-lookup"><span data-stu-id="16da6-182">Each microservice isolates and packages its own dependencies, embracing changes without impacting the entire system.</span></span> |
| <span data-ttu-id="16da6-183">3</span><span class="sxs-lookup"><span data-stu-id="16da6-183">3</span></span> | <span data-ttu-id="16da6-184">Configurations</span><span class="sxs-lookup"><span data-stu-id="16da6-184">Configurations</span></span>  | <span data-ttu-id="16da6-185">La información de configuración se mueve fuera del microservicio y se externaliza a través de una herramienta de administración de configuración fuera del código.</span><span class="sxs-lookup"><span data-stu-id="16da6-185">Configuration information is moved out of the microservice and externalized through a configuration management tool outside of the code.</span></span> <span data-ttu-id="16da6-186">La misma implementación se puede propagar entre entornos con la configuración correcta aplicada.</span><span class="sxs-lookup"><span data-stu-id="16da6-186">The same deployment can propagate across environments with the correct configuration applied.</span></span>  |
| <span data-ttu-id="16da6-187">4</span><span class="sxs-lookup"><span data-stu-id="16da6-187">4</span></span> | <span data-ttu-id="16da6-188">Servicios de respaldo</span><span class="sxs-lookup"><span data-stu-id="16da6-188">Backing Services</span></span> | <span data-ttu-id="16da6-189">Los recursos auxiliares (almacenes de datos, memorias caché, agentes de mensajes) deben exponerse a través de una dirección URL direccionable.</span><span class="sxs-lookup"><span data-stu-id="16da6-189">Ancillary resources (data stores, caches, message brokers) should be exposed via an addressable URL.</span></span> <span data-ttu-id="16da6-190">Al hacerlo, se desacopla el recurso de la aplicación, lo que permite que sea intercambiable.</span><span class="sxs-lookup"><span data-stu-id="16da6-190">Doing so decouples the resource from the application, enabling it to be interchangeable.</span></span>  |
| <span data-ttu-id="16da6-191">5</span><span class="sxs-lookup"><span data-stu-id="16da6-191">5</span></span> | <span data-ttu-id="16da6-192">Compilación, lanzamiento, ejecución</span><span class="sxs-lookup"><span data-stu-id="16da6-192">Build, Release, Run</span></span> | <span data-ttu-id="16da6-193">Cada versión debe exigir una separación estricta entre las fases de compilación, lanzamiento y ejecución.</span><span class="sxs-lookup"><span data-stu-id="16da6-193">Each release must enforce a strict separation across the build, release, and run stages.</span></span> <span data-ttu-id="16da6-194">Cada una debe etiquetarse con un identificador único y admitir la capacidad de revertir.</span><span class="sxs-lookup"><span data-stu-id="16da6-194">Each should be tagged with a unique ID and support the ability to roll back.</span></span> <span data-ttu-id="16da6-195">Los sistemas de CI/CD modernos ayudan a completar este principio.</span><span class="sxs-lookup"><span data-stu-id="16da6-195">Modern CI/CD systems help fulfill this principle.</span></span> |
| <span data-ttu-id="16da6-196">6</span><span class="sxs-lookup"><span data-stu-id="16da6-196">6</span></span> | <span data-ttu-id="16da6-197">Procesos</span><span class="sxs-lookup"><span data-stu-id="16da6-197">Processes</span></span> | <span data-ttu-id="16da6-198">Cada microservicio debe ejecutarse en su propio proceso, aislado de otros servicios en ejecución.</span><span class="sxs-lookup"><span data-stu-id="16da6-198">Each microservice should execute in its own process,  isolated from other running services.</span></span> <span data-ttu-id="16da6-199">Externalizar el estado necesario para un servicio de respaldo, como una caché distribuida o un almacén de datos.</span><span class="sxs-lookup"><span data-stu-id="16da6-199">Externalize required state to a backing service such as a distributed cache or data store.</span></span> |
| <span data-ttu-id="16da6-200">7</span><span class="sxs-lookup"><span data-stu-id="16da6-200">7</span></span> | <span data-ttu-id="16da6-201">Enlace de puerto</span><span class="sxs-lookup"><span data-stu-id="16da6-201">Port Binding</span></span> | <span data-ttu-id="16da6-202">Cada microservicio debe ser independiente con las interfaces y la funcionalidad expuestas en su propio puerto.</span><span class="sxs-lookup"><span data-stu-id="16da6-202">Each microservice should be self-contained with its interfaces and functionality exposed on its own port.</span></span> <span data-ttu-id="16da6-203">Esto proporciona aislamiento de otros microservicios.</span><span class="sxs-lookup"><span data-stu-id="16da6-203">Doing so provides isolation from other microservices.</span></span> |
| <span data-ttu-id="16da6-204">8</span><span class="sxs-lookup"><span data-stu-id="16da6-204">8</span></span> | <span data-ttu-id="16da6-205">Simultaneidad</span><span class="sxs-lookup"><span data-stu-id="16da6-205">Concurrency</span></span> | <span data-ttu-id="16da6-206">Los servicios se escalan horizontalmente en un gran número de pequeños procesos (copias) idénticos en lugar de escalar verticalmente una única instancia grande en el equipo más eficaz disponible.</span><span class="sxs-lookup"><span data-stu-id="16da6-206">Services scale out across a large number of small identical processes (copies) as opposed to scaling-up a single large instance on the most powerful machine available.</span></span> |
| <span data-ttu-id="16da6-207">9</span><span class="sxs-lookup"><span data-stu-id="16da6-207">9</span></span> | <span data-ttu-id="16da6-208">Eliminación</span><span class="sxs-lookup"><span data-stu-id="16da6-208">Disposability</span></span> | <span data-ttu-id="16da6-209">Las instancias de servicio deben ser descartables, con lo que se favorece el inicio rápido para aumentar las oportunidades de escalabilidad y cierres correctos para dejar el sistema en un estado correcto.</span><span class="sxs-lookup"><span data-stu-id="16da6-209">Service instances should be disposable, favoring fast startups to increase scalability opportunities and graceful shutdowns to leave the system in a correct state.</span></span> <span data-ttu-id="16da6-210">Los contenedores de Docker junto con un orquestador cumplen de forma inherente este requisito.</span><span class="sxs-lookup"><span data-stu-id="16da6-210">Docker containers along with an orchestrator inherently satisfy this requirement.</span></span> |
| <span data-ttu-id="16da6-211">10</span><span class="sxs-lookup"><span data-stu-id="16da6-211">10</span></span> | <span data-ttu-id="16da6-212">Paridad de desarrollo y producción</span><span class="sxs-lookup"><span data-stu-id="16da6-212">Dev/Prod Parity</span></span> | <span data-ttu-id="16da6-213">Mantenga entornos a lo largo del ciclo de vida de la aplicación lo más similar posible, evitando accesos directos costosos.</span><span class="sxs-lookup"><span data-stu-id="16da6-213">Keep environments across the application lifecycle as similar as possible, avoiding costly shortcuts.</span></span> <span data-ttu-id="16da6-214">En este caso, la adopción de contenedores puede contribuir en gran medida a la promoción del mismo entorno de ejecución.</span><span class="sxs-lookup"><span data-stu-id="16da6-214">Here, the adoption of containers can greatly contribute by promoting the same execution environment.</span></span> |
| <span data-ttu-id="16da6-215">11</span><span class="sxs-lookup"><span data-stu-id="16da6-215">11</span></span> | <span data-ttu-id="16da6-216">Registro</span><span class="sxs-lookup"><span data-stu-id="16da6-216">Logging</span></span> | <span data-ttu-id="16da6-217">Tratar los registros generados por los microservicios como flujos de eventos.</span><span class="sxs-lookup"><span data-stu-id="16da6-217">Treat logs generated by microservices as event streams.</span></span> <span data-ttu-id="16da6-218">Procesarlos con un agregador de eventos y propagar los datos a herramientas de administración de datos y minería de datos, como Azure Monitor o Splunk y, finalmente, el archivo a largo plazo.</span><span class="sxs-lookup"><span data-stu-id="16da6-218">Process them with an event aggregator and propagate the data to data-mining/log management tools like Azure Monitor or Splunk and eventually long-term archival.</span></span> |
| <span data-ttu-id="16da6-219">12</span><span class="sxs-lookup"><span data-stu-id="16da6-219">12</span></span> | <span data-ttu-id="16da6-220">Procesos de administración</span><span class="sxs-lookup"><span data-stu-id="16da6-220">Admin Processes</span></span> | <span data-ttu-id="16da6-221">Ejecutar tareas administrativas o de administración como procesos de un solo uso.</span><span class="sxs-lookup"><span data-stu-id="16da6-221">Run administrative/management tasks as one-off processes.</span></span> <span data-ttu-id="16da6-222">Las tareas pueden incluir la limpieza de datos y el análisis de extracción de un informe.</span><span class="sxs-lookup"><span data-stu-id="16da6-222">Tasks can include data cleanup and pulling analytics for a report.</span></span> <span data-ttu-id="16da6-223">Las herramientas que ejecutan estas tareas deben invocarse desde el entorno de producción, pero independientemente de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="16da6-223">Tools executing these tasks should be  invoked from the production environment, but separately from the application.</span></span> |

<span data-ttu-id="16da6-224">En el libro, [más allá de la aplicación de doce factores](https://content.pivotal.io/blog/beyond-the-twelve-factor-app), cree Kevin Hoffman detalla cada uno de los 12 factores originales (escritos en 2011).</span><span class="sxs-lookup"><span data-stu-id="16da6-224">In the book, [Beyond the Twelve-Factor App](https://content.pivotal.io/blog/beyond-the-twelve-factor-app), author Kevin Hoffman details each of the original 12 factors (written in 2011).</span></span> <span data-ttu-id="16da6-225">Además, el libro proporciona tres factores adicionales que reflejan el diseño de la aplicación en la nube actual de hoy en día.</span><span class="sxs-lookup"><span data-stu-id="16da6-225">Additionally, the book provides three additional factors that reflect today's modern cloud application design.</span></span>

|    |  <span data-ttu-id="16da6-226">Nuevo factor</span><span class="sxs-lookup"><span data-stu-id="16da6-226">New Factor</span></span> | <span data-ttu-id="16da6-227">Explicación</span><span class="sxs-lookup"><span data-stu-id="16da6-227">Explanation</span></span>  |
| :-------- | :-------- | :-------- |
| <span data-ttu-id="16da6-228">13</span><span class="sxs-lookup"><span data-stu-id="16da6-228">13</span></span> | <span data-ttu-id="16da6-229">Primera API</span><span class="sxs-lookup"><span data-stu-id="16da6-229">API First</span></span> | <span data-ttu-id="16da6-230">Haga todo un servicio.</span><span class="sxs-lookup"><span data-stu-id="16da6-230">Make everything a service.</span></span> <span data-ttu-id="16da6-231">Suponga que el código lo utilizará un cliente front-end, una puerta de enlace u otro servicio.</span><span class="sxs-lookup"><span data-stu-id="16da6-231">Assume your code will be consumed by a front-end client, gateway, or another service.</span></span> |
| <span data-ttu-id="16da6-232">14</span><span class="sxs-lookup"><span data-stu-id="16da6-232">14</span></span> | <span data-ttu-id="16da6-233">Telemetría</span><span class="sxs-lookup"><span data-stu-id="16da6-233">Telemetry</span></span> | <span data-ttu-id="16da6-234">En una estación de trabajo, tiene una visibilidad profunda de la aplicación y su comportamiento.</span><span class="sxs-lookup"><span data-stu-id="16da6-234">On a workstation, you have deep visibility into your application and its behavior.</span></span> <span data-ttu-id="16da6-235">En la nube, no.</span><span class="sxs-lookup"><span data-stu-id="16da6-235">In the cloud, you don't.</span></span> <span data-ttu-id="16da6-236">Asegúrese de que el diseño incluye la recopilación de datos de supervisión, específicos del dominio y del estado o del sistema.</span><span class="sxs-lookup"><span data-stu-id="16da6-236">Make sure your design includes the collection of monitoring, domain-specific, and health/system data.</span></span> |
| <span data-ttu-id="16da6-237">15</span><span class="sxs-lookup"><span data-stu-id="16da6-237">15</span></span> | <span data-ttu-id="16da6-238">Autenticación/autorización</span><span class="sxs-lookup"><span data-stu-id="16da6-238">Authentication/ Authorization</span></span>  | <span data-ttu-id="16da6-239">Implemente la identidad desde el principio.</span><span class="sxs-lookup"><span data-stu-id="16da6-239">Implement identity from the start.</span></span> <span data-ttu-id="16da6-240">Tenga en cuenta las características de [RBAC (control de acceso basado en roles)](https://docs.microsoft.com/azure/role-based-access-control/overview) disponibles en nubes públicas.</span><span class="sxs-lookup"><span data-stu-id="16da6-240">Consider [RBAC (role-based access control)](https://docs.microsoft.com/azure/role-based-access-control/overview) features available in public clouds.</span></span>  |

<span data-ttu-id="16da6-241">Haremos referencia a muchos de los 12 factores de este capítulo y a lo largo del libro.</span><span class="sxs-lookup"><span data-stu-id="16da6-241">We'll refer to many of the 12+ factors in this chapter and throughout the book.</span></span>

### <a name="critical-design-considerations"></a><span data-ttu-id="16da6-242">Consideraciones de diseño críticas</span><span class="sxs-lookup"><span data-stu-id="16da6-242">Critical Design Considerations</span></span>

<span data-ttu-id="16da6-243">Además de las instrucciones proporcionadas en la metodología de doce factores, hay varias decisiones de diseño críticas que debe tomar al construir sistemas distribuidos.</span><span class="sxs-lookup"><span data-stu-id="16da6-243">Beyond the guidance provided from the twelve-factor methodology, there are several critical design decisions you must make when constructing distributed systems.</span></span>

<span data-ttu-id="16da6-244">*Comunicaci*</span><span class="sxs-lookup"><span data-stu-id="16da6-244">*Communication*</span></span>

<span data-ttu-id="16da6-245">¿Cómo se comunican las aplicaciones cliente front-end con los servicios principales de back-end?</span><span class="sxs-lookup"><span data-stu-id="16da6-245">How will front-end client applications communicate with backed-end core services?</span></span> <span data-ttu-id="16da6-246">¿Permitirá la comunicación directa?</span><span class="sxs-lookup"><span data-stu-id="16da6-246">Will you allow direct communication?</span></span> <span data-ttu-id="16da6-247">O bien, ¿puede abstraer los servicios back-end con una fachada de puerta de enlace que proporcione flexibilidad, control y seguridad?</span><span class="sxs-lookup"><span data-stu-id="16da6-247">Or, might you abstract the back-end services with a gateway façade that provides  flexibility, control, and security?</span></span>

<span data-ttu-id="16da6-248">¿Cómo se comunican los servicios principales de back-end entre sí?</span><span class="sxs-lookup"><span data-stu-id="16da6-248">How will back-end core services communicate with each other?</span></span> <span data-ttu-id="16da6-249">¿Permitirá llamadas HTTP directas que conducen al acoplamiento y el impacto en el rendimiento y la agilidad?</span><span class="sxs-lookup"><span data-stu-id="16da6-249">Will you allow direct HTTP calls that lead to coupling and impact performance and agility?</span></span> <span data-ttu-id="16da6-250">¿O puede considerar la mensajería desacoplada con tecnologías de colas y temas?</span><span class="sxs-lookup"><span data-stu-id="16da6-250">Or might you consider decoupled messaging with queue and topic technologies?</span></span>

<span data-ttu-id="16da6-251">La comunicación se trata en el capítulo 4 de detalles, *patrones de comunicación nativa en la nube*.</span><span class="sxs-lookup"><span data-stu-id="16da6-251">Communication is covered in detail Chapter 4, *Cloud-Native Communication Patterns*.</span></span>

<span data-ttu-id="16da6-252">*Resistencia*</span><span class="sxs-lookup"><span data-stu-id="16da6-252">*Resiliency*</span></span>

<span data-ttu-id="16da6-253">Una arquitectura de microservicios mueve el sistema desde el proceso a la comunicación de red fuera de proceso.</span><span class="sxs-lookup"><span data-stu-id="16da6-253">A microservices architecture moves your system from in-process to out-of-process network communication.</span></span> <span data-ttu-id="16da6-254">En una arquitectura distribuida, ¿qué ocurre cuando el servicio B no responde a una llamada de red del servicio A?</span><span class="sxs-lookup"><span data-stu-id="16da6-254">In a distributed architecture, what happens when Service B isn't responding to a network call from Service A?</span></span> <span data-ttu-id="16da6-255">O bien, ¿qué ocurre cuando el servicio C deja de estar disponible temporalmente y se bloquean otros servicios que lo llaman?</span><span class="sxs-lookup"><span data-stu-id="16da6-255">Or, what happens when Service C becomes temporarily unavailable and other services calling it are blocked?</span></span>

<span data-ttu-id="16da6-256">La resistencia se trata en el capítulo 6 de detalles, *resistencia nativa en la nube*.</span><span class="sxs-lookup"><span data-stu-id="16da6-256">Resiliency is covered in detail Chapter 6, *Cloud-Native Resiliency*.</span></span>

<span data-ttu-id="16da6-257">*Datos distribuidos*</span><span class="sxs-lookup"><span data-stu-id="16da6-257">*Distributed Data*</span></span>

<span data-ttu-id="16da6-258">Por diseño, cada microservicio encapsula sus propios datos y expone las operaciones a través de su interfaz pública.</span><span class="sxs-lookup"><span data-stu-id="16da6-258">By design, each microservice encapsulates its own data, exposing operations via its public interface.</span></span> <span data-ttu-id="16da6-259">Si es así, ¿cómo se consultan los datos o se implementa una transacción en varios servicios?</span><span class="sxs-lookup"><span data-stu-id="16da6-259">If so, how do you query data or implement a transaction across multiple services?</span></span>

<span data-ttu-id="16da6-260">Los datos distribuidos se describen en el capítulo 5 de detalles, *patrones de datos nativos de la nube*.</span><span class="sxs-lookup"><span data-stu-id="16da6-260">Distributed data is covered in detail Chapter 5, *Cloud-Native Data Patterns*.</span></span>

<span data-ttu-id="16da6-261">*Identidad*</span><span class="sxs-lookup"><span data-stu-id="16da6-261">*Identity*</span></span>

<span data-ttu-id="16da6-262">¿Cómo identificará el servicio quién tiene acceso a él y qué permisos tiene?</span><span class="sxs-lookup"><span data-stu-id="16da6-262">How will your service identify who is accessing it and what permissions they have?</span></span>

<span data-ttu-id="16da6-263">La identidad se trata en el capítulo 8 de detalles, *identidad*.</span><span class="sxs-lookup"><span data-stu-id="16da6-263">Identity is covered in detail Chapter 8, *Identity*.</span></span>

## <a name="microservices"></a><span data-ttu-id="16da6-264">Microservicios</span><span class="sxs-lookup"><span data-stu-id="16da6-264">Microservices</span></span>

<span data-ttu-id="16da6-265">Los sistemas nativos en la nube adoptan microservicios, un estilo arquitectónico popular para construir aplicaciones modernas.</span><span class="sxs-lookup"><span data-stu-id="16da6-265">Cloud-native systems embrace microservices, a popular architectural style for constructing modern applications.</span></span>

<span data-ttu-id="16da6-266">Creado como un conjunto distribuido de servicios pequeños e independientes que interactúan a través de un tejido compartido, los microservicios comparten las siguientes características:</span><span class="sxs-lookup"><span data-stu-id="16da6-266">Built as a distributed set of small, independent services that interact through a shared fabric, microservices share the following characteristics:</span></span>

- <span data-ttu-id="16da6-267">Cada implementa una funcionalidad empresarial específica dentro de un contexto de dominio mayor.</span><span class="sxs-lookup"><span data-stu-id="16da6-267">Each implements a specific business capability within a larger domain context.</span></span>

- <span data-ttu-id="16da6-268">Cada se desarrolla de manera autónoma y se puede implementar de forma independiente.</span><span class="sxs-lookup"><span data-stu-id="16da6-268">Each is developed autonomously and can be deployed independently.</span></span>

- <span data-ttu-id="16da6-269">Cada una de ellas encapsula su propia tecnología de almacenamiento de datos (SQL, NoSQL) y plataforma de programación.</span><span class="sxs-lookup"><span data-stu-id="16da6-269">Each is self-contained encapsulating its own data storage technology (SQL, NoSQL) and programming platform.</span></span>

- <span data-ttu-id="16da6-270">Cada una de ellas se ejecuta en su propio proceso y se comunica con otros mediante protocolos de comunicación estándar como HTTP/HTTPS, WebSockets o [AMQP](https://en.wikipedia.org/wiki/Advanced_Message_Queuing_Protocol).</span><span class="sxs-lookup"><span data-stu-id="16da6-270">Each runs in its own process and communicates with others using standard communication protocols such as HTTP/HTTPS, WebSockets, or [AMQP](https://en.wikipedia.org/wiki/Advanced_Message_Queuing_Protocol).</span></span>

- <span data-ttu-id="16da6-271">Se componen conjuntamente para formar una aplicación.</span><span class="sxs-lookup"><span data-stu-id="16da6-271">They compose together to form an application.</span></span>

<span data-ttu-id="16da6-272">La figura 1-4 contrasta un enfoque de aplicación monolítica con un enfoque de microservicios.</span><span class="sxs-lookup"><span data-stu-id="16da6-272">Figure 1-4 contrasts a monolithic application approach with a microservices approach.</span></span> <span data-ttu-id="16da6-273">Observe cómo el monolítico se compone de una arquitectura en capas, que se ejecuta en un único proceso.</span><span class="sxs-lookup"><span data-stu-id="16da6-273">Note how the monolith is composed of a layered architecture, which executes in a single process.</span></span> <span data-ttu-id="16da6-274">Normalmente utiliza una base de datos relacional.</span><span class="sxs-lookup"><span data-stu-id="16da6-274">It typically consumes a relational database.</span></span> <span data-ttu-id="16da6-275">Sin embargo, el enfoque de microservicios segrega la funcionalidad en servicios independientes que incluyen lógica y datos.</span><span class="sxs-lookup"><span data-stu-id="16da6-275">The microservice approach, however, segregates functionality into independent services that include logic and data.</span></span> <span data-ttu-id="16da6-276">Cada microservicio hospeda su propio almacén de almacenes de los mismos.</span><span class="sxs-lookup"><span data-stu-id="16da6-276">Each microservice hosts its own datastore.</span></span>

![Implementación monolítica frente a microservicios](./media/monolithic-vs-microservices.png)

<span data-ttu-id="16da6-278">**Figura 1-4.**</span><span class="sxs-lookup"><span data-stu-id="16da6-278">**Figure 1-4.**</span></span> <span data-ttu-id="16da6-279">Implementación monolítica frente a microservicios</span><span class="sxs-lookup"><span data-stu-id="16da6-279">Monolithic deployment versus microservices</span></span>

<span data-ttu-id="16da6-280">Tenga en cuenta cómo los microservicios promocionan el principio de "un código base, una aplicación" de la [aplicación de doce factores](https://12factor.net/), descrito anteriormente en el capítulo.</span><span class="sxs-lookup"><span data-stu-id="16da6-280">Note how microservices promote the "One Codebase, One Application" principle from the [Twelve-Factor Application](https://12factor.net/), discussed earlier in the chapter.</span></span>

> <span data-ttu-id="16da6-281">*Factor \#1 especifica "un único código base para cada microservicio, almacenado en su propio repositorio. Con el control de versiones, se puede implementar en varios entornos.*</span><span class="sxs-lookup"><span data-stu-id="16da6-281">*Factor \#1  specifies "A single codebase for each microservice, stored in its own repository. Tracked with version control, it can deploy to multiple environments."*</span></span>

### <a name="why-microservices"></a><span data-ttu-id="16da6-282">¿Por qué microservicios?</span><span class="sxs-lookup"><span data-stu-id="16da6-282">Why microservices?</span></span>

<span data-ttu-id="16da6-283">Los microservicios proporcionan agilidad.</span><span class="sxs-lookup"><span data-stu-id="16da6-283">Microservices provide agility.</span></span>

<span data-ttu-id="16da6-284">Anteriormente en el capítulo, se comparaba una aplicación de comercio electrónico compilada como un monolito con microservicios.</span><span class="sxs-lookup"><span data-stu-id="16da6-284">Earlier in the chapter, we compared an eCommerce application built as a monolith to that with microservices.</span></span> <span data-ttu-id="16da6-285">En el ejemplo, vimos algunas ventajas claras:</span><span class="sxs-lookup"><span data-stu-id="16da6-285">In the example, we saw some clear benefits:</span></span>

- <span data-ttu-id="16da6-286">Cada microservicio tiene un ciclo de vida autónomo y puede evolucionar de forma independiente e implementar con frecuencia.</span><span class="sxs-lookup"><span data-stu-id="16da6-286">Each microservice has an autonomous lifecycle and can evolve independently and deploy frequently.</span></span> <span data-ttu-id="16da6-287">No tiene que esperar a una versión trimestral para implementar nuevas características o actualizaciones.</span><span class="sxs-lookup"><span data-stu-id="16da6-287">You don't have to wait for a quarterly release to deploy a new features or update.</span></span> <span data-ttu-id="16da6-288">Puede actualizar un área pequeña de una aplicación compleja con menos riesgo de interrumpir todo el sistema.</span><span class="sxs-lookup"><span data-stu-id="16da6-288">You can update a small area of a complex application with less risk of disrupting the entire system.</span></span>

- <span data-ttu-id="16da6-289">Cada microservicio se puede escalar de manera independiente.</span><span class="sxs-lookup"><span data-stu-id="16da6-289">Each microservice can scale independently.</span></span> <span data-ttu-id="16da6-290">En lugar de escalar toda la aplicación como una sola unidad, solo se escalan horizontalmente los servicios que requieren más potencia de procesamiento o ancho de banda de red.</span><span class="sxs-lookup"><span data-stu-id="16da6-290">Instead of scaling the entire application as a single unit, you scale out only those services that require more processing power or network bandwidth.</span></span> <span data-ttu-id="16da6-291">Este enfoque específico del escalado proporciona un mayor control del sistema y ayuda a reducir los costos generales a medida que se escalan partes del sistema, no todo.</span><span class="sxs-lookup"><span data-stu-id="16da6-291">This  fine-grained approach to scaling provides for greater control of your system and helps to reduce overall costs as you scale portions of your system, not everything.</span></span>

<span data-ttu-id="16da6-292">Una excelente guía de referencia para comprender los microservicios es [microservicios de .net: arquitectura para aplicaciones .net en contenedor](https://dotnet.microsoft.com/download/thank-you/microservices-architecture-ebook).</span><span class="sxs-lookup"><span data-stu-id="16da6-292">An excellent reference guide for understanding microservices is [.NET Microservices: Architecture for Containerized .NET Applications](https://dotnet.microsoft.com/download/thank-you/microservices-architecture-ebook).</span></span> <span data-ttu-id="16da6-293">El libro profundiza en el diseño y la arquitectura de los microservicios.</span><span class="sxs-lookup"><span data-stu-id="16da6-293">The book deep dives into microservices design and architecture.</span></span> <span data-ttu-id="16da6-294">Es un complemento para una [arquitectura de referencia de microservicios de pila completa](https://github.com/dotnet-architecture/eShopOnContainers) disponible como descarga gratuita de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="16da6-294">It's a companion for a [full-stack microservice reference architecture](https://github.com/dotnet-architecture/eShopOnContainers) available as a free download from Microsoft.</span></span>

### <a name="developing-microservices"></a><span data-ttu-id="16da6-295">Desarrollo de microservicios</span><span class="sxs-lookup"><span data-stu-id="16da6-295">Developing microservices</span></span>

<span data-ttu-id="16da6-296">Los microservicios se pueden crear con cualquier plataforma de desarrollo moderna.</span><span class="sxs-lookup"><span data-stu-id="16da6-296">Microservices can be created with any modern development platform.</span></span>

<span data-ttu-id="16da6-297">La plataforma de Microsoft .NET Core es una excelente opción.</span><span class="sxs-lookup"><span data-stu-id="16da6-297">The Microsoft .NET Core platform is an excellent choice.</span></span> <span data-ttu-id="16da6-298">Gratis y de código abierto, tiene muchas características integradas para simplificar el desarrollo de microservicios.</span><span class="sxs-lookup"><span data-stu-id="16da6-298">Free and open source, it has many built-in features to simplify microservice development.</span></span> <span data-ttu-id="16da6-299">.NET Core es multiplataforma.</span><span class="sxs-lookup"><span data-stu-id="16da6-299">.NET Core is cross-platform.</span></span> <span data-ttu-id="16da6-300">Las aplicaciones se pueden compilar y ejecutar en Windows, macOS y la mayoría de los tipos de Linux.</span><span class="sxs-lookup"><span data-stu-id="16da6-300">Applications can be built and run on Windows, macOS, and most flavors of Linux.</span></span>

<span data-ttu-id="16da6-301">.NET Core tiene un alto rendimiento y ha puntuado bien en comparación con node. js y otras plataformas de la competencia.</span><span class="sxs-lookup"><span data-stu-id="16da6-301">.NET Core is highly performant and has scored well in comparison to Node.js and other competing platforms.</span></span> <span data-ttu-id="16da6-302">Curiosamente, [TechEmpower](https://www.techempower.com/) llevó a cabo un amplio conjunto de pruebas comparativas de [rendimiento](https://www.techempower.com/benchmarks/#section=data-r17&hw=ph&test=plaintext) en muchas plataformas y marcos de aplicaciones Web.</span><span class="sxs-lookup"><span data-stu-id="16da6-302">Interestingly, [TechEmpower](https://www.techempower.com/) conducted an extensive set of [performance benchmarks](https://www.techempower.com/benchmarks/#section=data-r17&hw=ph&test=plaintext) across many web application platforms and frameworks.</span></span> <span data-ttu-id="16da6-303">.NET Core puntuado en las 10 mejores versiones de node. js y en otras plataformas en competencia.</span><span class="sxs-lookup"><span data-stu-id="16da6-303">.NET Core scored in the top 10 - well above Node.js and other competing platforms.</span></span>

<span data-ttu-id="16da6-304">.NET Core es mantenido por Microsoft y la comunidad de .NET en GitHub.</span><span class="sxs-lookup"><span data-stu-id="16da6-304">.NET Core is maintained by Microsoft and the .NET community on GitHub.</span></span>

## <a name="containers"></a><span data-ttu-id="16da6-305">Contenedores</span><span class="sxs-lookup"><span data-stu-id="16da6-305">Containers</span></span>

<span data-ttu-id="16da6-306">En la actualidad, es natural oír el término *contenedor* mencionado en cualquier conversación con respecto a la *nube nativa*.</span><span class="sxs-lookup"><span data-stu-id="16da6-306">Nowadays, it's natural to hear the term *container* mentioned in any conversation concerning *cloud native*.</span></span> <span data-ttu-id="16da6-307">En el libro, los [modelos nativos](https://www.manning.com/books/cloud-native-patterns)en la nube, Author Cornelia Davis observa que "los contenedores son un excelente habilitador del software nativo de la nube".</span><span class="sxs-lookup"><span data-stu-id="16da6-307">In the book, [Cloud Native Patterns](https://www.manning.com/books/cloud-native-patterns), author Cornelia Davis observes that, "Containers are a great enabler of cloud-native software."</span></span> <span data-ttu-id="16da6-308">Cloud Native Computing Foundation coloca la inclusión de microservicios como primer paso en su [mapa final nativo de la nube](https://raw.githubusercontent.com/cncf/trailmap/master/CNCF_TrailMap_latest.png) para las empresas que comienzan su viaje nativo en la nube.</span><span class="sxs-lookup"><span data-stu-id="16da6-308">The Cloud Native Computing Foundation places microservice containerization as the first step in their [Cloud-Native Trail Map](https://raw.githubusercontent.com/cncf/trailmap/master/CNCF_TrailMap_latest.png) - guidance for enterprises beginning their cloud-native journey.</span></span>

<span data-ttu-id="16da6-309">El contenedor de un microservicio es sencillo y sencillo.</span><span class="sxs-lookup"><span data-stu-id="16da6-309">Containerizing a microservice is simple and straightforward.</span></span> <span data-ttu-id="16da6-310">El código, sus dependencias y el tiempo de ejecución se empaquetan en un archivo binario denominado [imagen de contenedor](https://docs.docker.com/glossary/?term=image).</span><span class="sxs-lookup"><span data-stu-id="16da6-310">The code, its dependencies, and runtime are packaged into a binary called a [container image](https://docs.docker.com/glossary/?term=image).</span></span> <span data-ttu-id="16da6-311">Las imágenes se almacenan en un [registro de contenedor](https://caylent.com/container-registries/), que actúa como un repositorio o una biblioteca de imágenes.</span><span class="sxs-lookup"><span data-stu-id="16da6-311">Images are stored in a [container registry](https://caylent.com/container-registries/), which acts as a repository or library for images.</span></span> <span data-ttu-id="16da6-312">Un registro puede encontrarse en el equipo de desarrollo, en el centro de datos o en una nube pública.</span><span class="sxs-lookup"><span data-stu-id="16da6-312">A registry can be located on your development computer, in your data center, or in a public cloud.</span></span> <span data-ttu-id="16da6-313">Docker mantiene un registro público a través de [Docker Hub](https://hub.docker.com/).</span><span class="sxs-lookup"><span data-stu-id="16da6-313">Docker itself maintains a public registry via [Docker Hub](https://hub.docker.com/).</span></span> <span data-ttu-id="16da6-314">La nube de Azure incluye un [registro de contenedor](https://azure.microsoft.com/services/container-registry/) para almacenar imágenes de contenedor cerca de las aplicaciones en la nube que las ejecutarán.</span><span class="sxs-lookup"><span data-stu-id="16da6-314">The Azure cloud features a [container registry](https://azure.microsoft.com/services/container-registry/) to store container images close to the cloud applications that will run them.</span></span>

<span data-ttu-id="16da6-315">Cuando sea necesario, transforme la imagen en una instancia de contenedor en ejecución.</span><span class="sxs-lookup"><span data-stu-id="16da6-315">When needed, you transform the image into a running container instance.</span></span> <span data-ttu-id="16da6-316">La instancia de se ejecuta en cualquier equipo que tenga instalado un motor de [tiempo de ejecución de contenedor](https://kubernetes.io/docs/setup/production-environment/container-runtimes/) .</span><span class="sxs-lookup"><span data-stu-id="16da6-316">The instance runs on any computer that has a [container runtime](https://kubernetes.io/docs/setup/production-environment/container-runtimes/) engine installed.</span></span> <span data-ttu-id="16da6-317">Puede tener tantas instancias del servicio en contenedor como sea necesario.</span><span class="sxs-lookup"><span data-stu-id="16da6-317">You can have as many instances of the containerized service as needed.</span></span>

<span data-ttu-id="16da6-318">En la figura 1-5 se muestran tres microservicios diferentes, cada uno en su propio contenedor, que se ejecuta en un solo host.</span><span class="sxs-lookup"><span data-stu-id="16da6-318">Figure 1-5 shows three different microservices, each in its own container, running on a single host.</span></span>

![Varios contenedores ejecutándose en un host de contenedor.](./media/hosting-mulitple-containers.png)

<span data-ttu-id="16da6-320">**Figura 1-5**.</span><span class="sxs-lookup"><span data-stu-id="16da6-320">**Figure 1-5**.</span></span> <span data-ttu-id="16da6-321">Varios contenedores ejecutándose en un host de contenedor.</span><span class="sxs-lookup"><span data-stu-id="16da6-321">Multiple containers running on a container host</span></span>

<span data-ttu-id="16da6-322">Observe cómo cada contenedor mantiene su propio conjunto de dependencias y tiempo de ejecución, que puede ser diferente.</span><span class="sxs-lookup"><span data-stu-id="16da6-322">Note how each container maintains its own set of dependencies and runtime, which can be different.</span></span> <span data-ttu-id="16da6-323">Aquí vemos diferentes versiones del microservicio de producto que se ejecutan en el mismo host.</span><span class="sxs-lookup"><span data-stu-id="16da6-323">Here, we see different versions of the Product microservice running on the same host.</span></span> <span data-ttu-id="16da6-324">Cada contenedor comparte un segmento del sistema operativo host, la memoria y el procesador subyacentes, pero está aislado entre sí.</span><span class="sxs-lookup"><span data-stu-id="16da6-324">Each container shares a slice of the underlying host operating system, memory, and processor, but is isolated from one another.</span></span>

<span data-ttu-id="16da6-325">Tenga en cuenta que el modelo de contenedor adopta el principio "dependencias" de la [aplicación de doce factores](https://12factor.net/).</span><span class="sxs-lookup"><span data-stu-id="16da6-325">Note how well the container model embraces the "Dependencies" principle from the [Twelve-Factor Application](https://12factor.net/).</span></span>

> <span data-ttu-id="16da6-326">*Factor \#2 especifica que "cada microservicio aísla y empaqueta sus propias dependencias, adoptando cambios sin afectar al sistema completo".*</span><span class="sxs-lookup"><span data-stu-id="16da6-326">*Factor \#2  specifies that "Each microservice isolates and packages its own dependencies, embracing changes without impacting the entire system."*</span></span>

<span data-ttu-id="16da6-327">Los contenedores admiten cargas de trabajo de Windows y Linux.</span><span class="sxs-lookup"><span data-stu-id="16da6-327">Containers support both Linux and Windows workloads.</span></span> <span data-ttu-id="16da6-328">La nube de Azure adopta ambos.</span><span class="sxs-lookup"><span data-stu-id="16da6-328">The Azure cloud openly embraces both.</span></span> <span data-ttu-id="16da6-329">Curiosamente, es Linux, no Windows Server, que se ha convertido en el sistema operativo más popular de Azure.</span><span class="sxs-lookup"><span data-stu-id="16da6-329">Interestingly, it's Linux, not Windows Server, that has become the most popular operating system in Azure.</span></span>

<span data-ttu-id="16da6-330">Aunque existen varios proveedores de contenedores, Docker ha capturado el recurso compartido del León.</span><span class="sxs-lookup"><span data-stu-id="16da6-330">While several container vendors exist, Docker has captured the lion's share of the market.</span></span> <span data-ttu-id="16da6-331">La compañía ha estado llevando el movimiento del contenedor de software.</span><span class="sxs-lookup"><span data-stu-id="16da6-331">The company has been driving the software container movement.</span></span> <span data-ttu-id="16da6-332">Se ha convertido en el estándar de facto para empaquetar, implementar y ejecutar aplicaciones nativas en la nube.</span><span class="sxs-lookup"><span data-stu-id="16da6-332">It has become the de facto standard for packaging, deploying, and running cloud-native applications.</span></span>

### <a name="why-containers"></a><span data-ttu-id="16da6-333">¿Por qué contenedores?</span><span class="sxs-lookup"><span data-stu-id="16da6-333">Why containers?</span></span>

<span data-ttu-id="16da6-334">Los contenedores proporcionan una portabilidad y garantizan la coherencia entre entornos.</span><span class="sxs-lookup"><span data-stu-id="16da6-334">Containers provide portability and guarantee consistency across environments.</span></span> <span data-ttu-id="16da6-335">Al encapsular todo en un único paquete, *aísla* el microservicio y sus dependencias de la infraestructura subyacente.</span><span class="sxs-lookup"><span data-stu-id="16da6-335">By encapsulating everything into a single package, you *isolate* the microservice and its dependencies from the underlying infrastructure.</span></span>

<span data-ttu-id="16da6-336">Puede implementar el mismo contenedor en cualquier entorno que tenga el motor de tiempo de ejecución de Docker.</span><span class="sxs-lookup"><span data-stu-id="16da6-336">You can deploy that same container in any environment that has the Docker runtime engine.</span></span> <span data-ttu-id="16da6-337">Las cargas de trabajo en contenedor también eliminan los gastos de la configuración previa de cada entorno con Marcos, bibliotecas de software y motores en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="16da6-337">Containerized workloads also eliminate the expense of pre-configuring each environment with frameworks, software libraries, and runtime engines.</span></span>

<span data-ttu-id="16da6-338">Al compartir el sistema operativo subyacente y los recursos de host, los contenedores tienen una superficie mucho menor que una máquina virtual completa.</span><span class="sxs-lookup"><span data-stu-id="16da6-338">By sharing the underlying operating system and host resources, containers have a much smaller footprint than a full virtual machine.</span></span> <span data-ttu-id="16da6-339">El tamaño más pequeño aumenta la *densidad*, o el número de microservicios, que un host determinado puede ejecutar al mismo tiempo.</span><span class="sxs-lookup"><span data-stu-id="16da6-339">The smaller size increases the *density*, or number of microservices, that a given host can run at one time.</span></span>

### <a name="container-orchestration"></a><span data-ttu-id="16da6-340">Orquestación de contenedores</span><span class="sxs-lookup"><span data-stu-id="16da6-340">Container orchestration</span></span>

<span data-ttu-id="16da6-341">Aunque herramientas como Docker crean imágenes y ejecutan contenedores, también se necesitan herramientas para administrarlas.</span><span class="sxs-lookup"><span data-stu-id="16da6-341">While tools such as Docker create images and run containers, you also need tools to manage them.</span></span> <span data-ttu-id="16da6-342">La administración de contenedores se realiza con un programa de software especial denominado orquestador de contenedores.</span><span class="sxs-lookup"><span data-stu-id="16da6-342">Container management is done with a special software program called a container orchestrator.</span></span> <span data-ttu-id="16da6-343">Cuando se trabaja a escala, la orquestación de contenedores es fundamental.</span><span class="sxs-lookup"><span data-stu-id="16da6-343">When operating at scale, container orchestration is essential.</span></span>

<span data-ttu-id="16da6-344">En la figura 1-6 se muestran las tareas de administración que proporcionan los orquestadores de contenedores.</span><span class="sxs-lookup"><span data-stu-id="16da6-344">Figure 1-6 shows management tasks that container orchestrators provide.</span></span>

![Qué hacen los orquestadores de contenedor](./media/what-container-orchestrators-do.png)

<span data-ttu-id="16da6-346">**Figura 1-6**.</span><span class="sxs-lookup"><span data-stu-id="16da6-346">**Figure 1-6**.</span></span> <span data-ttu-id="16da6-347">Qué hacen los orquestadores de contenedor</span><span class="sxs-lookup"><span data-stu-id="16da6-347">What container orchestrators do</span></span>

<span data-ttu-id="16da6-348">En la tabla siguiente se describen las tareas comunes de orquestación.</span><span class="sxs-lookup"><span data-stu-id="16da6-348">The following table describes common orchestration tasks.</span></span>

|  <span data-ttu-id="16da6-349">Tareas</span><span class="sxs-lookup"><span data-stu-id="16da6-349">Tasks</span></span> | <span data-ttu-id="16da6-350">Explicación</span><span class="sxs-lookup"><span data-stu-id="16da6-350">Explanation</span></span>  |
| :-------- | :-------- |
| <span data-ttu-id="16da6-351">Scheduling</span><span class="sxs-lookup"><span data-stu-id="16da6-351">Scheduling</span></span> | <span data-ttu-id="16da6-352">Aprovisionar automáticamente las instancias de contenedor.</span><span class="sxs-lookup"><span data-stu-id="16da6-352">Automatically provision container instances.</span></span>|
| <span data-ttu-id="16da6-353">Afinidad/antiafinidad</span><span class="sxs-lookup"><span data-stu-id="16da6-353">Affinity/anti-affinity</span></span> | <span data-ttu-id="16da6-354">Aprovisione contenedores cercanos o alejados entre sí, ayudando a la disponibilidad y al rendimiento.</span><span class="sxs-lookup"><span data-stu-id="16da6-354">Provision containers nearby or far apart from each other, helping  availability and performance.</span></span> |
| <span data-ttu-id="16da6-355">Supervisión del estado</span><span class="sxs-lookup"><span data-stu-id="16da6-355">Health monitoring</span></span> | <span data-ttu-id="16da6-356">Detectar y corregir errores automáticamente.</span><span class="sxs-lookup"><span data-stu-id="16da6-356">Automatically detect and correct failures.</span></span>|
| <span data-ttu-id="16da6-357">Conmutación por error</span><span class="sxs-lookup"><span data-stu-id="16da6-357">Failover</span></span> | <span data-ttu-id="16da6-358">Reaprovisionamiento automático de la instancia con errores en máquinas correctas.</span><span class="sxs-lookup"><span data-stu-id="16da6-358">Automatically reprovision failed instance to healthy machines.</span></span>|
| <span data-ttu-id="16da6-359">Ampliación</span><span class="sxs-lookup"><span data-stu-id="16da6-359">Scaling</span></span> | <span data-ttu-id="16da6-360">Agregue o quite automáticamente la instancia de contenedor para satisfacer la demanda.</span><span class="sxs-lookup"><span data-stu-id="16da6-360">Automatically add or remove container instance to meet demand.</span></span>|
| <span data-ttu-id="16da6-361">Redes</span><span class="sxs-lookup"><span data-stu-id="16da6-361">Networking</span></span> | <span data-ttu-id="16da6-362">Administrar una superposición de redes para la comunicación del contenedor.</span><span class="sxs-lookup"><span data-stu-id="16da6-362">Manage a networking overlay for container communication.</span></span>|
| <span data-ttu-id="16da6-363">Detección de servicios</span><span class="sxs-lookup"><span data-stu-id="16da6-363">Service Discovery</span></span> | <span data-ttu-id="16da6-364">Permite que los contenedores se localicen entre sí.</span><span class="sxs-lookup"><span data-stu-id="16da6-364">Enable containers to locate each other.</span></span>|
| <span data-ttu-id="16da6-365">Actualizaciones sucesivas</span><span class="sxs-lookup"><span data-stu-id="16da6-365">Rolling Upgrades</span></span> | <span data-ttu-id="16da6-366">Coordine actualizaciones incrementales con una implementación sin tiempo de inactividad.</span><span class="sxs-lookup"><span data-stu-id="16da6-366">Coordinate incremental upgrades with zero downtime deployment.</span></span> <span data-ttu-id="16da6-367">Revertir cambios problemáticos automáticamente.</span><span class="sxs-lookup"><span data-stu-id="16da6-367">Automatically roll back problematic changes.</span></span>|

<span data-ttu-id="16da6-368">Tenga en cuenta cómo los orquestadores adoptan los principios de eliminación y simultaneidad de la [aplicación de doce factores](https://12factor.net/), descritos anteriormente en el capítulo.</span><span class="sxs-lookup"><span data-stu-id="16da6-368">Note how orchestrators embrace the disposability and concurrency principles from the [Twelve-Factor Application](https://12factor.net/), discussed earlier in the chapter.</span></span>

> <span data-ttu-id="16da6-369">*Factor \#9 especifica que "las instancias de servicio deben ser descartables, lo que favorece el inicio rápido para aumentar las oportunidades de escalabilidad y cierres correctos para dejar el sistema en un estado correcto. Los contenedores de Docker junto con un orquestador satisfacen de forma inherente este requisito ".*</span><span class="sxs-lookup"><span data-stu-id="16da6-369">*Factor \#9  specifies that "Service instances should be disposable, favoring fast startups to increase scalability opportunities and graceful shutdowns to leave the system in a correct state. Docker containers along with an orchestrator inherently satisfy this requirement."*</span></span>

> <span data-ttu-id="16da6-370">*Factor \#8 especifica que "los servicios se escalan horizontalmente en un gran número de pequeños procesos idénticos (copias) en lugar de escalar verticalmente una única instancia grande en el equipo más eficaz disponible".*</span><span class="sxs-lookup"><span data-stu-id="16da6-370">*Factor \#8  specifies that "Services scale out across a large number of small identical processes (copies) as opposed to scaling-up a single large instance on the most powerful machine available."*</span></span>

<span data-ttu-id="16da6-371">Aunque existen varios orquestadores de contenedor, [Kubernetes](https://kubernetes.io/docs/concepts/overview/what-is-kubernetes/) se ha convertido en el estándar de facto para el mundo nativo de la nube.</span><span class="sxs-lookup"><span data-stu-id="16da6-371">While several container orchestrators exist, [Kubernetes](https://kubernetes.io/docs/concepts/overview/what-is-kubernetes/) has become the de facto standard for the cloud-native world.</span></span> <span data-ttu-id="16da6-372">Es una plataforma portátil, extensible y de código abierto para administrar cargas de trabajo en contenedores.</span><span class="sxs-lookup"><span data-stu-id="16da6-372">It's a portable, extensible, open-source platform for managing containerized workloads.</span></span>

<span data-ttu-id="16da6-373">Podría hospedar su propia instancia de Kubernetes, pero entonces debería ser responsable de aprovisionar y administrar sus recursos, lo que puede ser complejo.</span><span class="sxs-lookup"><span data-stu-id="16da6-373">You could host your own instance of Kubernetes, but then you'd be responsible for provisioning and managing its resources - which can be complex.</span></span> <span data-ttu-id="16da6-374">Las características de la nube de Azure Kubernetes como un servicio administrado, [Azure Kubernetes Service (AKS)](https://azure.microsoft.com/services/kubernetes-service/).</span><span class="sxs-lookup"><span data-stu-id="16da6-374">The Azure cloud features Kubernetes as a managed service, [Azure Kubernetes Service (AKS)](https://azure.microsoft.com/services/kubernetes-service/).</span></span> <span data-ttu-id="16da6-375">Un servicio administrado le permite sacar el máximo partido de sus características, sin tener que instalarlas y mantenerlas.</span><span class="sxs-lookup"><span data-stu-id="16da6-375">A managed service allows you to fully leverage its features, without having to install and maintain it.</span></span>

<span data-ttu-id="16da6-376">Azure Kubernetes Services se describe en el capítulo 2 sobre *el escalado de aplicaciones nativas de la nube*.</span><span class="sxs-lookup"><span data-stu-id="16da6-376">Azure Kubernetes Services is covered in detail Chapter 2, *Scaling Cloud-Native Applications*.</span></span>

## <a name="backing-services"></a><span data-ttu-id="16da6-377">Servicios de respaldo</span><span class="sxs-lookup"><span data-stu-id="16da6-377">Backing services</span></span>

<span data-ttu-id="16da6-378">Los sistemas nativos en la nube dependen de muchos recursos auxiliares distintos, como almacenes de datos, agentes de mensajes, supervisión y servicios de identidad.</span><span class="sxs-lookup"><span data-stu-id="16da6-378">Cloud-native systems depend upon many different ancillary resources, such as data stores, message brokers, monitoring, and identity services.</span></span> <span data-ttu-id="16da6-379">Estos servicios se conocen como [servicios de respaldo](https://12factor.net/backing-services).</span><span class="sxs-lookup"><span data-stu-id="16da6-379">These services are known as [backing services](https://12factor.net/backing-services).</span></span>

 <span data-ttu-id="16da6-380">En la figura 1-7 se muestran muchos servicios de respaldo comunes que consumen los sistemas nativos en la nube.</span><span class="sxs-lookup"><span data-stu-id="16da6-380">Figure 1-7 shows many common backing services that cloud-native systems consume.</span></span>

![Servicios comunes de respaldo](./media/common-backing-services.png)

<span data-ttu-id="16da6-382">**Figura 1-7**.</span><span class="sxs-lookup"><span data-stu-id="16da6-382">**Figure 1-7**.</span></span> <span data-ttu-id="16da6-383">Servicios comunes de respaldo</span><span class="sxs-lookup"><span data-stu-id="16da6-383">Common backing services</span></span>

<span data-ttu-id="16da6-384">Los servicios de respaldo promocionan el principio "Estados" de la [aplicación de doce factores](https://12factor.net/), que se explicó anteriormente en el capítulo.</span><span class="sxs-lookup"><span data-stu-id="16da6-384">Backing services promote the "Statelessness" principle from the [Twelve-Factor Application](https://12factor.net/), discussed earlier in the chapter.</span></span>

><span data-ttu-id="16da6-385">*Factor \#6* especifica que "cada microservicio debe ejecutarse en su propio proceso, aislado de otros servicios en ejecución.</span><span class="sxs-lookup"><span data-stu-id="16da6-385">*Factor \#6* specifies that, "Each microservice should execute in its own process, isolated from other running services.</span></span> <span data-ttu-id="16da6-386">Externalizar el estado necesario para un servicio de respaldo, como una caché distribuida o un almacén de datos ".</span><span class="sxs-lookup"><span data-stu-id="16da6-386">Externalize required state to a backing service such as a distributed cache or data store."</span></span>

<span data-ttu-id="16da6-387">Podría hospedar sus propios servicios de respaldo, pero a continuación se responsabilizaría de la concesión de licencias, el aprovisionamiento y la administración de esos recursos.</span><span class="sxs-lookup"><span data-stu-id="16da6-387">You could host your own backing services, but then you'd be responsible for licensing, provisioning, and managing those resources.</span></span>

<span data-ttu-id="16da6-388">Los proveedores de nube ofrecen una amplia variedad de *servicios de respaldo administrados.*</span><span class="sxs-lookup"><span data-stu-id="16da6-388">Cloud providers offer a rich assortment of *managed backing services.*</span></span> <span data-ttu-id="16da6-389">En lugar de poseer el servicio, simplemente se usa.</span><span class="sxs-lookup"><span data-stu-id="16da6-389">Instead of owning the service, you simply consume it.</span></span> <span data-ttu-id="16da6-390">El proveedor opera el recurso a escala y asume la responsabilidad del rendimiento, la seguridad y el mantenimiento.</span><span class="sxs-lookup"><span data-stu-id="16da6-390">The provider operates the resource at scale and bears the responsibility for performance, security, and maintenance.</span></span> <span data-ttu-id="16da6-391">La supervisión, la redundancia y la disponibilidad están integradas en el servicio.</span><span class="sxs-lookup"><span data-stu-id="16da6-391">Monitoring, redundancy, and availability are built into the service.</span></span> <span data-ttu-id="16da6-392">Los proveedores son totalmente compatibles con sus servicios administrados. Abra un vale y solucione el problema.</span><span class="sxs-lookup"><span data-stu-id="16da6-392">Providers fully support their managed services - open a ticket and they fix your issue.</span></span>

<span data-ttu-id="16da6-393">Los sistemas nativos en la nube favorecen los servicios de respaldo administrados de los proveedores de la nube.</span><span class="sxs-lookup"><span data-stu-id="16da6-393">Cloud-native systems favor managed backing services from cloud vendors.</span></span> <span data-ttu-id="16da6-394">El ahorro en el tiempo y la mano de obra son excelentes.</span><span class="sxs-lookup"><span data-stu-id="16da6-394">The savings in time and labor are great.</span></span> <span data-ttu-id="16da6-395">El riesgo operativo de hospedar el suyo propio y experimentar problemas puede resultar caro.</span><span class="sxs-lookup"><span data-stu-id="16da6-395">The operational risk of hosting your own and experiencing trouble can get expensive fast.</span></span>

<span data-ttu-id="16da6-396">Un procedimiento recomendado consiste en tratar un servicio de respaldo como un *recurso adjunto*, enlazado dinámicamente a un microservicio con información (una dirección URL y credenciales) almacenada en una configuración externa.</span><span class="sxs-lookup"><span data-stu-id="16da6-396">A best practice is to treat a backing service as an *attached resource*, dynamically bound to a microservice with information (a URL and credentials) stored in an external configuration.</span></span> <span data-ttu-id="16da6-397">Esta guía se ha escrito en la [aplicación de doce factores](https://12factor.net/), descrita anteriormente en el capítulo.</span><span class="sxs-lookup"><span data-stu-id="16da6-397">This guidance is spelled out in the [Twelve-Factor Application](https://12factor.net/), discussed earlier in the chapter.</span></span>

><span data-ttu-id="16da6-398">*Factor \#4* especifica que los servicios de respaldo deben exponerse a través de una dirección URL direccionable.</span><span class="sxs-lookup"><span data-stu-id="16da6-398">*Factor \#4* specifies that backing services "should be exposed via an addressable URL.</span></span> <span data-ttu-id="16da6-399">Al hacerlo, se desacopla el recurso de la aplicación, lo que permite que sea intercambiable. "</span><span class="sxs-lookup"><span data-stu-id="16da6-399">Doing so decouples the resource from the application, enabling it to be interchangeable."</span></span>

><span data-ttu-id="16da6-400">*Factor \#3* especifica que "la información de configuración se mueve fuera del microservicio y se externaliza a través de una herramienta de administración de configuración fuera del código".</span><span class="sxs-lookup"><span data-stu-id="16da6-400">*Factor \#3* specifies that "Configuration information is moved out of the microservice and externalized through a configuration management tool outside of the code."</span></span>

<span data-ttu-id="16da6-401">Con este patrón, un servicio de respaldo se puede adjuntar y separar sin cambios de código.</span><span class="sxs-lookup"><span data-stu-id="16da6-401">With this pattern, a backing service can be attached and detached without code changes.</span></span> <span data-ttu-id="16da6-402">Puede promover un microservicio de QA a un entorno de ensayo.</span><span class="sxs-lookup"><span data-stu-id="16da6-402">You might promote a microservice from QA to a staging environment.</span></span> <span data-ttu-id="16da6-403">Actualice la configuración del microservicio para que apunte a los servicios de respaldo en el almacenamiento provisional e inserte la configuración en el contenedor a través de una variable de entorno.</span><span class="sxs-lookup"><span data-stu-id="16da6-403">You update the microservice configuration to point to the backing services in staging and inject the settings into your container through an environment variable.</span></span>

<span data-ttu-id="16da6-404">Los proveedores de nube proporcionan las API para que pueda comunicarse con sus servicios de respaldo.</span><span class="sxs-lookup"><span data-stu-id="16da6-404">Cloud vendors provide APIs for you to communicate with their proprietary backing services.</span></span> <span data-ttu-id="16da6-405">Estas bibliotecas encapsulan la infraestructura y la complejidad.</span><span class="sxs-lookup"><span data-stu-id="16da6-405">These libraries encapsulate the plumbing and complexity.</span></span> <span data-ttu-id="16da6-406">La comunicación directa con estas API acoplará estrechamente el código al servicio de respaldo.</span><span class="sxs-lookup"><span data-stu-id="16da6-406">Communicating directly with these APIs will tightly couple your code to the backing service.</span></span> <span data-ttu-id="16da6-407">Es aconsejable aislar los detalles de implementación de la API del proveedor.</span><span class="sxs-lookup"><span data-stu-id="16da6-407">It's a better practice to insulate the implementation details of the vendor API.</span></span> <span data-ttu-id="16da6-408">Introduzca una capa de intermediación, o una API intermedia, que exponga las operaciones genéricas en el código de servicio.</span><span class="sxs-lookup"><span data-stu-id="16da6-408">Introduce an intermediation layer, or intermediate API, exposing generic operations to your service code.</span></span> <span data-ttu-id="16da6-409">Este acoplamiento flexible le permite intercambiar un servicio de respaldo para otro o trasladar el código a una nube pública diferente sin tener que realizar cambios en el código del servicio principal.</span><span class="sxs-lookup"><span data-stu-id="16da6-409">This loose coupling enables you to swap out one backing service for another or move your code to a different public cloud without having to make changes to the mainline service code.</span></span>

<span data-ttu-id="16da6-410">Los servicios de respaldo se describen en el capítulo 5 de detalle, *patrones de datos nativos de la nube*y el capítulo 4, *patrones de comunicación nativa en la nube*.</span><span class="sxs-lookup"><span data-stu-id="16da6-410">Backing services are discussed in detail Chapter 5, *Cloud-Native Data Patterns*, and Chapter 4, *Cloud-Native Communication Patterns*.</span></span>

## <a name="automation"></a><span data-ttu-id="16da6-411">Automation</span><span class="sxs-lookup"><span data-stu-id="16da6-411">Automation</span></span>

<span data-ttu-id="16da6-412">Como ha visto, los sistemas nativos en la nube adoptan microservicios, contenedores y un diseño moderno del sistema para lograr la velocidad y la agilidad.</span><span class="sxs-lookup"><span data-stu-id="16da6-412">As you've seen, cloud-native systems embrace microservices, containers, and modern system design to achieve speed and agility.</span></span> <span data-ttu-id="16da6-413">Pero eso es solo parte de la historia.</span><span class="sxs-lookup"><span data-stu-id="16da6-413">But, that's only part of the story.</span></span> <span data-ttu-id="16da6-414">¿Cómo se aprovisionan los entornos de nube en los que se ejecutan estos sistemas?</span><span class="sxs-lookup"><span data-stu-id="16da6-414">How do you provision the cloud environments upon which these systems run?</span></span> <span data-ttu-id="16da6-415">¿Cómo se implementan rápidamente características y actualizaciones de aplicaciones?</span><span class="sxs-lookup"><span data-stu-id="16da6-415">How do you rapidly deploy app features and updates?</span></span> <span data-ttu-id="16da6-416">¿Cómo se redondea la imagen completa?</span><span class="sxs-lookup"><span data-stu-id="16da6-416">How do you round out the full picture?</span></span>

<span data-ttu-id="16da6-417">Escriba la práctica ampliamente aceptada de [infraestructura como código](https://docs.microsoft.com/azure/devops/learn/what-is-infrastructure-as-code)o IaC.</span><span class="sxs-lookup"><span data-stu-id="16da6-417">Enter the widely accepted practice of [Infrastructure as Code](https://docs.microsoft.com/azure/devops/learn/what-is-infrastructure-as-code), or IaC.</span></span>

<span data-ttu-id="16da6-418">Con IaC, puede automatizar el aprovisionamiento de plataforma y la implementación de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="16da6-418">With IaC, you automate platform provisioning and application deployment.</span></span> <span data-ttu-id="16da6-419">Esencialmente, aplica prácticas de ingeniería de software, como pruebas y control de versiones a las prácticas de DevOps.</span><span class="sxs-lookup"><span data-stu-id="16da6-419">You essentially apply software engineering practices such as testing and versioning to your DevOps practices.</span></span> <span data-ttu-id="16da6-420">La infraestructura y las implementaciones son automatizadas, coherentes y repetibles.</span><span class="sxs-lookup"><span data-stu-id="16da6-420">Your infrastructure and deployments are automated, consistent, and repeatable.</span></span>

### <a name="automating-infrastructure"></a><span data-ttu-id="16da6-421">Automatización de la infraestructura</span><span class="sxs-lookup"><span data-stu-id="16da6-421">Automating infrastructure</span></span>

<span data-ttu-id="16da6-422">Herramientas como [Azure Resource Manager](https://azure.microsoft.com/documentation/articles/resource-group-overview/), terraform y el [CLI de Azure](https://docs.microsoft.com/cli/azure/)le permiten crear un script de la infraestructura de la nube que necesita mediante declaración.</span><span class="sxs-lookup"><span data-stu-id="16da6-422">Tools like [Azure Resource Manager](https://azure.microsoft.com/documentation/articles/resource-group-overview/), Terraform, and the [Azure CLI](https://docs.microsoft.com/cli/azure/), enable you to declaratively script the cloud infrastructure you require.</span></span> <span data-ttu-id="16da6-423">Los nombres de los recursos, las ubicaciones, las capacidades y los secretos son parametrizados y dinámicos.</span><span class="sxs-lookup"><span data-stu-id="16da6-423">Resource names, locations, capacities, and secrets are parameterized and dynamic.</span></span> <span data-ttu-id="16da6-424">El script tiene versiones y se protege en el control de código fuente como un artefacto del proyecto.</span><span class="sxs-lookup"><span data-stu-id="16da6-424">The script is versioned and checked into source control as an artifact of your project.</span></span> <span data-ttu-id="16da6-425">El script se invoca para aprovisionar una infraestructura coherente y repetible entre entornos del sistema, como el QA, el ensayo y la producción.</span><span class="sxs-lookup"><span data-stu-id="16da6-425">You invoke the script to provision a consistent and repeatable infrastructure across system environments, such as QA, staging, and production.</span></span>

<span data-ttu-id="16da6-426">En el capó, IaC es idempotente, lo que significa que puede ejecutar el mismo script una y otra vez sin efectos secundarios.</span><span class="sxs-lookup"><span data-stu-id="16da6-426">Under the hood, IaC is idempotent, meaning that you can run the same script over and over without side effects.</span></span> <span data-ttu-id="16da6-427">Si el equipo necesita efectuar un cambio, edite y vuelva a ejecutar el script.</span><span class="sxs-lookup"><span data-stu-id="16da6-427">If the team needs to make a change, they edit and rerun the script.</span></span> <span data-ttu-id="16da6-428">Solo se ven afectados los recursos actualizados.</span><span class="sxs-lookup"><span data-stu-id="16da6-428">Only the updated resources are affected.</span></span>

<span data-ttu-id="16da6-429">En el artículo [¿Qué es la infraestructura como código](https://docs.microsoft.com/azure/devops/learn/what-is-infrastructure-as-code)? Author Sam Guckenheimer describe cómo "los equipos que implementan IaC pueden ofrecer entornos estables rápidamente y a escala.</span><span class="sxs-lookup"><span data-stu-id="16da6-429">In the article, [What is Infrastructure as Code](https://docs.microsoft.com/azure/devops/learn/what-is-infrastructure-as-code), Author Sam Guckenheimer describes how, "Teams who implement IaC can deliver stable environments rapidly and at scale.</span></span> <span data-ttu-id="16da6-430">Los equipos evitan la configuración manual de los entornos y aplican la coherencia al representar el estado deseado de sus entornos a través del código.</span><span class="sxs-lookup"><span data-stu-id="16da6-430">Teams avoid manual configuration of environments and enforce consistency by representing the desired state of their environments via code.</span></span> <span data-ttu-id="16da6-431">Las implementaciones de infraestructura con IaC se pueden repetir y evitan problemas en tiempo de ejecución causados por el desfase de la configuración o las dependencias que faltan.</span><span class="sxs-lookup"><span data-stu-id="16da6-431">Infrastructure deployments with IaC are repeatable and prevent runtime issues caused by configuration drift or missing dependencies.</span></span> <span data-ttu-id="16da6-432">Los equipos de DevOps pueden trabajar junto con un conjunto unificado de prácticas y herramientas para ofrecer aplicaciones y su infraestructura de soporte de forma rápida, confiable y a escala ".</span><span class="sxs-lookup"><span data-stu-id="16da6-432">DevOps teams can work together with a unified set of practices and tools to deliver applications and their supporting infrastructure rapidly, reliably, and at scale."</span></span>

### <a name="automating-deployments"></a><span data-ttu-id="16da6-433">Automatizar implementaciones</span><span class="sxs-lookup"><span data-stu-id="16da6-433">Automating deployments</span></span>

<span data-ttu-id="16da6-434">La [aplicación de doce factores](https://12factor.net/), descrita anteriormente, llama a pasos independientes al transformar el código completado en una aplicación en ejecución.</span><span class="sxs-lookup"><span data-stu-id="16da6-434">The [Twelve-Factor Application](https://12factor.net/), discussed earlier, calls for separate steps when transforming completed code into a running application.</span></span>

> <span data-ttu-id="16da6-435">*Factor \#5* especifica que "cada versión debe exigir una separación estricta entre las fases de compilación, lanzamiento y ejecución.</span><span class="sxs-lookup"><span data-stu-id="16da6-435">*Factor \#5* specifies that "Each release must enforce a strict separation across the build, release and run stages.</span></span> <span data-ttu-id="16da6-436">Cada una debe etiquetarse con un identificador único y admitir la capacidad de revertir ".</span><span class="sxs-lookup"><span data-stu-id="16da6-436">Each should be tagged with a unique ID and support the ability to roll back."</span></span>

<span data-ttu-id="16da6-437">Los sistemas de CI/CD modernos ayudan a completar este principio.</span><span class="sxs-lookup"><span data-stu-id="16da6-437">Modern CI/CD systems help fulfill this principle.</span></span> <span data-ttu-id="16da6-438">Proporcionan pasos de implementación independientes y ayudan a garantizar un código coherente y de calidad que esté disponible para los usuarios.</span><span class="sxs-lookup"><span data-stu-id="16da6-438">They provide separate deployment steps and help ensure consistent and quality code that's readily available to users.</span></span>

<span data-ttu-id="16da6-439">En la figura 1-8 se muestra la separación en todo el proceso de implementación.</span><span class="sxs-lookup"><span data-stu-id="16da6-439">Figure 1-8 shows the separation across the deployment process.</span></span>

![Pasos de las implementaciones en la canalización de CI/CD](./media/build-release-run-pipeline.png)

<span data-ttu-id="16da6-441">**Figura 1-8**.</span><span class="sxs-lookup"><span data-stu-id="16da6-441">**Figure 1-8**.</span></span> <span data-ttu-id="16da6-442">Pasos de implementación en una canalización de CI/CD</span><span class="sxs-lookup"><span data-stu-id="16da6-442">Deployment steps in a CI/CD Pipeline</span></span>

<span data-ttu-id="16da6-443">En la ilustración anterior, preste especial atención a la separación de tareas.</span><span class="sxs-lookup"><span data-stu-id="16da6-443">In the previous figure, pay special attention to separation of tasks.</span></span>

<span data-ttu-id="16da6-444">El desarrollador crea una característica en su entorno de desarrollo, que recorre en iteración lo que se denomina "bucle interno" del código, la ejecución y la depuración.</span><span class="sxs-lookup"><span data-stu-id="16da6-444">The developer constructs a feature in their development environment, iterating through what is called the "inner loop" of code, run, and debug.</span></span> <span data-ttu-id="16da6-445">Cuando haya finalizado, ese código se *inserta* en un repositorio de código, como github, Azure DevOps o BitBucket.</span><span class="sxs-lookup"><span data-stu-id="16da6-445">When complete, that code is *pushed* into a code repository, such as GitHub, Azure DevOps, or BitBucket.</span></span>

<span data-ttu-id="16da6-446">La inserciones desencadena una fase de compilación que transforma el código en un artefacto binario.</span><span class="sxs-lookup"><span data-stu-id="16da6-446">The push triggers a build stage that transforms the code into a binary artifact.</span></span> <span data-ttu-id="16da6-447">El trabajo se implementa con una canalización de [integración continua (CI)](https://martinfowler.com/articles/continuousIntegration.html) .</span><span class="sxs-lookup"><span data-stu-id="16da6-447">The work is implemented with a [Continuous Integration (CI)](https://martinfowler.com/articles/continuousIntegration.html) pipeline.</span></span> <span data-ttu-id="16da6-448">Compila, prueba y empaqueta la aplicación automáticamente.</span><span class="sxs-lookup"><span data-stu-id="16da6-448">It automatically builds, tests, and packages the application.</span></span>

<span data-ttu-id="16da6-449">En la fase de lanzamiento se recoge el artefacto binario, se aplica la información de configuración del entorno y la aplicación externa, y se genera una versión inmutable.</span><span class="sxs-lookup"><span data-stu-id="16da6-449">The release stage picks up the binary artifact, applies external application and environment configuration information, and produces an immutable release.</span></span> <span data-ttu-id="16da6-450">La versión se implementa en un entorno especificado.</span><span class="sxs-lookup"><span data-stu-id="16da6-450">The release is deployed to a specified environment.</span></span> <span data-ttu-id="16da6-451">El trabajo se implementa con una canalización de [entrega continua (CD)](https://martinfowler.com/bliki/ContinuousDelivery.html) .</span><span class="sxs-lookup"><span data-stu-id="16da6-451">The work is implemented with a [Continuous Delivery(CD)](https://martinfowler.com/bliki/ContinuousDelivery.html) pipeline.</span></span> <span data-ttu-id="16da6-452">Cada versión debe ser identificable.</span><span class="sxs-lookup"><span data-stu-id="16da6-452">Each release should be identifiable.</span></span> <span data-ttu-id="16da6-453">Puede decir que "esta implementación está ejecutando la versión 2.1.1 de la aplicación".</span><span class="sxs-lookup"><span data-stu-id="16da6-453">You can say, "This deployment is running Release 2.1.1 of the application."</span></span>

<span data-ttu-id="16da6-454">Por último, la característica publicada se ejecuta en el entorno de ejecución de destino.</span><span class="sxs-lookup"><span data-stu-id="16da6-454">Finally, the released feature is run in the target execution environment.</span></span> <span data-ttu-id="16da6-455">Las versiones son inmutables, lo que significa que cualquier cambio debe crear una nueva versión.</span><span class="sxs-lookup"><span data-stu-id="16da6-455">Releases are immutable meaning that any change must create a new release.</span></span>

<span data-ttu-id="16da6-456">Al aplicar estos procedimientos, las organizaciones han evolucionado radicalmente el modo en que envían el software.</span><span class="sxs-lookup"><span data-stu-id="16da6-456">Applying these practices, organizations have radically evolved how they ship software.</span></span> <span data-ttu-id="16da6-457">Muchos se han pasado de las versiones trimestrales a las actualizaciones a petición.</span><span class="sxs-lookup"><span data-stu-id="16da6-457">Many have moved from quarterly releases to on-demand updates.</span></span> <span data-ttu-id="16da6-458">El objetivo es detectar los problemas al principio del ciclo de desarrollo cuando son menos costosos de corregir.</span><span class="sxs-lookup"><span data-stu-id="16da6-458">The goal is to catch problems early in the development cycle when they're less expensive to fix.</span></span> <span data-ttu-id="16da6-459">Cuanto mayor sea la duración entre integraciones, más caros serán los problemas que se resuelvan.</span><span class="sxs-lookup"><span data-stu-id="16da6-459">The longer the duration between integrations, the more expensive problems become to resolve.</span></span>  <span data-ttu-id="16da6-460">Con coherencia en el proceso de integración, los equipos pueden confirmar los cambios de código con más frecuencia, con lo que se mejora la colaboración y la calidad del software.</span><span class="sxs-lookup"><span data-stu-id="16da6-460">With consistency in the integration process, teams can commit code changes more frequently, leading to better collaboration and software quality.</span></span>

### <a name="azure-pipelines"></a><span data-ttu-id="16da6-461">Azure Pipelines</span><span class="sxs-lookup"><span data-stu-id="16da6-461">Azure Pipelines</span></span>

<span data-ttu-id="16da6-462">La nube de Azure incluye un nuevo servicio de CI/CD titulado [Azure pipelines](https://azure.microsoft.com/services/devops/pipelines/), que forma parte de la oferta [DevOps de Azure](https://azure.microsoft.com/services/devops/) que se muestra en la figura 1-9.</span><span class="sxs-lookup"><span data-stu-id="16da6-462">The Azure cloud includes a new CI/CD service entitled [Azure Pipelines](https://azure.microsoft.com/services/devops/pipelines/), which is part of the [Azure DevOps](https://azure.microsoft.com/services/devops/) offering shown in Figure 1-9.</span></span>

![Azure Pipelines en DevOps](./media/devops-components.png)

<span data-ttu-id="16da6-464">**Figura 1-9**.</span><span class="sxs-lookup"><span data-stu-id="16da6-464">**Figure 1-9**.</span></span> <span data-ttu-id="16da6-465">Ofertas de Azure DevOps</span><span class="sxs-lookup"><span data-stu-id="16da6-465">Azure DevOps offerings</span></span>

<span data-ttu-id="16da6-466">Azure Pipelines es un servicio en la nube que combina la integración continua (CI) y la entrega continua (CD).</span><span class="sxs-lookup"><span data-stu-id="16da6-466">Azure Pipelines is a cloud service that combines continuous integration (CI) and continuous delivery (CD).</span></span> <span data-ttu-id="16da6-467">Puede probar, compilar y enviar automáticamente el código a cualquier destino.</span><span class="sxs-lookup"><span data-stu-id="16da6-467">You can automatically test, build, and ship your code to any target.</span></span>

<span data-ttu-id="16da6-468">La canalización se define en el código de un archivo YAML junto con el resto del código de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="16da6-468">You define your pipeline in code in a YAML file alongside the rest of the code for your app.</span></span>

- <span data-ttu-id="16da6-469">La versión de la canalización tiene el código y sigue la misma estructura de bifurcación.</span><span class="sxs-lookup"><span data-stu-id="16da6-469">The pipeline is versioned with your code and follows the same branching structure.</span></span>
- <span data-ttu-id="16da6-470">La validación de los cambios se realiza a través de las revisiones de código de las solicitudes de extracción y las directivas de compilación de rama.</span><span class="sxs-lookup"><span data-stu-id="16da6-470">You get validation of your changes through code reviews in pull requests and branch build policies.</span></span>
- <span data-ttu-id="16da6-471">Cada rama que use puede personalizar la Directiva de compilación modificando el archivo Azure-pipelines. yml.</span><span class="sxs-lookup"><span data-stu-id="16da6-471">Every branch you use can customize the build policy by modifying the azure-pipelines.yml file.</span></span>
- <span data-ttu-id="16da6-472">El archivo de canalización se protege en el control de versiones y se puede investigar si hay un problema.</span><span class="sxs-lookup"><span data-stu-id="16da6-472">The pipeline file is checked into version control and can be investigated if there's a problem.</span></span>

<span data-ttu-id="16da6-473">El servicio Azure Pipelines es compatible con la mayoría de los proveedores de Git y puede generar canalizaciones de implementación para aplicaciones escritas en las plataformas Linux, macOS o Windows.</span><span class="sxs-lookup"><span data-stu-id="16da6-473">The Azure Pipelines service supports most Git providers and can generate deployment pipelines for applications written on the Linux, macOS, or Windows platforms.</span></span> <span data-ttu-id="16da6-474">Incluye compatibilidad con Java, .NET, JavaScript, Python, PHP, Go, XCode y C++.</span><span class="sxs-lookup"><span data-stu-id="16da6-474">It includes support for Java, .NET, JavaScript, Python, PHP, Go, XCode, and C++.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="16da6-475">[Anterior](introduction.md)
>[Siguiente](candidate-apps.md)</span><span class="sxs-lookup"><span data-stu-id="16da6-475">[Previous](introduction.md)
[Next](candidate-apps.md)</span></span>
