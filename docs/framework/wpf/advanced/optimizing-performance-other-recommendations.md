---
title: 'Optimizar el rendimiento: Otras recomendaciones'
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- Terminal Services rendering [WPF]
- opacity [WPF]
- hit-test objects [WPF]
- ScrollBarVisibility enumeration [WPF]
- brushes [WPF], performance
ms.assetid: d028cc65-7e97-4a4f-9859-929734eaf40d
ms.openlocfilehash: b6d99d90a3da232e1873ebe8433e01ceb2977de6
ms.sourcegitcommit: 7bc6887ab658550baa78f1520ea735838249345e
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/03/2020
ms.locfileid: "75636437"
---
# <a name="optimizing-performance-other-recommendations"></a><span data-ttu-id="07207-102">Optimizar el rendimiento: Otras recomendaciones</span><span class="sxs-lookup"><span data-stu-id="07207-102">Optimizing Performance: Other Recommendations</span></span>
<a name="introduction"></a> <span data-ttu-id="07207-103">En este tema se proporcionan recomendaciones de rendimiento, además de las que se incluyen en los temas de la sección [Optimizar WPF: Rendimiento de aplicaciones](optimizing-wpf-application-performance.md).</span><span class="sxs-lookup"><span data-stu-id="07207-103">This topic provides performance recommendations in addition to the ones covered by the topics in the [Optimizing WPF Application Performance](optimizing-wpf-application-performance.md) section.</span></span>  
  
 <span data-ttu-id="07207-104">Este tema contiene las siguientes secciones:</span><span class="sxs-lookup"><span data-stu-id="07207-104">This topic contains the following sections:</span></span>  
  
- [<span data-ttu-id="07207-105">Opacidad en pinceles frente a opacidad en elementos</span><span class="sxs-lookup"><span data-stu-id="07207-105">Opacity on Brushes Versus Opacity on Elements</span></span>](#Opacity)  
  
- [<span data-ttu-id="07207-106">Navegación al objeto</span><span class="sxs-lookup"><span data-stu-id="07207-106">Navigation to Object</span></span>](#Navigation_Objects)  
  
- [<span data-ttu-id="07207-107">Comprobación de visitas en superficies 3D de gran tamaño</span><span class="sxs-lookup"><span data-stu-id="07207-107">Hit Testing on Large 3D Surfaces</span></span>](#Hit_Testing)  
  
- [<span data-ttu-id="07207-108">Evento CompositionTarget.Rendering</span><span class="sxs-lookup"><span data-stu-id="07207-108">CompositionTarget.Rendering Event</span></span>](#CompositionTarget_Rendering_Event)  
  
- [<span data-ttu-id="07207-109">Evitar usar ScrollBarVisibility=Auto</span><span class="sxs-lookup"><span data-stu-id="07207-109">Avoid Using ScrollBarVisibility=Auto</span></span>](#Avoid_Using_ScrollBarVisibility)  
  
- [<span data-ttu-id="07207-110">Configurar el servicio de caché de fuente para reducir el tiempo de inicio</span><span class="sxs-lookup"><span data-stu-id="07207-110">Configure Font Cache Service to Reduce Start-up Time</span></span>](#FontCache)  
  
<a name="Opacity"></a>   
## <a name="opacity-on-brushes-versus-opacity-on-elements"></a><span data-ttu-id="07207-111">Opacidad en pinceles frente a opacidad en elementos</span><span class="sxs-lookup"><span data-stu-id="07207-111">Opacity on Brushes Versus Opacity on Elements</span></span>  
 <span data-ttu-id="07207-112">Cuando se usa un <xref:System.Windows.Media.Brush> para establecer el <xref:System.Windows.Shapes.Shape.Fill%2A> o <xref:System.Windows.Shapes.Shape.Stroke%2A> de un elemento, es mejor establecer el valor <xref:System.Windows.Media.Brush.Opacity%2A?displayProperty=nameWithType> en lugar de establecer la propiedad <xref:System.Windows.UIElement.Opacity%2A> del elemento.</span><span class="sxs-lookup"><span data-stu-id="07207-112">When you use a <xref:System.Windows.Media.Brush> to set the <xref:System.Windows.Shapes.Shape.Fill%2A> or <xref:System.Windows.Shapes.Shape.Stroke%2A> of an element, it is better to set the <xref:System.Windows.Media.Brush.Opacity%2A?displayProperty=nameWithType> value rather than the setting the element's <xref:System.Windows.UIElement.Opacity%2A> property.</span></span> <span data-ttu-id="07207-113">La modificación de la propiedad <xref:System.Windows.UIElement.Opacity%2A> de un elemento puede hacer que [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] cree una superficie temporal.</span><span class="sxs-lookup"><span data-stu-id="07207-113">Modifying an element's <xref:System.Windows.UIElement.Opacity%2A> property can cause [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] to create a temporary surface.</span></span>  
  
<a name="Navigation_Objects"></a>   
## <a name="navigation-to-object"></a><span data-ttu-id="07207-114">Navegación al objeto</span><span class="sxs-lookup"><span data-stu-id="07207-114">Navigation to Object</span></span>  
 <span data-ttu-id="07207-115">El objeto <xref:System.Windows.Navigation.NavigationWindow> deriva de <xref:System.Windows.Window> y lo extiende con compatibilidad de navegación de contenido, principalmente mediante la agregación de <xref:System.Windows.Navigation.NavigationService> y el diario.</span><span class="sxs-lookup"><span data-stu-id="07207-115">The <xref:System.Windows.Navigation.NavigationWindow> object derives from <xref:System.Windows.Window> and extends it with content navigation support, primarily by aggregating <xref:System.Windows.Navigation.NavigationService> and the journal.</span></span> <span data-ttu-id="07207-116">Puede actualizar el área cliente de <xref:System.Windows.Navigation.NavigationWindow> especificando un identificador uniforme de recursos (URI) o un objeto.</span><span class="sxs-lookup"><span data-stu-id="07207-116">You can update the client area of <xref:System.Windows.Navigation.NavigationWindow> by specifying either a uniform resource identifier (URI) or an object.</span></span> <span data-ttu-id="07207-117">En el ejemplo siguiente se muestran ambos métodos:</span><span class="sxs-lookup"><span data-stu-id="07207-117">The following sample shows both methods:</span></span>  
  
 [!code-csharp[Performance#PerformanceSnippet14](~/samples/snippets/csharp/VS_Snippets_Wpf/Performance/CSharp/TestNavigation.xaml.cs#performancesnippet14)]
 [!code-vb[Performance#PerformanceSnippet14](~/samples/snippets/visualbasic/VS_Snippets_Wpf/Performance/visualbasic/testnavigation.xaml.vb#performancesnippet14)]  
  
 <span data-ttu-id="07207-118">Cada <xref:System.Windows.Navigation.NavigationWindow> objeto tiene un diario que registra el historial de navegación del usuario en esa ventana.</span><span class="sxs-lookup"><span data-stu-id="07207-118">Each <xref:System.Windows.Navigation.NavigationWindow> object has a journal that records the user's navigation history in that window.</span></span> <span data-ttu-id="07207-119">Uno de los propósitos del diario es permitir que los usuarios vuelvan sobre sus pasos.</span><span class="sxs-lookup"><span data-stu-id="07207-119">One of the purposes of the journal is to allow users to retrace their steps.</span></span>  
  
 <span data-ttu-id="07207-120">Cuando se navega por el uso de un identificador uniforme de recursos (URI), el diario solo almacena la referencia de identificador uniforme de recursos (URI).</span><span class="sxs-lookup"><span data-stu-id="07207-120">When you navigate using a uniform resource identifier (URI), the journal stores only the uniform resource identifier (URI) reference.</span></span> <span data-ttu-id="07207-121">Esto significa que, cada vez que vuelve a visitar la página, se reconstruye dinámicamente, lo que puede llevar mucho tiempo según la complejidad de la página.</span><span class="sxs-lookup"><span data-stu-id="07207-121">This means that each time you revisit the page, it is dynamically reconstructed, which may be time consuming depending on the complexity of the page.</span></span> <span data-ttu-id="07207-122">En este caso, el costo de almacenamiento del diario es bajo, pero el tiempo para reconstituir la página es potencialmente alto.</span><span class="sxs-lookup"><span data-stu-id="07207-122">In this case, the journal storage cost is low, but the time to reconstitute the page is potentially high.</span></span>  
  
 <span data-ttu-id="07207-123">Al navegar con un objeto, el diario almacena todo el árbol visual del objeto.</span><span class="sxs-lookup"><span data-stu-id="07207-123">When you navigate using an object, the journal stores the entire visual tree of the object.</span></span> <span data-ttu-id="07207-124">Esto significa que, cada vez que vuelve a la página, se representa inmediatamente sin tener que reconstruirla.</span><span class="sxs-lookup"><span data-stu-id="07207-124">This means that each time you revisit the page, it renders immediately without having to be reconstructed.</span></span> <span data-ttu-id="07207-125">En este caso, el costo de almacenamiento del diario es alto, pero el tiempo para reconstituir la página es bajo.</span><span class="sxs-lookup"><span data-stu-id="07207-125">In this case, the journal storage cost is high, but the time to reconstitute the page is low.</span></span>  
  
 <span data-ttu-id="07207-126">Cuando use el objeto <xref:System.Windows.Navigation.NavigationWindow>, tendrá que tener en cuenta cómo la compatibilidad con el diario afecta al rendimiento de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="07207-126">When you use the <xref:System.Windows.Navigation.NavigationWindow> object, you will need to keep in mind how the journaling support impacts your application's performance.</span></span> <span data-ttu-id="07207-127">Para obtener más información, consulte [Información general sobre navegación](../app-development/navigation-overview.md).</span><span class="sxs-lookup"><span data-stu-id="07207-127">For more information, see [Navigation Overview](../app-development/navigation-overview.md).</span></span>  
  
<a name="Hit_Testing"></a>   
## <a name="hit-testing-on-large-3d-surfaces"></a><span data-ttu-id="07207-128">Comprobación de visitas en superficies 3D de gran tamaño</span><span class="sxs-lookup"><span data-stu-id="07207-128">Hit Testing on Large 3D Surfaces</span></span>  
 <span data-ttu-id="07207-129">La comprobación de visitas en superficies 3D de gran tamaño es una operación muy intensiva de rendimiento en términos de consumo de CPU.</span><span class="sxs-lookup"><span data-stu-id="07207-129">Hit testing on large 3D surfaces is a very performance intensive operation in terms of CPU consumption.</span></span> <span data-ttu-id="07207-130">Esto es especialmente cierto cuando se anima la superficie 3D.</span><span class="sxs-lookup"><span data-stu-id="07207-130">This is especially true when the 3D surface is animating.</span></span> <span data-ttu-id="07207-131">Si no es necesario comprobar visitas en estas superficies, deshabilite la comprobación de visitas.</span><span class="sxs-lookup"><span data-stu-id="07207-131">If you do not require hit testing on these surfaces, then disable hit testing.</span></span> <span data-ttu-id="07207-132">Los objetos que se derivan de <xref:System.Windows.UIElement> pueden deshabilitar las pruebas de posicionamiento estableciendo la propiedad <xref:System.Windows.UIElement.IsHitTestVisible%2A> en `false`.</span><span class="sxs-lookup"><span data-stu-id="07207-132">Objects that are derived from <xref:System.Windows.UIElement> can disable hit testing by setting the <xref:System.Windows.UIElement.IsHitTestVisible%2A> property to `false`.</span></span>  
  
<a name="CompositionTarget_Rendering_Event"></a>   
## <a name="compositiontargetrendering-event"></a><span data-ttu-id="07207-133">Evento CompositionTarget.Rendering</span><span class="sxs-lookup"><span data-stu-id="07207-133">CompositionTarget.Rendering Event</span></span>  
 <span data-ttu-id="07207-134">El evento <xref:System.Windows.Media.CompositionTarget.Rendering?displayProperty=nameWithType> hace que [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] se anime continuamente.</span><span class="sxs-lookup"><span data-stu-id="07207-134">The <xref:System.Windows.Media.CompositionTarget.Rendering?displayProperty=nameWithType> event causes [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] to continuously animate.</span></span> <span data-ttu-id="07207-135">Si usa este evento, desasócielo en cada oportunidad.</span><span class="sxs-lookup"><span data-stu-id="07207-135">If you use this event, detach it at every opportunity.</span></span>  
  
<a name="Avoid_Using_ScrollBarVisibility"></a>   
## <a name="avoid-using-scrollbarvisibilityauto"></a><span data-ttu-id="07207-136">Evitar usar ScrollBarVisibility=Auto</span><span class="sxs-lookup"><span data-stu-id="07207-136">Avoid Using ScrollBarVisibility=Auto</span></span>  
 <span data-ttu-id="07207-137">Siempre que sea posible, evite usar el valor <xref:System.Windows.Controls.ScrollBarVisibility.Auto?displayProperty=nameWithType> para las propiedades `HorizontalScrollBarVisibility` y `VerticalScrollBarVisibility`.</span><span class="sxs-lookup"><span data-stu-id="07207-137">Whenever possible, avoid using the <xref:System.Windows.Controls.ScrollBarVisibility.Auto?displayProperty=nameWithType> value for the `HorizontalScrollBarVisibility` and `VerticalScrollBarVisibility` properties.</span></span> <span data-ttu-id="07207-138">Estas propiedades se definen para los objetos <xref:System.Windows.Controls.RichTextBox>, <xref:System.Windows.Controls.ScrollViewer>y <xref:System.Windows.Controls.TextBox>, y como una propiedad adjunta para el objeto <xref:System.Windows.Controls.ListBox>.</span><span class="sxs-lookup"><span data-stu-id="07207-138">These properties are defined for <xref:System.Windows.Controls.RichTextBox>, <xref:System.Windows.Controls.ScrollViewer>, and <xref:System.Windows.Controls.TextBox> objects, and as an attached property for the <xref:System.Windows.Controls.ListBox> object.</span></span> <span data-ttu-id="07207-139">En su lugar, establezca <xref:System.Windows.Controls.ScrollBarVisibility> en <xref:System.Windows.Controls.ScrollBarVisibility.Disabled>, <xref:System.Windows.Controls.ScrollBarVisibility.Hidden>o <xref:System.Windows.Controls.ScrollBarVisibility.Visible>.</span><span class="sxs-lookup"><span data-stu-id="07207-139">Instead, set <xref:System.Windows.Controls.ScrollBarVisibility> to <xref:System.Windows.Controls.ScrollBarVisibility.Disabled>, <xref:System.Windows.Controls.ScrollBarVisibility.Hidden>, or <xref:System.Windows.Controls.ScrollBarVisibility.Visible>.</span></span>  
  
 <span data-ttu-id="07207-140">El valor <xref:System.Windows.Controls.ScrollBarVisibility.Auto> está pensado para los casos en los que el espacio es limitado y las barras de desplazamiento solo deben mostrarse cuando sea necesario.</span><span class="sxs-lookup"><span data-stu-id="07207-140">The <xref:System.Windows.Controls.ScrollBarVisibility.Auto> value is intended for cases when space is limited and scrollbars should only be displayed when necessary.</span></span> <span data-ttu-id="07207-141">Por ejemplo, puede ser útil usar este valor <xref:System.Windows.Controls.ScrollBarVisibility> con un <xref:System.Windows.Controls.ListBox> de 30 elementos en lugar de un <xref:System.Windows.Controls.TextBox> con cientos de líneas de texto.</span><span class="sxs-lookup"><span data-stu-id="07207-141">For example, it may be useful to use this <xref:System.Windows.Controls.ScrollBarVisibility> value with a <xref:System.Windows.Controls.ListBox> of 30 items as opposed to a <xref:System.Windows.Controls.TextBox> with hundreds of lines of text.</span></span>  
  
<a name="FontCache"></a>   
## <a name="configure-font-cache-service-to-reduce-start-up-time"></a><span data-ttu-id="07207-142">Configurar el servicio de caché de fuente para reducir el tiempo de inicio</span><span class="sxs-lookup"><span data-stu-id="07207-142">Configure Font Cache Service to Reduce Start-up Time</span></span>  
 <span data-ttu-id="07207-143">El servicio de caché de fuentes de WPF comparte datos de fuentes entre aplicaciones de WPF.</span><span class="sxs-lookup"><span data-stu-id="07207-143">The WPF Font Cache service shares font data between WPF applications.</span></span> <span data-ttu-id="07207-144">La primera aplicación de WPF que se ejecuta inicia este servicio si el servicio no se está ejecutando aún.</span><span class="sxs-lookup"><span data-stu-id="07207-144">The first WPF application you run starts this service if the service is not already running.</span></span> <span data-ttu-id="07207-145">Si usa Windows Vista, puede establecer el servicio "Windows Presentation Foundation (WPF) cache de fuentes 3.0.0.0" de "manual" (valor predeterminado) en "automático (Inicio retrasado)" para reducir el tiempo de inicio inicial de las aplicaciones de WPF.</span><span class="sxs-lookup"><span data-stu-id="07207-145">If you are using Windows Vista, you can set the "Windows Presentation Foundation (WPF) Font Cache 3.0.0.0" service from "Manual" (the default) to "Automatic (Delayed Start)" to reduce the initial start-up time of WPF applications.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="07207-146">Vea también</span><span class="sxs-lookup"><span data-stu-id="07207-146">See also</span></span>

- [<span data-ttu-id="07207-147">Planear para mejorar el rendimiento de aplicaciones</span><span class="sxs-lookup"><span data-stu-id="07207-147">Planning for Application Performance</span></span>](planning-for-application-performance.md)
- [<span data-ttu-id="07207-148">Aprovechar el hardware</span><span class="sxs-lookup"><span data-stu-id="07207-148">Taking Advantage of Hardware</span></span>](optimizing-performance-taking-advantage-of-hardware.md)
- [<span data-ttu-id="07207-149">Presentación y diseño</span><span class="sxs-lookup"><span data-stu-id="07207-149">Layout and Design</span></span>](optimizing-performance-layout-and-design.md)
- [<span data-ttu-id="07207-150">Imágenes y gráficos 2D</span><span class="sxs-lookup"><span data-stu-id="07207-150">2D Graphics and Imaging</span></span>](optimizing-performance-2d-graphics-and-imaging.md)
- [<span data-ttu-id="07207-151">Comportamiento de objetos</span><span class="sxs-lookup"><span data-stu-id="07207-151">Object Behavior</span></span>](optimizing-performance-object-behavior.md)
- [<span data-ttu-id="07207-152">Recursos de la aplicación</span><span class="sxs-lookup"><span data-stu-id="07207-152">Application Resources</span></span>](optimizing-performance-application-resources.md)
- [<span data-ttu-id="07207-153">Text</span><span class="sxs-lookup"><span data-stu-id="07207-153">Text</span></span>](optimizing-performance-text.md)
- [<span data-ttu-id="07207-154">Enlace de datos</span><span class="sxs-lookup"><span data-stu-id="07207-154">Data Binding</span></span>](optimizing-performance-data-binding.md)
- [<span data-ttu-id="07207-155">Sugerencias y trucos para animaciones</span><span class="sxs-lookup"><span data-stu-id="07207-155">Animation Tips and Tricks</span></span>](../graphics-multimedia/animation-tips-and-tricks.md)
