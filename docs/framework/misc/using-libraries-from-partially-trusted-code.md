---
title: Utilizar bibliotecas de código que no es de plena confianza
ms.date: 03/30/2017
helpviewer_keywords:
- security [.NET Framework], partially trusted code
- partially trusted code
- partial trust
- AllowPartiallyTrustedCallersAttribute attribute
- code access security, partially trusted code
- APTCA
ms.assetid: dd66cd4c-b087-415f-9c3e-94e3a1835f74
ms.openlocfilehash: 61291a07639c3f92a05f78dff49f6b20f1aee77e
ms.sourcegitcommit: 62285ec11fa8e8424bab00511a90760c60e63c95
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/20/2020
ms.locfileid: "81645712"
---
# <a name="using-libraries-from-partially-trusted-code"></a><span data-ttu-id="a4992-102">Utilizar bibliotecas de código que no es de plena confianza</span><span class="sxs-lookup"><span data-stu-id="a4992-102">Using Libraries from Partially Trusted Code</span></span>
[!INCLUDE[net_security_note](../../../includes/net-security-note-md.md)]  
  
> [!NOTE]
> <span data-ttu-id="a4992-103">En este tema se aborda el comportamiento de los ensamblados con nombre seguro y solo se aplica a los ensamblados de [nivel 1.](security-transparent-code-level-1.md)</span><span class="sxs-lookup"><span data-stu-id="a4992-103">This topic addresses the behavior of strong-named assemblies and applies only to [Level 1](security-transparent-code-level-1.md) assemblies.</span></span> <span data-ttu-id="a4992-104">Código transparente de [seguridad,](security-transparent-code-level-2.md) los ensamblados de nivel 2 en .NET Framework 4 o posterior no se ven afectados por nombres seguros.</span><span class="sxs-lookup"><span data-stu-id="a4992-104">[Security-Transparent Code, Level 2](security-transparent-code-level-2.md) assemblies in the .NET Framework 4 or later are not affected by strong names.</span></span> <span data-ttu-id="a4992-105">Para obtener más información acerca de los cambios en el sistema de seguridad, consulte [Cambios](https://docs.microsoft.com/previous-versions/dotnet/framework/security/security-changes)de seguridad .</span><span class="sxs-lookup"><span data-stu-id="a4992-105">For more information about changes to the security system, see [Security Changes](https://docs.microsoft.com/previous-versions/dotnet/framework/security/security-changes).</span></span>  
  
 <span data-ttu-id="a4992-106">Las aplicaciones que reciben menos de la plena confianza de su host o espacio aislado no pueden llamar a las bibliotecas administradas compartidas a menos que el escritor de la biblioteca se lo permita específicamente mediante el atributo <xref:System.Security.AllowPartiallyTrustedCallersAttribute>.</span><span class="sxs-lookup"><span data-stu-id="a4992-106">Applications that receive less than full trust from their host or sandbox are not allowed to call shared managed libraries unless the library writer specifically allows them to through the use of the <xref:System.Security.AllowPartiallyTrustedCallersAttribute> attribute.</span></span> <span data-ttu-id="a4992-107">Por lo tanto, los escritores de aplicaciones deben tener en cuenta que habrá algunas bibliotecas que no estarán a su disposición desde un contexto de confianza parcial.</span><span class="sxs-lookup"><span data-stu-id="a4992-107">Therefore, application writers must be aware that some libraries will not be available to them from a partially trusted context.</span></span> <span data-ttu-id="a4992-108">De forma predeterminada, todo el código que se ejecuta en un [entorno limitado](how-to-run-partially-trusted-code-in-a-sandbox.md) de confianza parcial y no está en la lista de ensamblados de plena confianza es de confianza parcial.</span><span class="sxs-lookup"><span data-stu-id="a4992-108">By default, all code that executes in a partial-trust [sandbox](how-to-run-partially-trusted-code-in-a-sandbox.md) and is not in the list of full-trust assemblies is partially trusted.</span></span> <span data-ttu-id="a4992-109">Si no espera que el código se ejecute desde un contexto de confianza parcial o que lo llame un código de confianza parcial, no tiene que preocuparse de la información de esta sección.</span><span class="sxs-lookup"><span data-stu-id="a4992-109">If you do not expect your code to be executed from a partially trusted context or to be called by partially trusted code, you do not have to be concerned about the information in this section.</span></span> <span data-ttu-id="a4992-110">Sin embargo, si escribe un código que debe interactuar con un código de confianza parcial o que debe funcionar desde un contexto de confianza parcial, debe considerar los siguientes factores:</span><span class="sxs-lookup"><span data-stu-id="a4992-110">However, if you write code that must interact with partially trusted code or operate from a partially trusted context, you should consider the following factors:</span></span>  
  
- <span data-ttu-id="a4992-111">Las bibliotecas deben firmarse con un nombre seguro para que las puedan compartir varias aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="a4992-111">Libraries must be signed with a strong name in order to be shared by multiple applications.</span></span> <span data-ttu-id="a4992-112">Los nombres seguros permiten que el código se coloque en la caché global de ensamblados o se agregue a la lista de plena confianza de un espacio aislado <xref:System.AppDomain>, de manera que los consumidores puedan comprobar que un determinado fragmento del código móvil proviene de usted.</span><span class="sxs-lookup"><span data-stu-id="a4992-112">Strong names allow your code to be placed in the global assembly cache or added to the full-trust list of a sandboxing <xref:System.AppDomain>, and allow consumers to verify that a particular piece of mobile code actually originates from you.</span></span>  
  
- <span data-ttu-id="a4992-113">De forma predeterminada, las bibliotecas compartidas de [nivel 1](security-transparent-code-level-1.md) con nombre seguro realizan automáticamente una [LinkDemand](link-demands.md) implícita para la plena confianza, sin que el escritor de bibliotecas tenga que hacer nada.</span><span class="sxs-lookup"><span data-stu-id="a4992-113">By default, strong-named [Level 1](security-transparent-code-level-1.md) shared libraries perform an implicit [LinkDemand](link-demands.md) for full trust automatically, without the library writer having to do anything.</span></span>  
  
- <span data-ttu-id="a4992-114">Si un llamador no tiene plena confianza y, aun así, intenta llamar a dicha biblioteca, el tiempo de ejecución produce una <xref:System.Security.SecurityException>, de manera que el llamador no podrá vincularse a la biblioteca.</span><span class="sxs-lookup"><span data-stu-id="a4992-114">If a caller does not have full trust but still tries to call such a library, the runtime throws a <xref:System.Security.SecurityException> and the caller is not allowed to link to the library.</span></span>  
  
- <span data-ttu-id="a4992-115">Para deshabilitar la **LinkDemand** automática y evitar que se produzca la excepción, puede colocar el atributo **AllowPartiallyTrustedCallersAttribute** en el ámbito de ensamblado de una biblioteca compartida.</span><span class="sxs-lookup"><span data-stu-id="a4992-115">In order to disable the automatic **LinkDemand** and prevent the exception from being thrown, you can place the **AllowPartiallyTrustedCallersAttribute** attribute on the assembly scope of a shared library.</span></span> <span data-ttu-id="a4992-116">Este atributo permite llamar a las bibliotecas desde un código administrado de confianza parcial.</span><span class="sxs-lookup"><span data-stu-id="a4992-116">This attribute allows your libraries to be called from partially trusted managed code.</span></span>  
  
- <span data-ttu-id="a4992-117">El código de confianza parcial al que se concede acceso a una biblioteca con este atributo sigue estando sujeto a otras restricciones definidas por el <xref:System.AppDomain>.</span><span class="sxs-lookup"><span data-stu-id="a4992-117">Partially trusted code that is granted access to a library with this attribute is still subject to further restrictions defined by the <xref:System.AppDomain>.</span></span>  
  
- <span data-ttu-id="a4992-118">No hay ninguna forma mediante programación para que el código de confianza parcial llame a una biblioteca que no tiene el atributo **AllowPartiallyTrustedCallersAttribute.**</span><span class="sxs-lookup"><span data-stu-id="a4992-118">There is no programmatic way for partially trusted code to call a library that does not have the **AllowPartiallyTrustedCallersAttribute** attribute.</span></span>  
  
 <span data-ttu-id="a4992-119">Las bibliotecas que son privadas para una aplicación específica no requieren un nombre seguro o el atributo **AllowPartiallyTrustedCallersAttribute** y no se puede hacer referencia a ellas mediante código potencialmente malintencionado fuera de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="a4992-119">Libraries that are private to a specific application do not require a strong name or the **AllowPartiallyTrustedCallersAttribute** attribute and cannot be referenced by potentially malicious code outside the application.</span></span> <span data-ttu-id="a4992-120">Este código está protegido contra el uso indebido intencional o involuntario por parte del código móvil de confianza parcial sin que el desarrollador tenga que hacer nada más.</span><span class="sxs-lookup"><span data-stu-id="a4992-120">Such code is protected against intentional or unintentional misuse by partially trusted mobile code without the developer having to do anything extra.</span></span>  
  
 <span data-ttu-id="a4992-121">Considere la posibilidad de habilitar de forma explícita el uso por parte de un código de confianza parcial en los siguientes tipos de código:</span><span class="sxs-lookup"><span data-stu-id="a4992-121">You should consider explicitly enabling use by partially trusted code for the following types of code:</span></span>  
  
- <span data-ttu-id="a4992-122">Código que se ha probado diligentemente para detectar vulnerabilidades de seguridad y cumple con las directrices descritas en Directrices de [codificación segura](../../standard/security/secure-coding-guidelines.md).</span><span class="sxs-lookup"><span data-stu-id="a4992-122">Code that has been diligently tested for security vulnerabilities and is in compliance with the guidelines described in [Secure Coding Guidelines](../../standard/security/secure-coding-guidelines.md).</span></span>  
  
- <span data-ttu-id="a4992-123">Bibliotecas de código con nombre seguro escritas específicamente para escenarios de confianza parcial.</span><span class="sxs-lookup"><span data-stu-id="a4992-123">Strong-named code libraries that are specifically written for partially trusted scenarios.</span></span>  
  
- <span data-ttu-id="a4992-124">Cualquier componente (ya sea de confianza parcial o de plena confianza) firmado con un nombre seguro, llamado mediante el código descargado de Internet.</span><span class="sxs-lookup"><span data-stu-id="a4992-124">Any components (whether partially or fully trusted) signed with a strong name that will be called by code that is downloaded from the Internet.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="a4992-125">Algunas clases de la biblioteca de clases de .NET Framework no tienen el atributo **AllowPartiallyTrustedCallersAttribute** y no se puede llamar mediante código de confianza parcial.</span><span class="sxs-lookup"><span data-stu-id="a4992-125">Some classes in the .NET Framework class library do not have the **AllowPartiallyTrustedCallersAttribute** attribute and cannot be called by partially trusted code.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a4992-126">Consulte también</span><span class="sxs-lookup"><span data-stu-id="a4992-126">See also</span></span>

- [<span data-ttu-id="a4992-127">Seguridad de acceso al código</span><span class="sxs-lookup"><span data-stu-id="a4992-127">Code Access Security</span></span>](code-access-security.md)
