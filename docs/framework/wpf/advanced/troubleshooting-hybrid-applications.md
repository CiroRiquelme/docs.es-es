---
title: Solución de problemas de aplicaciones híbridas
ms.date: 03/30/2017
helpviewer_keywords:
- overlapping controls [WPF]
- Windows Forms [WPF], interoperability with
- Windows Forms [WPF], WPF interoperation
- interoperability [WPF], Windows Forms
- hybrid applications [WPF interoperability]
- message loops [WPF]
ms.assetid: f440c23f-fa5d-4d5a-852f-ba61150e6405
ms.openlocfilehash: b85a607d2e44d6253359a81118f90e6ee05d2d3f
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/12/2020
ms.locfileid: "79187326"
---
# <a name="troubleshooting-hybrid-applications"></a><span data-ttu-id="958be-102">Solución de problemas de aplicaciones híbridas</span><span class="sxs-lookup"><span data-stu-id="958be-102">Troubleshooting Hybrid Applications</span></span>
<a name="introduction"></a><span data-ttu-id="958be-103">En este tema se enumeran algunos problemas comunes que [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] pueden producirse al crear aplicaciones híbridas, que usan tecnologías de Windows Forms y Windows Forms.</span><span class="sxs-lookup"><span data-stu-id="958be-103">This topic lists some common problems that can occur when authoring hybrid applications, which use both [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] and Windows Forms technologies.</span></span>  

<a name="overlapping_controls"></a>
## <a name="overlapping-controls"></a><span data-ttu-id="958be-104">Controles superpuestos</span><span class="sxs-lookup"><span data-stu-id="958be-104">Overlapping Controls</span></span>  
 <span data-ttu-id="958be-105">Los controles no se pueden superponer como cabría esperar.</span><span class="sxs-lookup"><span data-stu-id="958be-105">Controls may not overlap as you would expect.</span></span> <span data-ttu-id="958be-106">Windows Forms usa un HWND independiente para cada control.</span><span class="sxs-lookup"><span data-stu-id="958be-106">Windows Forms uses a separate HWND for each control.</span></span> [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="958be-107">usa un HWND para todo el contenido de una página.</span><span class="sxs-lookup"><span data-stu-id="958be-107">uses one HWND for all content on a page.</span></span> <span data-ttu-id="958be-108">Esta diferencia de implementación da lugar a comportamientos de superposición inesperados.</span><span class="sxs-lookup"><span data-stu-id="958be-108">This implementation difference causes unexpected overlapping behaviors.</span></span>  
  
 <span data-ttu-id="958be-109">Un control de [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] formularios Windows Forms [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] hospedado en siempre aparece encima del contenido.</span><span class="sxs-lookup"><span data-stu-id="958be-109">A Windows Forms control hosted in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] always appears on top of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] content.</span></span>  
  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="958be-110">contenido hospedado <xref:System.Windows.Forms.Integration.ElementHost> en un control aparece en <xref:System.Windows.Forms.Integration.ElementHost> el orden z del control.</span><span class="sxs-lookup"><span data-stu-id="958be-110">content hosted in an <xref:System.Windows.Forms.Integration.ElementHost> control appears at the z-order of the <xref:System.Windows.Forms.Integration.ElementHost> control.</span></span> <span data-ttu-id="958be-111">Es posible superponer <xref:System.Windows.Forms.Integration.ElementHost> controles, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] pero el contenido hospedado no combina ni interactúa.</span><span class="sxs-lookup"><span data-stu-id="958be-111">It is possible to overlap <xref:System.Windows.Forms.Integration.ElementHost> controls, but the hosted [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] content does not combine or interact.</span></span>  
  
<a name="child_property"></a>
## <a name="child-property"></a><span data-ttu-id="958be-112">Child Property</span><span class="sxs-lookup"><span data-stu-id="958be-112">Child Property</span></span>  
 <span data-ttu-id="958be-113">Las <xref:System.Windows.Forms.Integration.WindowsFormsHost> <xref:System.Windows.Forms.Integration.ElementHost> clases y pueden hospedar solo un único control secundario o elemento.</span><span class="sxs-lookup"><span data-stu-id="958be-113">The <xref:System.Windows.Forms.Integration.WindowsFormsHost> and <xref:System.Windows.Forms.Integration.ElementHost> classes can host only a single child control or element.</span></span> <span data-ttu-id="958be-114">Para hospedar más de un control o elemento, se debe usar un contenedor como contenido secundario.</span><span class="sxs-lookup"><span data-stu-id="958be-114">To host more than one control or element, you must use a container as the child content.</span></span> <span data-ttu-id="958be-115">Por ejemplo, puede agregar controles de botón <xref:System.Windows.Forms.Panel?displayProperty=nameWithType> y casilla de verificación <xref:System.Windows.Forms.Integration.WindowsFormsHost> de <xref:System.Windows.Forms.Integration.WindowsFormsHost.Child%2A> formularios Windows Forms a un control y, a continuación, asignar el panel a la propiedad de un control.</span><span class="sxs-lookup"><span data-stu-id="958be-115">For example, you could add Windows Forms button and check box controls to a <xref:System.Windows.Forms.Panel?displayProperty=nameWithType> control, and then assign the panel to a <xref:System.Windows.Forms.Integration.WindowsFormsHost> control's <xref:System.Windows.Forms.Integration.WindowsFormsHost.Child%2A> property.</span></span> <span data-ttu-id="958be-116">Sin embargo, no puede agregar los controles <xref:System.Windows.Forms.Integration.WindowsFormsHost> de botón y casilla de verificación por separado al mismo control.</span><span class="sxs-lookup"><span data-stu-id="958be-116">However, you cannot add the button and check box controls separately to the same <xref:System.Windows.Forms.Integration.WindowsFormsHost> control.</span></span>  
  
<a name="scaling"></a>
## <a name="scaling"></a><span data-ttu-id="958be-117">Ampliación</span><span class="sxs-lookup"><span data-stu-id="958be-117">Scaling</span></span>  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="958be-118">y Windows Forms tienen diferentes modelos de escalado.</span><span class="sxs-lookup"><span data-stu-id="958be-118">and Windows Forms have different scaling models.</span></span> <span data-ttu-id="958be-119">Algunas [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] transformaciones de escalado son significativas para los controles de formularios Windows Forms, pero otras no.</span><span class="sxs-lookup"><span data-stu-id="958be-119">Some [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] scaling transformations are meaningful to Windows Forms controls, but others are not.</span></span> <span data-ttu-id="958be-120">Por ejemplo, escalar un control de formularios Windows Forms a 0 funcionará, pero si intenta escalar el mismo control a un valor distinto de cero, el tamaño del control sigue siendo 0.</span><span class="sxs-lookup"><span data-stu-id="958be-120">For example, scaling a Windows Forms control to 0 will work, but if you try to scale the same control back to a non-zero value, the control's size remains 0.</span></span> <span data-ttu-id="958be-121">Para más información, vea [Consideraciones sobre el diseño del elemento WindowsFormsHost](layout-considerations-for-the-windowsformshost-element.md).</span><span class="sxs-lookup"><span data-stu-id="958be-121">For more information, see [Layout Considerations for the WindowsFormsHost Element](layout-considerations-for-the-windowsformshost-element.md).</span></span>  
  
<a name="adapter"></a>
## <a name="adapter"></a><span data-ttu-id="958be-122">Adapter (Adaptador)</span><span class="sxs-lookup"><span data-stu-id="958be-122">Adapter</span></span>  
 <span data-ttu-id="958be-123">Puede haber confusión <xref:System.Windows.Forms.Integration.WindowsFormsHost> al <xref:System.Windows.Forms.Integration.ElementHost> trabajar las clases, porque incluyen un contenedor oculto.</span><span class="sxs-lookup"><span data-stu-id="958be-123">There may be confusion when working the <xref:System.Windows.Forms.Integration.WindowsFormsHost> and <xref:System.Windows.Forms.Integration.ElementHost> classes, because they include a hidden container.</span></span> <span data-ttu-id="958be-124">Las <xref:System.Windows.Forms.Integration.WindowsFormsHost> clases y <xref:System.Windows.Forms.Integration.ElementHost> tienen un contenedor oculto, denominado *adaptador,* que usan para hospedar contenido.</span><span class="sxs-lookup"><span data-stu-id="958be-124">Both the <xref:System.Windows.Forms.Integration.WindowsFormsHost> and <xref:System.Windows.Forms.Integration.ElementHost> classes have a hidden container, called an *adapter*, which they use to host content.</span></span> <span data-ttu-id="958be-125">Para <xref:System.Windows.Forms.Integration.WindowsFormsHost> el elemento, el adaptador <xref:System.Windows.Forms.ContainerControl?displayProperty=nameWithType> deriva de la clase.</span><span class="sxs-lookup"><span data-stu-id="958be-125">For the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element, the adapter derives from the <xref:System.Windows.Forms.ContainerControl?displayProperty=nameWithType> class.</span></span> <span data-ttu-id="958be-126">Para <xref:System.Windows.Forms.Integration.ElementHost> el control, el adaptador <xref:System.Windows.Controls.DockPanel> deriva del elemento.</span><span class="sxs-lookup"><span data-stu-id="958be-126">For the <xref:System.Windows.Forms.Integration.ElementHost> control, the adapter derives from the <xref:System.Windows.Controls.DockPanel> element.</span></span> <span data-ttu-id="958be-127">Cuando se encuentren referencias al adaptador en otros temas sobre interoperación, se refieren a este contenedor.</span><span class="sxs-lookup"><span data-stu-id="958be-127">When you see references to the adapter in other interoperation topics, this container is what is being discussed.</span></span>  
  
<a name="nesting"></a>
## <a name="nesting"></a><span data-ttu-id="958be-128">Anidamiento</span><span class="sxs-lookup"><span data-stu-id="958be-128">Nesting</span></span>  
 <span data-ttu-id="958be-129">No se <xref:System.Windows.Forms.Integration.WindowsFormsHost> admite <xref:System.Windows.Forms.Integration.ElementHost> el anidamiento de un elemento dentro de un control.</span><span class="sxs-lookup"><span data-stu-id="958be-129">Nesting a <xref:System.Windows.Forms.Integration.WindowsFormsHost> element inside an <xref:System.Windows.Forms.Integration.ElementHost> control is not supported.</span></span> <span data-ttu-id="958be-130">Tampoco <xref:System.Windows.Forms.Integration.ElementHost> se admite <xref:System.Windows.Forms.Integration.WindowsFormsHost> el anidamiento de un control dentro de un elemento.</span><span class="sxs-lookup"><span data-stu-id="958be-130">Nesting an <xref:System.Windows.Forms.Integration.ElementHost> control inside a <xref:System.Windows.Forms.Integration.WindowsFormsHost> element is also not supported.</span></span>  
  
<a name="focus"></a>
## <a name="focus"></a><span data-ttu-id="958be-131">Focus</span><span class="sxs-lookup"><span data-stu-id="958be-131">Focus</span></span>  
 <span data-ttu-id="958be-132">El foco [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] funciona de forma diferente en Windows Forms, lo que significa que pueden producirse problemas de foco en una aplicación híbrida.</span><span class="sxs-lookup"><span data-stu-id="958be-132">Focus works differently in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] and Windows Forms, which means that focus issues may occur in a hybrid application.</span></span> <span data-ttu-id="958be-133">Por ejemplo, si tiene <xref:System.Windows.Forms.Integration.WindowsFormsHost> el foco dentro de un elemento y minimiza y restaura <xref:System.Windows.Forms.Integration.WindowsFormsHost> la página o muestra un cuadro de diálogo modal, el foco dentro del elemento puede perderse.</span><span class="sxs-lookup"><span data-stu-id="958be-133">For example, if you have focus inside a <xref:System.Windows.Forms.Integration.WindowsFormsHost> element, and you either minimize and restore the page or show a modal dialog box, focus inside the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element may be lost.</span></span> <span data-ttu-id="958be-134">El <xref:System.Windows.Forms.Integration.WindowsFormsHost> elemento todavía tiene el foco, pero el control dentro de él puede no.</span><span class="sxs-lookup"><span data-stu-id="958be-134">The <xref:System.Windows.Forms.Integration.WindowsFormsHost> element still has focus, but the control inside it may not.</span></span>  
  
 <span data-ttu-id="958be-135">El foco también afecta a la validación de datos.</span><span class="sxs-lookup"><span data-stu-id="958be-135">Data validation is also affected by focus.</span></span> <span data-ttu-id="958be-136">La validación <xref:System.Windows.Forms.Integration.WindowsFormsHost> funciona en un elemento, pero no <xref:System.Windows.Forms.Integration.WindowsFormsHost> funciona como ficha <xref:System.Windows.Forms.Integration.WindowsFormsHost> fuera del elemento, o entre dos elementos diferentes.</span><span class="sxs-lookup"><span data-stu-id="958be-136">Validation works in a <xref:System.Windows.Forms.Integration.WindowsFormsHost> element, but it does not work as you tab out of the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element, or between two different <xref:System.Windows.Forms.Integration.WindowsFormsHost> elements.</span></span>  
  
<a name="property_mapping"></a>
## <a name="property-mapping"></a><span data-ttu-id="958be-137">Asignación de propiedades</span><span class="sxs-lookup"><span data-stu-id="958be-137">Property Mapping</span></span>  
 <span data-ttu-id="958be-138">Algunas asignaciones de propiedades requieren una interpretación [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] exhaustiva para establecer un puente entre las tecnologías y Windows Forms.</span><span class="sxs-lookup"><span data-stu-id="958be-138">Some property mappings require extensive interpretation to bridge dissimilar implementations between the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] and Windows Forms technologies.</span></span> <span data-ttu-id="958be-139">Las asignaciones de propiedad permiten que el código reaccione ante los cambios de fuentes, colores y otras propiedades.</span><span class="sxs-lookup"><span data-stu-id="958be-139">Property mappings enable your code to react to changes in fonts, colors, and other properties.</span></span> <span data-ttu-id="958be-140">En general, las asignaciones de propiedad funcionan realizando escuchas para detectar eventos *Propiedad*Changed o llamadas a On*Propiedad*Changed, y estableciendo las propiedades adecuadas en el control secundario o en su adaptador.</span><span class="sxs-lookup"><span data-stu-id="958be-140">In general, property mappings work by listening for either *Property*Changed events or On*Property*Changed calls, and setting appropriate properties on either the child control or its adapter.</span></span> <span data-ttu-id="958be-141">Para más información, vea [Asignación de propiedades en formularios Windows Forms y WPF](windows-forms-and-wpf-property-mapping.md).</span><span class="sxs-lookup"><span data-stu-id="958be-141">For more information, see [Windows Forms and WPF Property Mapping](windows-forms-and-wpf-property-mapping.md).</span></span>  
  
<a name="layoutrelated_properties_on_hosted_content"></a>
## <a name="layout-related-properties-on-hosted-content"></a><span data-ttu-id="958be-142">Propiedades relacionadas con el diseño en el contenido hospedado</span><span class="sxs-lookup"><span data-stu-id="958be-142">Layout-related Properties on Hosted Content</span></span>  
 <span data-ttu-id="958be-143">Cuando <xref:System.Windows.Forms.Integration.WindowsFormsHost.Child%2A?displayProperty=nameWithType> se <xref:System.Windows.Forms.Integration.ElementHost.Child%2A?displayProperty=nameWithType> asigna la propiedad o, se establecen automáticamente varias propiedades relacionadas con el diseño en el contenido hospedado.</span><span class="sxs-lookup"><span data-stu-id="958be-143">When the <xref:System.Windows.Forms.Integration.WindowsFormsHost.Child%2A?displayProperty=nameWithType> or <xref:System.Windows.Forms.Integration.ElementHost.Child%2A?displayProperty=nameWithType> property is assigned, several layout-related properties on the hosted content are set automatically.</span></span> <span data-ttu-id="958be-144">Cambiar estas propiedades de contenido puede producir comportamientos de diseño inesperados.</span><span class="sxs-lookup"><span data-stu-id="958be-144">Changing these content properties can cause unexpected layout behaviors.</span></span>  
  
 <span data-ttu-id="958be-145">El contenido hospedado se acopla para rellenar el <xref:System.Windows.Forms.Integration.WindowsFormsHost> elemento primario. <xref:System.Windows.Forms.Integration.ElementHost></span><span class="sxs-lookup"><span data-stu-id="958be-145">Your hosted content is docked to fill the <xref:System.Windows.Forms.Integration.WindowsFormsHost> and <xref:System.Windows.Forms.Integration.ElementHost> parent.</span></span> <span data-ttu-id="958be-146">Para habilitar este comportamiento de relleno, se establecen varias propiedades al establecer la propiedad secundaria.</span><span class="sxs-lookup"><span data-stu-id="958be-146">To enable this fill behavior, several properties are set when you set the child property.</span></span> <span data-ttu-id="958be-147">En la tabla siguiente se enumeran <xref:System.Windows.Forms.Integration.ElementHost> <xref:System.Windows.Forms.Integration.WindowsFormsHost> las propiedades de contenido establecidas por las clases y.</span><span class="sxs-lookup"><span data-stu-id="958be-147">The following table lists which content properties are set by the <xref:System.Windows.Forms.Integration.ElementHost> and <xref:System.Windows.Forms.Integration.WindowsFormsHost> classes.</span></span>  
  
|<span data-ttu-id="958be-148">Clase de host</span><span class="sxs-lookup"><span data-stu-id="958be-148">Host Class</span></span>|<span data-ttu-id="958be-149">Propiedades de contenido</span><span class="sxs-lookup"><span data-stu-id="958be-149">Content Properties</span></span>|  
|----------------|------------------------|  
|<xref:System.Windows.Forms.Integration.ElementHost>|<xref:System.Windows.FrameworkElement.Height%2A><br /><br /> <xref:System.Windows.FrameworkElement.Width%2A><br /><br /> <xref:System.Windows.FrameworkElement.Margin%2A><br /><br /> <xref:System.Windows.FrameworkElement.VerticalAlignment%2A><br /><br /> <xref:System.Windows.FrameworkElement.HorizontalAlignment%2A>|  
|<xref:System.Windows.Forms.Integration.WindowsFormsHost>|<xref:System.Windows.Forms.Control.Margin%2A><br /><br /> <xref:System.Windows.Forms.Control.Dock%2A><br /><br /> <xref:System.Windows.Forms.Control.AutoSize%2A><br /><br /> <xref:System.Windows.Forms.Control.Location%2A><br /><br /> <xref:System.Windows.Forms.Control.MaximumSize%2A>|  
  
 <span data-ttu-id="958be-150">No establezca estas propiedades directamente en el contenido hospedado.</span><span class="sxs-lookup"><span data-stu-id="958be-150">Do not set these properties directly on the hosted content.</span></span> <span data-ttu-id="958be-151">Para más información, vea [Consideraciones sobre el diseño del elemento WindowsFormsHost](layout-considerations-for-the-windowsformshost-element.md).</span><span class="sxs-lookup"><span data-stu-id="958be-151">For more information, see [Layout Considerations for the WindowsFormsHost Element](layout-considerations-for-the-windowsformshost-element.md).</span></span>  
  
<a name="navigation_applications"></a>
## <a name="navigation-applications"></a><span data-ttu-id="958be-152">Aplicaciones de navegación</span><span class="sxs-lookup"><span data-stu-id="958be-152">Navigation Applications</span></span>  
 <span data-ttu-id="958be-153">Es posible que las aplicaciones de navegación no mantengan el estado del usuario.</span><span class="sxs-lookup"><span data-stu-id="958be-153">Navigation applications may not maintain user state.</span></span> <span data-ttu-id="958be-154">El <xref:System.Windows.Forms.Integration.WindowsFormsHost> elemento vuelve a crear sus controles cuando se utiliza en una aplicación de navegación.</span><span class="sxs-lookup"><span data-stu-id="958be-154">The <xref:System.Windows.Forms.Integration.WindowsFormsHost> element recreates its controls when it is used in a navigation application.</span></span> <span data-ttu-id="958be-155">La recreación de controles secundarios se produce cuando <xref:System.Windows.Forms.Integration.WindowsFormsHost> el usuario se aleja de la página que hospeda el elemento y, a continuación, vuelve a él.</span><span class="sxs-lookup"><span data-stu-id="958be-155">Recreating child controls occurs when the user navigates away from the page hosting the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element and then returns to it.</span></span> <span data-ttu-id="958be-156">Todo el contenido que el usuario haya escrito se perderá.</span><span class="sxs-lookup"><span data-stu-id="958be-156">Any content that has been typed in by the user will be lost.</span></span>  
  
<a name="message_loop_interoperation"></a>
## <a name="message-loop-interoperation"></a><span data-ttu-id="958be-157">Interoperación de bucles de mensajes</span><span class="sxs-lookup"><span data-stu-id="958be-157">Message Loop Interoperation</span></span>  
 <span data-ttu-id="958be-158">Cuando se trabaja con bucles de mensajes de formularios Windows Forms, es posible que los mensajes no se procesen como se esperaba.</span><span class="sxs-lookup"><span data-stu-id="958be-158">When working with Windows Forms message loops, messages may not be processed as expected.</span></span> <span data-ttu-id="958be-159">El <xref:System.Windows.Forms.Integration.WindowsFormsHost.EnableWindowsFormsInterop%2A> constructor llama <xref:System.Windows.Forms.Integration.WindowsFormsHost> al método.</span><span class="sxs-lookup"><span data-stu-id="958be-159">The <xref:System.Windows.Forms.Integration.WindowsFormsHost.EnableWindowsFormsInterop%2A> method is called by the <xref:System.Windows.Forms.Integration.WindowsFormsHost> constructor.</span></span> <span data-ttu-id="958be-160">Este método agrega un filtro de mensajes al bucle de mensajes de [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="958be-160">This method adds a message filter to the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] message loop.</span></span> <span data-ttu-id="958be-161">Este filtro <xref:System.Windows.Forms.Control.PreProcessMessage%2A?displayProperty=nameWithType> llama al <xref:System.Windows.Forms.Control?displayProperty=nameWithType> método si a era el destino del mensaje y traduce/distribuye el mensaje.</span><span class="sxs-lookup"><span data-stu-id="958be-161">This filter calls the <xref:System.Windows.Forms.Control.PreProcessMessage%2A?displayProperty=nameWithType> method if a <xref:System.Windows.Forms.Control?displayProperty=nameWithType> was the target of the message and translates/dispatches the message.</span></span>  
  
 <span data-ttu-id="958be-162">Si muestra <xref:System.Windows.Window> un bucle de mensajes <xref:System.Windows.Forms.Application.Run%2A?displayProperty=nameWithType>en formularios Windows Forms <xref:System.Windows.Forms.Integration.ElementHost.EnableModelessKeyboardInterop%2A> con , no puede escribir nada a menos que llame al método.</span><span class="sxs-lookup"><span data-stu-id="958be-162">If you show a <xref:System.Windows.Window> in a Windows Forms message loop with <xref:System.Windows.Forms.Application.Run%2A?displayProperty=nameWithType>, you cannot type anything unless you call the <xref:System.Windows.Forms.Integration.ElementHost.EnableModelessKeyboardInterop%2A> method.</span></span> <span data-ttu-id="958be-163">El <xref:System.Windows.Forms.Integration.ElementHost.EnableModelessKeyboardInterop%2A> método <xref:System.Windows.Window> toma un <xref:System.Windows.Forms.IMessageFilter?displayProperty=nameWithType>y agrega un , que redirige [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] los mensajes relacionados con la clave al bucle de mensajes.</span><span class="sxs-lookup"><span data-stu-id="958be-163">The <xref:System.Windows.Forms.Integration.ElementHost.EnableModelessKeyboardInterop%2A> method takes a <xref:System.Windows.Window> and adds a <xref:System.Windows.Forms.IMessageFilter?displayProperty=nameWithType>, which reroutes key-related messages to the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] message loop.</span></span> <span data-ttu-id="958be-164">Para más información, vea [Arquitectura de entrada de interoperabilidad entre formularios Windows Forms y WPF](windows-forms-and-wpf-interoperability-input-architecture.md).</span><span class="sxs-lookup"><span data-stu-id="958be-164">For more information, see [Windows Forms and WPF Interoperability Input Architecture](windows-forms-and-wpf-interoperability-input-architecture.md).</span></span>  
  
<a name="opacity_and_layering"></a>
## <a name="opacity-and-layering"></a><span data-ttu-id="958be-165">Opacidad y disposición en capas</span><span class="sxs-lookup"><span data-stu-id="958be-165">Opacity and Layering</span></span>  
 <span data-ttu-id="958be-166">La <xref:System.Windows.Interop.HwndHost> clase no admite capas.</span><span class="sxs-lookup"><span data-stu-id="958be-166">The <xref:System.Windows.Interop.HwndHost> class does not support layering.</span></span> <span data-ttu-id="958be-167">Esto significa que <xref:System.Windows.UIElement.Opacity%2A> establecer <xref:System.Windows.Forms.Integration.WindowsFormsHost> la propiedad en el elemento no [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] tiene ningún <xref:System.Windows.Window.AllowsTransparency%2A> efecto `true`y no se producirá ninguna fusión con otras ventanas que se han establecido en .</span><span class="sxs-lookup"><span data-stu-id="958be-167">This means that setting the <xref:System.Windows.UIElement.Opacity%2A> property on the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element has no effect, and no blending will occur with other [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] windows which have <xref:System.Windows.Window.AllowsTransparency%2A> set to `true`.</span></span>  
  
<a name="dispose"></a>
## <a name="dispose"></a><span data-ttu-id="958be-168">Dispose</span><span class="sxs-lookup"><span data-stu-id="958be-168">Dispose</span></span>  
 <span data-ttu-id="958be-169">No desechar correctamente las clases puede hacer que se pierdan recursos.</span><span class="sxs-lookup"><span data-stu-id="958be-169">Not disposing classes properly can leak resources.</span></span> <span data-ttu-id="958be-170">En las aplicaciones híbridas, <xref:System.Windows.Forms.Integration.WindowsFormsHost> <xref:System.Windows.Forms.Integration.ElementHost> asegúrese de que las clases y se eliminan, o podría perder recursos.</span><span class="sxs-lookup"><span data-stu-id="958be-170">In your hybrid applications, make sure that the <xref:System.Windows.Forms.Integration.WindowsFormsHost> and <xref:System.Windows.Forms.Integration.ElementHost> classes are disposed, or you could leak resources.</span></span> <span data-ttu-id="958be-171">Windows Forms <xref:System.Windows.Forms.Integration.ElementHost> Windows Forms elimina <xref:System.Windows.Forms.Form> los controles cuando se cierra su elemento primario no modal.</span><span class="sxs-lookup"><span data-stu-id="958be-171">Windows Forms disposes <xref:System.Windows.Forms.Integration.ElementHost> controls when its non-modal <xref:System.Windows.Forms.Form> parent closes.</span></span> [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="958be-172">elimina <xref:System.Windows.Forms.Integration.WindowsFormsHost> los elementos cuando se cierra la aplicación.</span><span class="sxs-lookup"><span data-stu-id="958be-172">disposes <xref:System.Windows.Forms.Integration.WindowsFormsHost> elements when your application shuts down.</span></span> <span data-ttu-id="958be-173">Es posible mostrar <xref:System.Windows.Forms.Integration.WindowsFormsHost> un elemento <xref:System.Windows.Window> en un bucle de mensajes de formularios Windows Forms.</span><span class="sxs-lookup"><span data-stu-id="958be-173">It is possible to show a <xref:System.Windows.Forms.Integration.WindowsFormsHost> element in a <xref:System.Windows.Window> in a Windows Forms message loop.</span></span> <span data-ttu-id="958be-174">En este caso, es posible que el código no reciba la notificación de que la aplicación se está cerrando.</span><span class="sxs-lookup"><span data-stu-id="958be-174">In this case, your code may not receive notification that your application is shutting down.</span></span>  
  
<a name="enabling_visual_styles"></a>
## <a name="enabling-visual-styles"></a><span data-ttu-id="958be-175">Habilitar los estilos visuales</span><span class="sxs-lookup"><span data-stu-id="958be-175">Enabling Visual Styles</span></span>  
 <span data-ttu-id="958be-176">Es posible que los estilos visuales de Microsoft Windows XP en un control de formularios Windows Forms no estén habilitados.</span><span class="sxs-lookup"><span data-stu-id="958be-176">Microsoft Windows XP visual styles on a Windows Forms control may not be enabled.</span></span> <span data-ttu-id="958be-177">Se <xref:System.Windows.Forms.Application.EnableVisualStyles%2A?displayProperty=nameWithType> llama al método en la plantilla para una aplicación de Windows Forms.</span><span class="sxs-lookup"><span data-stu-id="958be-177">The <xref:System.Windows.Forms.Application.EnableVisualStyles%2A?displayProperty=nameWithType> method is called in the template for a Windows Forms application.</span></span> <span data-ttu-id="958be-178">Aunque no se llama a este método de forma predeterminada, si usa Visual Studio para crear un proyecto, obtendrá estilos visuales de Microsoft Windows XP para los controles, si la versión 6.0 de Comctl32.dll está disponible.</span><span class="sxs-lookup"><span data-stu-id="958be-178">Although this method is not called by default, if you use Visual Studio to create a project, you will get Microsoft Windows XP visual styles for controls, if version 6.0 of Comctl32.dll is available.</span></span> <span data-ttu-id="958be-179">Debe llamar <xref:System.Windows.Forms.Application.EnableVisualStyles%2A> al método antes de crear identificadores en el subproceso.</span><span class="sxs-lookup"><span data-stu-id="958be-179">You must call the <xref:System.Windows.Forms.Application.EnableVisualStyles%2A> method before handles are created on the thread.</span></span> <span data-ttu-id="958be-180">Para más información, vea [Cómo: Habilitar estilos visuales en una aplicación híbrida](how-to-enable-visual-styles-in-a-hybrid-application.md).</span><span class="sxs-lookup"><span data-stu-id="958be-180">For more information, see [How to: Enable Visual Styles in a Hybrid Application](how-to-enable-visual-styles-in-a-hybrid-application.md).</span></span>  
  
<a name="licensed_controls"></a>
## <a name="licensed-controls"></a><span data-ttu-id="958be-181">Controles con licencia</span><span class="sxs-lookup"><span data-stu-id="958be-181">Licensed Controls</span></span>  
 <span data-ttu-id="958be-182">Los controles de formularios Windows Forms con licencia que muestran información de licencias en un cuadro de mensaje al usuario pueden provocar un comportamiento inesperado para una aplicación híbrida.</span><span class="sxs-lookup"><span data-stu-id="958be-182">Licensed Windows Forms controls that display licensing information in a message box to the user might cause unexpected behavior for a hybrid application.</span></span> <span data-ttu-id="958be-183">Algunos controles con licencia muestran un cuadro de diálogo como respuesta a la creación de controladores.</span><span class="sxs-lookup"><span data-stu-id="958be-183">Some licensed controls show a dialog box in response to handle creation.</span></span> <span data-ttu-id="958be-184">Por ejemplo, un control con licencia podría informar al usuario de que se requiere una licencia o de que al usuario le quedan tres usos de prueba del control.</span><span class="sxs-lookup"><span data-stu-id="958be-184">For example, a licensed control might inform the user that a license is required, or that the user has three remaining trial uses of the control.</span></span>  
  
 <span data-ttu-id="958be-185">El <xref:System.Windows.Forms.Integration.WindowsFormsHost> elemento deriva <xref:System.Windows.Interop.HwndHost> de la clase y el identificador del <xref:System.Windows.Forms.Integration.WindowsFormsHost.BuildWindowCore%2A> control secundario se crea dentro del método.</span><span class="sxs-lookup"><span data-stu-id="958be-185">The <xref:System.Windows.Forms.Integration.WindowsFormsHost> element derives from the <xref:System.Windows.Interop.HwndHost> class, and the child control’s handle is created inside the <xref:System.Windows.Forms.Integration.WindowsFormsHost.BuildWindowCore%2A> method.</span></span> <span data-ttu-id="958be-186">La <xref:System.Windows.Interop.HwndHost> clase no permite que los <xref:System.Windows.Forms.Integration.WindowsFormsHost.BuildWindowCore%2A> mensajes se procesen en el método, pero mostrar un cuadro de diálogo hace que se envíen mensajes.</span><span class="sxs-lookup"><span data-stu-id="958be-186">The <xref:System.Windows.Interop.HwndHost> class does not allow messages to be processed in the <xref:System.Windows.Forms.Integration.WindowsFormsHost.BuildWindowCore%2A> method, but displaying a dialog box causes messages to be sent.</span></span> <span data-ttu-id="958be-187">Para habilitar este escenario <xref:System.Windows.Forms.Control.CreateControl%2A?displayProperty=nameWithType> de licencia, llame al <xref:System.Windows.Forms.Integration.WindowsFormsHost> método en el control antes de asignarlo como elemento secundario del elemento.</span><span class="sxs-lookup"><span data-stu-id="958be-187">To enable this licensing scenario, call the <xref:System.Windows.Forms.Control.CreateControl%2A?displayProperty=nameWithType> method on the control before assigning it as the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element's child.</span></span>  
  
<a name="wpf_designer"></a>
## <a name="wpf-designer"></a><span data-ttu-id="958be-188">WPF Designer</span><span class="sxs-lookup"><span data-stu-id="958be-188">WPF Designer</span></span>  
 <span data-ttu-id="958be-189">Puede diseñar el contenido de WPFWPF mediante el Diseñador wpfWPF para Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="958be-189">You can design your WPF content by using the WPF Designer for Visual Studio.</span></span> <span data-ttu-id="958be-190">En las secciones siguientes se enumeran algunos problemas comunes que pueden producirse al crear aplicaciones híbridas con WPF Designer.</span><span class="sxs-lookup"><span data-stu-id="958be-190">The following sections list some common problems that can occur when authoring hybrid applications with the WPF Designer.</span></span>  
  
### <a name="backcolortransparent-is-ignored-at-design-time"></a><span data-ttu-id="958be-191">BackColorTransparent se omite en tiempo de diseño</span><span class="sxs-lookup"><span data-stu-id="958be-191">BackColorTransparent is ignored at design time</span></span>  
 <span data-ttu-id="958be-192">Es <xref:System.Windows.Forms.Integration.ElementHost.BackColorTransparent%2A> posible que la propiedad no funcione como se esperaba en tiempo de diseño.</span><span class="sxs-lookup"><span data-stu-id="958be-192">The <xref:System.Windows.Forms.Integration.ElementHost.BackColorTransparent%2A> property might not work as expected at design time.</span></span>  
  
 <span data-ttu-id="958be-193">Si un WPFWPF control no está en un <xref:System.Windows.Forms.Integration.ElementHost.BackColorTransparent%2A> elemento primario visible, el tiempo de ejecución de WPFWPF omite el valor.</span><span class="sxs-lookup"><span data-stu-id="958be-193">If a WPF control is not on a visible parent, the WPF runtime ignores the <xref:System.Windows.Forms.Integration.ElementHost.BackColorTransparent%2A> value.</span></span> <span data-ttu-id="958be-194">La razón <xref:System.Windows.Forms.Integration.ElementHost.BackColorTransparent%2A> que se <xref:System.Windows.Forms.Integration.ElementHost> puede omitir es <xref:System.AppDomain>porque el objeto se crea en un archivo .</span><span class="sxs-lookup"><span data-stu-id="958be-194">The reason that <xref:System.Windows.Forms.Integration.ElementHost.BackColorTransparent%2A> might be ignored is because <xref:System.Windows.Forms.Integration.ElementHost> object is created in a separate <xref:System.AppDomain>.</span></span> <span data-ttu-id="958be-195">Sin embargo, cuando <xref:System.Windows.Forms.Integration.ElementHost.BackColorTransparent%2A> se ejecuta la aplicación, funciona según lo esperado.</span><span class="sxs-lookup"><span data-stu-id="958be-195">However, when you run the application, <xref:System.Windows.Forms.Integration.ElementHost.BackColorTransparent%2A> does work as expected.</span></span>  
  
### <a name="design-time-error-list-appears-when-the-obj-folder-is-deleted"></a><span data-ttu-id="958be-196">Aparece la lista de errores en tiempo de diseño cuando se elimina la carpeta obj</span><span class="sxs-lookup"><span data-stu-id="958be-196">Design-time Error List appears when the obj folder is deleted</span></span>  
 <span data-ttu-id="958be-197">Si se elimina la carpeta obj, aparece la lista de errores en tiempo de diseño.</span><span class="sxs-lookup"><span data-stu-id="958be-197">If the obj folder is deleted, the Design-time Error List appears.</span></span>  
  
 <span data-ttu-id="958be-198">Al diseñar <xref:System.Windows.Forms.Integration.ElementHost>con , el Diseñador de Windows Forms usa archivos generados en la carpeta Depurar o Liberar dentro de la carpeta obj del proyecto.</span><span class="sxs-lookup"><span data-stu-id="958be-198">When you design using <xref:System.Windows.Forms.Integration.ElementHost>, the Windows Forms Designer uses generated files in the Debug or Release folder within your project's obj folder.</span></span> <span data-ttu-id="958be-199">Si se eliminan estos archivos, aparece la lista de errores en tiempo de diseño.</span><span class="sxs-lookup"><span data-stu-id="958be-199">If you delete these files, the Design-time Error List appears.</span></span> <span data-ttu-id="958be-200">Para corregir este problema, recompile el proyecto.</span><span class="sxs-lookup"><span data-stu-id="958be-200">To fix this problem, rebuild your project.</span></span> <span data-ttu-id="958be-201">Para más información, vea [Errores en tiempo de diseño en el Diseñador de Windows Forms](../../winforms/controls/design-time-errors-in-the-windows-forms-designer.md).</span><span class="sxs-lookup"><span data-stu-id="958be-201">For more information, see [Design-Time Errors in the Windows Forms Designer](../../winforms/controls/design-time-errors-in-the-windows-forms-designer.md).</span></span>  
  
<a name="elementhost_and_ime"></a>
## <a name="elementhost-and-ime"></a><span data-ttu-id="958be-202">ElementHost e IME</span><span class="sxs-lookup"><span data-stu-id="958be-202">ElementHost and IME</span></span>  
 <span data-ttu-id="958be-203">WPFWPF controles <xref:System.Windows.Forms.Integration.ElementHost> hospedados en <xref:System.Windows.Forms.Control.ImeMode%2A> un actualmente no admiten la propiedad.</span><span class="sxs-lookup"><span data-stu-id="958be-203">WPF controls hosted in an <xref:System.Windows.Forms.Integration.ElementHost> currently do not support the <xref:System.Windows.Forms.Control.ImeMode%2A> property.</span></span> <span data-ttu-id="958be-204">Los <xref:System.Windows.Forms.Control.ImeMode%2A> controles hospedados omitirán los cambios en.</span><span class="sxs-lookup"><span data-stu-id="958be-204">Changes to <xref:System.Windows.Forms.Control.ImeMode%2A> will be ignored by the hosted controls.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="958be-205">Consulte también</span><span class="sxs-lookup"><span data-stu-id="958be-205">See also</span></span>

- <xref:System.Windows.Forms.Integration.ElementHost>
- <xref:System.Windows.Forms.Integration.WindowsFormsHost>
- <span data-ttu-id="958be-206">[Interoperabilidad en WPF Designer](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2010/bb628658(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="958be-206">[Interoperability in the WPF Designer](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2010/bb628658(v=vs.100))</span></span>
- [<span data-ttu-id="958be-207">Arquitectura de entrada de interoperabilidad entre formularios Windows Forms y WPF</span><span class="sxs-lookup"><span data-stu-id="958be-207">Windows Forms and WPF Interoperability Input Architecture</span></span>](windows-forms-and-wpf-interoperability-input-architecture.md)
- [<span data-ttu-id="958be-208">Cómo: Habilitar estilos visuales en una aplicación híbrida</span><span class="sxs-lookup"><span data-stu-id="958be-208">How to: Enable Visual Styles in a Hybrid Application</span></span>](how-to-enable-visual-styles-in-a-hybrid-application.md)
- [<span data-ttu-id="958be-209">Consideraciones sobre el diseño del elemento WindowsFormsHost</span><span class="sxs-lookup"><span data-stu-id="958be-209">Layout Considerations for the WindowsFormsHost Element</span></span>](layout-considerations-for-the-windowsformshost-element.md)
- [<span data-ttu-id="958be-210">Asignación de propiedades en formularios Windows Forms y WPF</span><span class="sxs-lookup"><span data-stu-id="958be-210">Windows Forms and WPF Property Mapping</span></span>](windows-forms-and-wpf-property-mapping.md)
- [<span data-ttu-id="958be-211">Errores en tiempo de diseño en el Diseñador de Windows Forms</span><span class="sxs-lookup"><span data-stu-id="958be-211">Design-Time Errors in the Windows Forms Designer</span></span>](../../winforms/controls/design-time-errors-in-the-windows-forms-designer.md)
- [<span data-ttu-id="958be-212">Migración e interoperabilidad</span><span class="sxs-lookup"><span data-stu-id="958be-212">Migration and Interoperability</span></span>](migration-and-interoperability.md)
