---
title: Convertidores de tipos y extensiones de marcado para XAML
ms.date: 03/30/2017
helpviewer_keywords:
- XAML [XAML Services], type converter services
- XAML [XAML Services], value converters
- XAML [XAML Services], markup extension services
- value converters for XAML [XAML Services]
- XAML [XAML Services], service context
ms.assetid: db07a952-05ce-4aa4-b6f9-aac7397d0326
ms.openlocfilehash: bee94b03d4fd6e6f5ef8571e83f554b381dd6582
ms.sourcegitcommit: c2d9718996402993cf31541f11e95531bc68bad0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 02/27/2020
ms.locfileid: "81432891"
---
# <a name="type-converters-and-markup-extensions-for-xaml"></a><span data-ttu-id="80916-102">Convertidores de tipos y extensiones de marcado para XAML</span><span class="sxs-lookup"><span data-stu-id="80916-102">Type Converters and Markup Extensions for XAML</span></span>

<span data-ttu-id="80916-103">Los convertidores de tipos y extensiones de marcado son dos técnicas que los sistemas de tipos XAML y escritores de XAML utilizan para generar componentes de gráfico de objeto.</span><span class="sxs-lookup"><span data-stu-id="80916-103">Type converters and markup extensions are two techniques that XAML type systems and XAML writers use to generate object graph components.</span></span> <span data-ttu-id="80916-104">Aunque comparten algunas características, los convertidores de tipos y las extensiones de marcado se representan de forma diferente en una secuencia de nodo XAML.</span><span class="sxs-lookup"><span data-stu-id="80916-104">Although they share some characteristics, type converters and markup extensions are represented differently in a XAML node stream.</span></span> <span data-ttu-id="80916-105">En este conjunto de documentación, en ocasiones nos referimos colectivamente a los convertidores de tipos, las extensiones de marcado y construcciones similares como convertidores de valores.</span><span class="sxs-lookup"><span data-stu-id="80916-105">In this documentation set, type converters, markup extensions, and similar constructs are sometimes collectively referred to as value converters.</span></span>

## <a name="value-converters"></a><span data-ttu-id="80916-106">Convertidores de valores</span><span class="sxs-lookup"><span data-stu-id="80916-106">Value Converters</span></span>

<span data-ttu-id="80916-107">En XAML, los convertidores de valores se utilizan para varios escenarios.</span><span class="sxs-lookup"><span data-stu-id="80916-107">In XAML, value converters are used for various scenarios.</span></span> <span data-ttu-id="80916-108">La lista siguiente muestra los distintos tipos de convertidores de valores en XAML:</span><span class="sxs-lookup"><span data-stu-id="80916-108">The following list shows the different types of value converters in XAML:</span></span>

- <span data-ttu-id="80916-109">Convertidor de tipos</span><span class="sxs-lookup"><span data-stu-id="80916-109">Type converter</span></span>

- <span data-ttu-id="80916-110">Extensión de marcado</span><span class="sxs-lookup"><span data-stu-id="80916-110">Markup extension</span></span>

- <span data-ttu-id="80916-111">Serializador de valor</span><span class="sxs-lookup"><span data-stu-id="80916-111">Value serializer</span></span>

- <span data-ttu-id="80916-112">Clase relacionada o clase de compatibilidad que proporciona la lógica para una sintaxis de texto XAML</span><span class="sxs-lookup"><span data-stu-id="80916-112">Related class or support class that provides the logic for a XAML text syntax</span></span>

## <a name="type-converters"></a><span data-ttu-id="80916-113">Convertidores de tipos</span><span class="sxs-lookup"><span data-stu-id="80916-113">Type Converters</span></span>

<span data-ttu-id="80916-114">En la definición de servicios XAML de .NET, los convertidores de tipos son clases que derivan de la clase CLR. <xref:System.ComponentModel.TypeConverter></span><span class="sxs-lookup"><span data-stu-id="80916-114">In .NET XAML Services definition, type converters are classes that derive from the CLR <xref:System.ComponentModel.TypeConverter> class.</span></span> <span data-ttu-id="80916-115"><xref:System.ComponentModel.TypeConverter>es una clase que estaba en .NET antes de que existiera XAML.</span><span class="sxs-lookup"><span data-stu-id="80916-115"><xref:System.ComponentModel.TypeConverter> is a class that was in the .NET before XAML existed.</span></span> <span data-ttu-id="80916-116">Su propósito original era admitir ventanas de propiedades y metáforas de edición basadas en texto similares para propiedades IDE.</span><span class="sxs-lookup"><span data-stu-id="80916-116">Its original purpose was to support property windows and similar text-based editing metaphors for IDE properties.</span></span> <span data-ttu-id="80916-117">La introducción de XAML <xref:System.ComponentModel.TypeConverter> a .NET usa para convertir una sintaxis de texto (como se encuentra en un valor de atributo o un nodo de valor XAML) en un objeto.</span><span class="sxs-lookup"><span data-stu-id="80916-117">The introduction of XAML to .NET uses <xref:System.ComponentModel.TypeConverter> to convert a text syntax (as found in an attribute value or a XAML value node) into an object.</span></span> <span data-ttu-id="80916-118"><xref:System.ComponentModel.TypeConverter> también se puede utilizar para serializar el valor de un objeto en sintaxis de texto.</span><span class="sxs-lookup"><span data-stu-id="80916-118"><xref:System.ComponentModel.TypeConverter> can also be used to serialize an object value to text syntax.</span></span> <span data-ttu-id="80916-119"><xref:System.ComponentModel.TypeConverter>también se usó en implementaciones XAML específicas del marco de trabajo anteriores en Windows Presentation Foundation (WPF) y Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="80916-119"><xref:System.ComponentModel.TypeConverter> was also used in previous framework-specific XAML implementations in Windows Presentation Foundation (WPF) and Windows Communication Foundation (WCF).</span></span> <span data-ttu-id="80916-120">Para más información sobre <xref:System.ComponentModel.TypeConverter> en XAML, vea [Type Converters for XAML Overview](type-converters-overview.md).</span><span class="sxs-lookup"><span data-stu-id="80916-120">For more information about the <xref:System.ComponentModel.TypeConverter> in XAML, see [Type Converters for XAML Overview](type-converters-overview.md).</span></span>

## <a name="markup-extensions"></a><span data-ttu-id="80916-121">Extensiones de marcado</span><span class="sxs-lookup"><span data-stu-id="80916-121">Markup Extensions</span></span>

<span data-ttu-id="80916-122">En la implementación de Servicios XAML de <xref:System.Windows.Markup.MarkupExtension> .NET, las extensiones de marcado son clases que derivan de la clase.</span><span class="sxs-lookup"><span data-stu-id="80916-122">In .NET XAML Services implementation, markup extensions are classes that derive from the <xref:System.Windows.Markup.MarkupExtension> class.</span></span> <span data-ttu-id="80916-123">Las extensiones de marcado son un concepto se origina con esta forma en el lenguaje XAML.</span><span class="sxs-lookup"><span data-stu-id="80916-123">Markup extensions are a concept that in this form is originated by the XAML language.</span></span> <span data-ttu-id="80916-124">Puede pensar en una extensión de marcado como algo similar a una secuencia de escape extensible que llama a una clase de servicio para que proporcione su lógica.</span><span class="sxs-lookup"><span data-stu-id="80916-124">You can think of a markup extension as being something like an extensible escape sequence that calls into a service class to provide its logic.</span></span> <span data-ttu-id="80916-125">En términos de marcado, los procesadores de XAML reconocen universalmente una extensión de marcado mediante una secuencia de texto que comienza con una llave de apertura ({) en una cadena de texto.</span><span class="sxs-lookup"><span data-stu-id="80916-125">In terms of markup, XAML processors universally recognize a markup extension by a text sequence that starts with an opening brace ({) in a text string.</span></span>

<span data-ttu-id="80916-126">Las extensiones de marcado difieren de los convertidores de tipos.</span><span class="sxs-lookup"><span data-stu-id="80916-126">Markup extensions differ from type converters.</span></span> <span data-ttu-id="80916-127">Los convertidores de tipos se suelen asociados a tipos o miembros.</span><span class="sxs-lookup"><span data-stu-id="80916-127">Type converters are typically associated with types or members.</span></span> <span data-ttu-id="80916-128">Se invocan cuando la creación de un gráfico de objeto o una serialización encuentran sintaxis de texto que está asociada a esas entidades.</span><span class="sxs-lookup"><span data-stu-id="80916-128">They are invoked when an object graph creation or a serialization encounters text syntax that is associated with those entities.</span></span>

<span data-ttu-id="80916-129">Las extensiones de marcado están asociadas con una sola clase de servicio de compatibilidad, pero se pueden aplicar para cualquier valor de miembro.</span><span class="sxs-lookup"><span data-stu-id="80916-129">Markup extensions are associated with a single supporting service class, but can be applied for any member value.</span></span> <span data-ttu-id="80916-130">(Sin embargo, puede implementar la extensión de marcado para restringir deliberadamente su uso a determinados miembros o tipos de destino, mediante el uso de contexto de servicio.) Las extensiones de marcado pueden invalidar una asociación de convertidor de tipos.</span><span class="sxs-lookup"><span data-stu-id="80916-130">(However, you can implement your markup extension to deliberately restrict its use to certain members or destination types, by using service context.) Markup extensions can override a type converter association.</span></span> <span data-ttu-id="80916-131">También puede utilizarlas para especificar un valor de atributo para los miembros que, de otra forma, no admitirían una sintaxis de texto.</span><span class="sxs-lookup"><span data-stu-id="80916-131">Or you can use them to specify an attribute value for members that would not otherwise support a text syntax.</span></span>

<span data-ttu-id="80916-132">Para más información sobre el patrón de implementación de extensión de marcado para XAML, vea [Markup Extensions for XAML Overview](markup-extensions-overview.md).</span><span class="sxs-lookup"><span data-stu-id="80916-132">For more information about the markup extension implementation pattern for XAML, see [Markup Extensions for XAML Overview](markup-extensions-overview.md).</span></span>

## <a name="value-serializers"></a><span data-ttu-id="80916-133">Serializadores de valor</span><span class="sxs-lookup"><span data-stu-id="80916-133">Value Serializers</span></span>

<span data-ttu-id="80916-134">Un <xref:System.Windows.Markup.ValueSerializer> es un convertidor de tipos especializado que está optimiza para convertir un objeto en una cadena.</span><span class="sxs-lookup"><span data-stu-id="80916-134">A <xref:System.Windows.Markup.ValueSerializer> is a specialized type converter that is optimized for converting an object to a string.</span></span> <span data-ttu-id="80916-135">Un <xref:System.Windows.Markup.ValueSerializer> para XAML podría no implementar el método `ConvertFrom` en absoluto.</span><span class="sxs-lookup"><span data-stu-id="80916-135">A <xref:System.Windows.Markup.ValueSerializer> for XAML might not implement the `ConvertFrom` method at all.</span></span> <span data-ttu-id="80916-136">Una implementación de <xref:System.Windows.Markup.ValueSerializer> obtiene los servicios de tal manera que es como una implementación de <xref:System.ComponentModel.TypeConverter> .</span><span class="sxs-lookup"><span data-stu-id="80916-136">A <xref:System.Windows.Markup.ValueSerializer> implementation obtains services in a manner that is like a <xref:System.ComponentModel.TypeConverter> implementation.</span></span> <span data-ttu-id="80916-137">Los métodos virtuales proporcionan un parámetro `context` de entrada.</span><span class="sxs-lookup"><span data-stu-id="80916-137">The virtual methods provide an input `context` parameter.</span></span> <span data-ttu-id="80916-138">El parámetro `context` es de tipo <xref:System.Windows.Markup.IValueSerializerContext>, que hereda de la interfaz <xref:System.IServiceProvider> y tiene un método <xref:System.IServiceProvider.GetService%2A> .</span><span class="sxs-lookup"><span data-stu-id="80916-138">The `context` parameter is of type <xref:System.Windows.Markup.IValueSerializerContext>, which inherits from the <xref:System.IServiceProvider> interface and has a <xref:System.IServiceProvider.GetService%2A> method.</span></span>

<span data-ttu-id="80916-139">En el sistema de tipos XAML y para las implementaciones de sistema de escritura XAML que usan el procesamiento de bucle de nodo XAML para la serialización, un convertidor de valores que está asociado a un tipo o miembro se notifica mediante su propia propiedad <xref:System.Xaml.XamlType.ValueSerializer%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="80916-139">In the XAML type system and for XAML writer implementations that use XAML node loop processing for serialization, a value converter that is associated with a type or member is reported by its own <xref:System.Xaml.XamlType.ValueSerializer%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="80916-140">El significado para los sistemas de escritura XAML que realizan la serialización es que, si existen <xref:System.Xaml.XamlType.TypeConverter%2A?displayProperty=nameWithType> y <xref:System.Xaml.XamlType.ValueSerializer%2A?displayProperty=nameWithType> , se debe usar el convertidor de tipos para la ruta de acceso de carga y se debe usar el serializador de valor para la ruta de acceso de guardado.</span><span class="sxs-lookup"><span data-stu-id="80916-140">The meaning to XAML writers that perform serialization is that if a <xref:System.Xaml.XamlType.TypeConverter%2A?displayProperty=nameWithType> and <xref:System.Xaml.XamlType.ValueSerializer%2A?displayProperty=nameWithType> exist, the type converter should be used for the load path and the value serializer should be used for the save path.</span></span> <span data-ttu-id="80916-141">Si <xref:System.Xaml.XamlType.TypeConverter%2A?displayProperty=nameWithType> existe pero <xref:System.Xaml.XamlType.ValueSerializer%2A?displayProperty=nameWithType> es `null`, el convertidor de tipos también se utiliza para la ruta de acceso de guardado.</span><span class="sxs-lookup"><span data-stu-id="80916-141">If <xref:System.Xaml.XamlType.TypeConverter%2A?displayProperty=nameWithType> exists but <xref:System.Xaml.XamlType.ValueSerializer%2A?displayProperty=nameWithType> is `null`, the type converter is also used for the save path.</span></span>

## <a name="other-value-converters"></a><span data-ttu-id="80916-142">Otros convertidores de valores</span><span class="sxs-lookup"><span data-stu-id="80916-142">Other Value Converters</span></span>

<span data-ttu-id="80916-143">Un convertidor de valores es extensible más allá de los modelos concretos de un convertidor de tipos o una extensión de marcado.</span><span class="sxs-lookup"><span data-stu-id="80916-143">A value converter is extensible beyond the specific patterns of a type converter or a markup extension.</span></span> <span data-ttu-id="80916-144">Sin embargo, esta personalización también requeriría la redefinición del sistema de tipos XAML según lo proporcionado por los servicios XAML de .NET.</span><span class="sxs-lookup"><span data-stu-id="80916-144">However, this customization would also require the redefinition of the XAML type system as provided by .NET XAML Services.</span></span> <span data-ttu-id="80916-145">El sistema de tipos XAML existente tiene representaciones y sistemas de notificación para convertidores de tipos, extensiones de marcado y serializadores de valor, pero no para formas personalizadas de conversión de valor.</span><span class="sxs-lookup"><span data-stu-id="80916-145">The existing XAML type system has representations and reporting systems for type converters, markup extensions, and value serializers, but not for custom forms of value conversion.</span></span> <span data-ttu-id="80916-146">Si desea crear convertidores de valores personalizados, use el tipo <xref:System.Xaml.Schema.XamlValueConverter%601> .</span><span class="sxs-lookup"><span data-stu-id="80916-146">If you want to create custom value converters, use the <xref:System.Xaml.Schema.XamlValueConverter%601> type.</span></span>

## <a name="type-converters-and-markup-extensions-in-combination"></a><span data-ttu-id="80916-147">Convertidores de tipos y extensiones de marcado en combinación</span><span class="sxs-lookup"><span data-stu-id="80916-147">Type Converters and Markup Extensions in Combination</span></span>

<span data-ttu-id="80916-148">Las extensiones de marcado y los convertidores de tipos se utilizan para diferentes situaciones en XAML.</span><span class="sxs-lookup"><span data-stu-id="80916-148">Markup extensions and type converters are used for different situations in XAML.</span></span> <span data-ttu-id="80916-149">Aunque el contexto está disponible para los usos de la extensión de marcado, en las implementaciones de extensión de marcado no se suele comprobar el comportamiento de conversión de tipos de aquellas propiedades en las que una extensión de marcado proporciona un valor.</span><span class="sxs-lookup"><span data-stu-id="80916-149">Although context is available for markup extension usages, type conversion behavior of properties where a markup extension provides a value is generally is not checked in the markup extension implementations.</span></span> <span data-ttu-id="80916-150">En otras palabras, aunque una extensión de marcado devuelva una cadena de texto como salida de `ProvideValue` , no se invoca el comportamiento de conversión de tipos en esa cadena al aplicarla a una propiedad determinada o a un tipo de valor de propiedad determinado.</span><span class="sxs-lookup"><span data-stu-id="80916-150">In other words, even if a markup extension returns a text string as its `ProvideValue` output, type conversion behavior on that string as applied to a specific property or property value type is not invoked.</span></span> <span data-ttu-id="80916-151">Por lo general, el propósito de una extensión de marcado es procesar una cadena y devolver un objeto sin ningún convertidor de tipos implicado.</span><span class="sxs-lookup"><span data-stu-id="80916-151">Generally, the purpose of a markup extension is to process a string and return an object without any type converter involved.</span></span>

## <a name="service-context-for-a-value-converter"></a><span data-ttu-id="80916-152">Contexto de servicio para un convertidor de valores</span><span class="sxs-lookup"><span data-stu-id="80916-152">Service Context for a Value Converter</span></span>

<span data-ttu-id="80916-153">Cuando se implementa un convertidor de valores, suele ser necesario acceder a un contexto en el que se aplica el convertidor de valores.</span><span class="sxs-lookup"><span data-stu-id="80916-153">When you implement a value converter, you often need access to a context in which the value converter is applied.</span></span> <span data-ttu-id="80916-154">Este contexto se conoce como el contexto de servicio.</span><span class="sxs-lookup"><span data-stu-id="80916-154">This context is known as the service context.</span></span> <span data-ttu-id="80916-155">El contexto de servicio puede incluir información como el contexto de esquema XAML activo, acceso al sistema de asignación de tipos que proporcionan el contexto de esquema XAML y el escritor de objetos XAML, etc.</span><span class="sxs-lookup"><span data-stu-id="80916-155">The service context might include information such as the active XAML schema context, access to the type-mapping system that the XAML schema context and XAML object writer provide, and so on.</span></span> <span data-ttu-id="80916-156">Para más información sobre los contextos de servicio disponibles para un convertidor de valores y cómo acceder a los servicios que un contexto de servicio puede proporcionar, consulte [Service Contexts Available to Type Converters and Markup Extensions](service-contexts-with-type-converters-and-markup-extensions.md).</span><span class="sxs-lookup"><span data-stu-id="80916-156">For more information about the service contexts available for a value converter and how to access the services that a service context might provide, see [Service Contexts Available to Type Converters and Markup Extensions](service-contexts-with-type-converters-and-markup-extensions.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="80916-157">Consulte también</span><span class="sxs-lookup"><span data-stu-id="80916-157">See also</span></span>

- <xref:System.Windows.Markup.MarkupExtension>
- <xref:System.Xaml.XamlObjectWriter>
- [<span data-ttu-id="80916-158">Información general sobre las extensiones de marcado para el lenguaje XAML</span><span class="sxs-lookup"><span data-stu-id="80916-158">Markup Extensions for XAML Overview</span></span>](markup-extensions-overview.md)
- [<span data-ttu-id="80916-159">Información general sobre los convertidores de tipos para XAML</span><span class="sxs-lookup"><span data-stu-id="80916-159">Type Converters for XAML Overview</span></span>](type-converters-overview.md)
- [<span data-ttu-id="80916-160">Contextos de servicio disponibles para los convertidores de tipos y las extensiones de marcado</span><span class="sxs-lookup"><span data-stu-id="80916-160">Service Contexts Available to Type Converters and Markup Extensions</span></span>](service-contexts-with-type-converters-and-markup-extensions.md)
