---
title: Limitaciones en la serialización de XamlWriter.Save
ms.date: 03/30/2017
helpviewer_keywords:
- XamlWriter.Save [WPF], serialization limitations of
- limitations of XamlWriter.Save
- serialization limitations of XamlWriter.Save
ms.assetid: f86acc91-2b67-4039-8555-505734491d36
ms.openlocfilehash: 96e917898320fb5d49f4e7dfc27daa7750af9d41
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/12/2020
ms.locfileid: "79174373"
---
# <a name="serialization-limitations-of-xamlwritersave"></a><span data-ttu-id="e4f70-102">Limitaciones en la serialización de XamlWriter.Save</span><span class="sxs-lookup"><span data-stu-id="e4f70-102">Serialization Limitations of XamlWriter.Save</span></span>
<span data-ttu-id="e4f70-103">La <xref:System.Windows.Markup.XamlWriter.Save%2A> API se puede utilizar para [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] serializar [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] el contenido de una aplicación como un archivo.</span><span class="sxs-lookup"><span data-stu-id="e4f70-103">The API <xref:System.Windows.Markup.XamlWriter.Save%2A> can be used to serialize the contents of a [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] application as a [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] file.</span></span> <span data-ttu-id="e4f70-104">Pero existen algunas limitaciones notables relativas a qué se serializa exactamente.</span><span class="sxs-lookup"><span data-stu-id="e4f70-104">However, there are some notable limitations in exactly what is serialized.</span></span> <span data-ttu-id="e4f70-105">En este tema se documentan estas limitaciones y algunas consideraciones generales.</span><span class="sxs-lookup"><span data-stu-id="e4f70-105">These limitations and some general considerations are documented in this topic.</span></span>  

<a name="Run_Time__Not_Design_Time_Representation"></a>
## <a name="run-time-not-design-time-representation"></a><span data-ttu-id="e4f70-106">Representación en tiempo de ejecución, no en tiempo de diseño</span><span class="sxs-lookup"><span data-stu-id="e4f70-106">Run-Time, Not Design-Time Representation</span></span>  
 <span data-ttu-id="e4f70-107">La filosofía básica de lo que <xref:System.Windows.Markup.XamlWriter.Save%2A> se serializa mediante una llamada a es que el resultado será una representación del objeto que se serializa, en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="e4f70-107">The basic philosophy of what is serialized by a call to <xref:System.Windows.Markup.XamlWriter.Save%2A> is that the result will be a representation of the object being serialized, at run-time.</span></span> <span data-ttu-id="e4f70-108">Muchas propiedades en tiempo [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] de diseño del archivo original ya [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] pueden optimizarse o perderse en el momento <xref:System.Windows.Markup.XamlWriter.Save%2A> en que se carga como objetos en memoria y no se conservan cuando se llama a serializar.</span><span class="sxs-lookup"><span data-stu-id="e4f70-108">Many design-time properties of the original [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file may already be optimized or lost by the time that the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] is loaded as in-memory objects, and are not preserved when you call <xref:System.Windows.Markup.XamlWriter.Save%2A> to serialize.</span></span> <span data-ttu-id="e4f70-109">El resultado serializado es una representación efectiva del árbol lógico construido de la aplicación, pero no necesariamente del [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] original que lo ha generado.</span><span class="sxs-lookup"><span data-stu-id="e4f70-109">The serialized result is an effective representation of the constructed logical tree of the application, but not necessarily of the original [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] that produced it.</span></span> <span data-ttu-id="e4f70-110">Estos problemas hacen que sea <xref:System.Windows.Markup.XamlWriter.Save%2A> extremadamente difícil utilizar [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] la serialización como parte de una amplia superficie de diseño.</span><span class="sxs-lookup"><span data-stu-id="e4f70-110">These issues make it extremely difficult to use the <xref:System.Windows.Markup.XamlWriter.Save%2A> serialization as part of an extensive [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] design surface.</span></span>  
  
<a name="Serialization_is_Self_Contained"></a>
## <a name="serialization-is-self-contained"></a><span data-ttu-id="e4f70-111">Autonomía de la serialización</span><span class="sxs-lookup"><span data-stu-id="e4f70-111">Serialization is Self-Contained</span></span>  
 <span data-ttu-id="e4f70-112">La salida serializada de <xref:System.Windows.Markup.XamlWriter.Save%2A> es independiente; todo lo que se serializa [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] está contenido dentro de una sola página, con un único elemento raíz y sin referencias externas que no sean URI.</span><span class="sxs-lookup"><span data-stu-id="e4f70-112">The serialized output of <xref:System.Windows.Markup.XamlWriter.Save%2A> is self-contained; everything that is serialized is contained inside a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] single page, with a single root element, and no external references other than URIs.</span></span> <span data-ttu-id="e4f70-113">Por ejemplo, si en la página se hace referencia a recursos de los recursos de la aplicación, estos aparecerán como si se tratara de un componente de la página serializada.</span><span class="sxs-lookup"><span data-stu-id="e4f70-113">For instance, if your page referenced resources from application resources, these will appear as if they were a component of the page being serialized.</span></span>  
  
<a name="Extension_References_are_Dereferenced"></a>
## <a name="extension-references-are-dereferenced"></a><span data-ttu-id="e4f70-114">Desreferenciación de extensiones</span><span class="sxs-lookup"><span data-stu-id="e4f70-114">Extension References are Dereferenced</span></span>  
 <span data-ttu-id="e4f70-115">El proceso de serialización desreferenciará las referencias comunes a los objetos realizadas por diversos formatos de extensión de marcado, como `StaticResource` o `Binding`.</span><span class="sxs-lookup"><span data-stu-id="e4f70-115">Common references to objects made by various markup extension formats, such as `StaticResource` or `Binding`, will be dereferenced by the serialization process.</span></span> <span data-ttu-id="e4f70-116">Estos ya se desreferenciaron en el momento en que <xref:System.Windows.Markup.XamlWriter.Save%2A> el tiempo de ejecución [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] de la aplicación creó objetos en memoria y la lógica no vuelve a visitar el original para restaurar dichas referencias a la salida serializada.</span><span class="sxs-lookup"><span data-stu-id="e4f70-116">These were already dereferenced at the time that in-memory objects were created by the application runtime, and the <xref:System.Windows.Markup.XamlWriter.Save%2A> logic does not revisit the original [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] to restore such references to the serialized output.</span></span> <span data-ttu-id="e4f70-117">Esto inmoviliza potencialmente todos los valores obtenidos de los recursos o enlazados a datos en el último valor usado por la representación en tiempo de ejecución, y únicamente se dispone de una capacidad limitada o indirecta para distinguir este valor de cualquier otro establecido localmente.</span><span class="sxs-lookup"><span data-stu-id="e4f70-117">This potentially freezes any databound or resource obtained value to be the value last used by the run-time representation, with only limited or indirect ability to distinguish such a value from any other value set locally.</span></span> <span data-ttu-id="e4f70-118">Las imágenes también se serializan como referencias de objeto a imágenes tal como existen en el proyecto, en lugar de como referencias de origen originales, lo que pierde cualquier nombre de archivo o URI al que se hizo referencia originalmente.</span><span class="sxs-lookup"><span data-stu-id="e4f70-118">Images are also serialized as object references to images as they exist in the project, rather than as original source references, losing whatever filename or URI was originally referenced.</span></span> <span data-ttu-id="e4f70-119">Incluso los recursos declarados dentro de la misma página aparecen serializados en el punto donde se ha hecho referencia a ellos, en lugar de conservarse como una clave de una colección de recursos.</span><span class="sxs-lookup"><span data-stu-id="e4f70-119">Even resources declared within the same page are seen serialized into the point where they were referenced, rather than being preserved as a key of a resource collection.</span></span>  
  
<a name="Event_Handling_is_Not_Preserved"></a>
## <a name="event-handling-is-not-preserved"></a><span data-ttu-id="e4f70-120">No se conserva el control de eventos</span><span class="sxs-lookup"><span data-stu-id="e4f70-120">Event Handling is Not Preserved</span></span>  
 <span data-ttu-id="e4f70-121">Cuando se serializan controladores de eventos que se agregan mediante [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], no se conservan.</span><span class="sxs-lookup"><span data-stu-id="e4f70-121">When event handlers that are added through [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] are serialized, they are not preserved.</span></span> [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] <span data-ttu-id="e4f70-122">sin código subyacente (y sin el mecanismo relacionado x:Code) no dispone de ninguna manera de serializar la lógica de procedimiento en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="e4f70-122">without code-behind (and also without the related x:Code mechanism) has no way of serializing runtime procedural logic.</span></span> <span data-ttu-id="e4f70-123">Dado que la serialización es autónoma y se limita al árbol lógico, no existe ningún medio para almacenar los controladores de eventos.</span><span class="sxs-lookup"><span data-stu-id="e4f70-123">Because serialization is self-contained and limited to the logical tree, there is no facility for storing the event handlers.</span></span> <span data-ttu-id="e4f70-124">Como resultado, los atributos de controladores de eventos, tanto el propio atributo como el valor de cadena que da nombre al controlador, se quitan del [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] de salida.</span><span class="sxs-lookup"><span data-stu-id="e4f70-124">As a result, event handler attributes, both the attribute itself and the string value that names the handler, are removed from the output [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span>  
  
<a name="Realistic_Scenarios_for_Use_of_XAMLWriter_Save"></a>
## <a name="realistic-scenarios-for-use-of-xamlwritersave"></a><span data-ttu-id="e4f70-125">Escenarios realistas para el uso de XAMLWriter.Save</span><span class="sxs-lookup"><span data-stu-id="e4f70-125">Realistic Scenarios for Use of XAMLWriter.Save</span></span>  
 <span data-ttu-id="e4f70-126">Aunque las limitaciones enumeradas aquí son bastante sustanciales, <xref:System.Windows.Markup.XamlWriter.Save%2A> todavía hay varios escenarios apropiados para usar para la serialización.</span><span class="sxs-lookup"><span data-stu-id="e4f70-126">While the limitations listed here are fairly substantial, there are still several appropriate scenarios for using <xref:System.Windows.Markup.XamlWriter.Save%2A> for serialization.</span></span>  
  
- <span data-ttu-id="e4f70-127">Salida vectorial o gráfica: la salida del área representada se puede usar para reproducir el mismo vector o gráfico al volver a cargarla.</span><span class="sxs-lookup"><span data-stu-id="e4f70-127">Vector or graphical output: The output of the rendered area can be used to reproduce the same vector or graphics when reloaded.</span></span>  
  
- <span data-ttu-id="e4f70-128">Documentos de texto enriquecido y dinámicos: el texto y el formato y la contención de todos los elementos se conservan en la salida.</span><span class="sxs-lookup"><span data-stu-id="e4f70-128">Rich text and flow documents: Text and all element formatting and element containment within it is preserved in the output.</span></span> <span data-ttu-id="e4f70-129">Esto puede ser útil para los mecanismos afines a la funcionalidad del Portapapeles.</span><span class="sxs-lookup"><span data-stu-id="e4f70-129">This can be useful for mechanisms that approximate a clipboard functionality.</span></span>  
  
- <span data-ttu-id="e4f70-130">Conservación de datos de objetos de negocio: si ha almacenado datos en elementos personalizados, como datos XML, siempre que los objetos de negocio sigan reglas básicas [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] como proporcionar constructores personalizados y conversión para los valores de propiedad por referencia, estos objetos de negocio se pueden perpetuar mediante la serialización.</span><span class="sxs-lookup"><span data-stu-id="e4f70-130">Preserving business object data: If you have stored data in custom elements, such as XML data, so long as your business objects follow basic [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] rules such as providing custom constructors and conversion for by-reference property values, these business objects can be perpetuated through serialization.</span></span>
