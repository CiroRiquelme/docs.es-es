---
title: Arquitectura de microservicios
description: Arquitectura de microservicios de .NET para aplicaciones .NET en contenedor | Vista desde unos 9000 metros de la arquitectura de microservicios.
ms.date: 09/20/2018
ms.openlocfilehash: d1c58d218be9e5f8c0ae8ae732f9bdd06674a2c2
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 03/14/2020
ms.locfileid: "71834384"
---
# <a name="microservices-architecture"></a><span data-ttu-id="b9843-103">Arquitectura de microservicios</span><span class="sxs-lookup"><span data-stu-id="b9843-103">Microservices architecture</span></span>

<span data-ttu-id="b9843-104">Como su nombre indica, una arquitectura de microservicios es un enfoque para la generación de una aplicación de servidor como un conjunto de servicios pequeños.</span><span class="sxs-lookup"><span data-stu-id="b9843-104">As the name implies, a microservices architecture is an approach to building a server application as a set of small services.</span></span> <span data-ttu-id="b9843-105">Esto significa que una arquitectura de microservicios está orientada principalmente hacia el back-end, aunque el enfoque también se utiliza para el front-end.</span><span class="sxs-lookup"><span data-stu-id="b9843-105">That means a microservices architecture is mainly oriented to the back-end, although the approach is also being used for the front end.</span></span> <span data-ttu-id="b9843-106">Cada servicio se ejecuta en su propio proceso y se comunica con otros procesos mediante protocolos como HTTP/HTTPS, WebSockets o [AMQP](https://en.wikipedia.org/wiki/Advanced_Message_Queuing_Protocol).</span><span class="sxs-lookup"><span data-stu-id="b9843-106">Each service runs in its own process and communicates with other processes using protocols such as HTTP/HTTPS, WebSockets, or [AMQP](https://en.wikipedia.org/wiki/Advanced_Message_Queuing_Protocol).</span></span> <span data-ttu-id="b9843-107">Cada microservicio implementa un dominio de un extremo a otro específico o una capacidad empresarial dentro de un determinado límite de contexto, y cada uno se debe desarrollar de forma autónoma e implementar de forma independiente.</span><span class="sxs-lookup"><span data-stu-id="b9843-107">Each microservice implements a specific end-to-end domain or business capability within a certain context boundary, and each must be developed autonomously and be deployable independently.</span></span> <span data-ttu-id="b9843-108">Por último, cada microservicio debe poseer su modelo de datos de dominio relacionado y su lógica del dominio (soberanía y administración de datos descentralizada), y podría basarse en otras tecnologías de almacenamiento de datos (SQL, NoSQL) y lenguajes de programación.</span><span class="sxs-lookup"><span data-stu-id="b9843-108">Finally, each microservice should own its related domain data model and domain logic (sovereignty and decentralized data management) and could be based on different data storage technologies (SQL, NoSQL) and different programming languages.</span></span>

<span data-ttu-id="b9843-109">¿Qué tamaño debe tener un microservicio?</span><span class="sxs-lookup"><span data-stu-id="b9843-109">What size should a microservice be?</span></span> <span data-ttu-id="b9843-110">Al desarrollar un microservicio, el tamaño no debe ser lo más importante.</span><span class="sxs-lookup"><span data-stu-id="b9843-110">When developing a microservice, size shouldn't be the important point.</span></span> <span data-ttu-id="b9843-111">En su lugar, el punto importante debe ser crear libremente servicios acoplados para que tenga autonomía de desarrollo, implementación y escala, para cada servicio.</span><span class="sxs-lookup"><span data-stu-id="b9843-111">Instead, the important point should be to create loosely coupled services so you have autonomy of development, deployment, and scale, for each service.</span></span> <span data-ttu-id="b9843-112">Por supuesto, al identificar y diseñar microservicios, debe intentar que sean lo más pequeños posible, siempre y cuando no tenga demasiadas dependencias directas con otros microservicios.</span><span class="sxs-lookup"><span data-stu-id="b9843-112">Of course, when identifying and designing microservices, you should try to make them as small as possible as long as you don't have too many direct dependencies with other microservices.</span></span> <span data-ttu-id="b9843-113">Más importante que el tamaño del microservicio es la cohesión interna que debe tener y su independencia respecto a otros servicios.</span><span class="sxs-lookup"><span data-stu-id="b9843-113">More important than the size of the microservice is the internal cohesion it must have and its independence from other services.</span></span>

<span data-ttu-id="b9843-114">¿Por qué se debe tener una arquitectura de microservicios?</span><span class="sxs-lookup"><span data-stu-id="b9843-114">Why a microservices architecture?</span></span> <span data-ttu-id="b9843-115">En resumen, proporciona agilidad a largo plazo.</span><span class="sxs-lookup"><span data-stu-id="b9843-115">In short, it provides long-term agility.</span></span> <span data-ttu-id="b9843-116">Con los microservicios puede crear aplicaciones basadas en muchos servicios que se pueden implementar de forma independiente y que tienen ciclos de vida granulares y autónomos, lo que permite un mejor mantenimiento en sistemas complejos, grandes y altamente escalables.</span><span class="sxs-lookup"><span data-stu-id="b9843-116">Microservices enable better maintainability in complex, large, and highly-scalable systems by letting you create applications based on many independently deployable services that each have granular and autonomous lifecycles.</span></span>

<span data-ttu-id="b9843-117">Como ventaja adicional, los microservicios se pueden escalar horizontalmente de forma independiente.</span><span class="sxs-lookup"><span data-stu-id="b9843-117">As an additional benefit, microservices can scale out independently.</span></span> <span data-ttu-id="b9843-118">En lugar de disponer de una sola aplicación monolítica que debe escalar horizontalmente como una unidad, puede escalar horizontalmente microservicios concretos.</span><span class="sxs-lookup"><span data-stu-id="b9843-118">Instead of having a single monolithic application that you must scale out as a unit, you can instead scale out specific microservices.</span></span> <span data-ttu-id="b9843-119">De esa forma, puede escalar solo el área funcional que necesita más potencia de procesamiento o ancho de banda para admitir la demanda, en lugar de escalar horizontalmente otras partes de la aplicación que no hace falta escalar.</span><span class="sxs-lookup"><span data-stu-id="b9843-119">That way, you can scale just the functional area that needs more processing power or network bandwidth to support demand, rather than scaling out other areas of the application that don't need to be scaled.</span></span> <span data-ttu-id="b9843-120">Así, puede ahorrar en costes porque necesita menos hardware.</span><span class="sxs-lookup"><span data-stu-id="b9843-120">That means cost savings because you need less hardware.</span></span>

![Diagrama de las diferencias entre los dos métodos de implementación.](./media/microservices-architecture/monolith-deployment-vs-microservice-approach.png)

<span data-ttu-id="b9843-122">**Figura 4-6**.</span><span class="sxs-lookup"><span data-stu-id="b9843-122">**Figure 4-6**.</span></span> <span data-ttu-id="b9843-123">Implementación monolítica frente al enfoque de los microservicios</span><span class="sxs-lookup"><span data-stu-id="b9843-123">Monolithic deployment versus the microservices approach</span></span>

<span data-ttu-id="b9843-124">Como se muestra en la figura 4-6, en el enfoque monolítico tradicional, la aplicación se escala mediante la clonación de toda la aplicación en varios servidores o máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="b9843-124">As Figure 4-6 shows, in the traditional monolithic approach, the application scales by cloning the whole app in several servers/VM.</span></span> <span data-ttu-id="b9843-125">En el enfoque de microservicios, la funcionalidad se aísla en servicios más pequeños, por lo que cada servicio puede escalarse de forma independiente.</span><span class="sxs-lookup"><span data-stu-id="b9843-125">In the microservices approach, functionality is segregated in smaller services, so each service can scale independently.</span></span> <span data-ttu-id="b9843-126">El enfoque de los microservicios permite modificaciones ágiles e iteraciones rápidas de cada microservicio, ya que puede cambiar áreas específicas y pequeñas de aplicaciones complejas, grandes y escalables.</span><span class="sxs-lookup"><span data-stu-id="b9843-126">The microservices approach allows agile changes and rapid iteration of each microservice, because you can change specific, small areas of complex, large, and scalable applications.</span></span>

<span data-ttu-id="b9843-127">Diseñar la arquitectura de aplicaciones específicas basadas en microservicios habilita una integración continua y prácticas de entrega continua.</span><span class="sxs-lookup"><span data-stu-id="b9843-127">Architecting fine-grained microservices-based applications enables continuous integration and continuous delivery practices.</span></span> <span data-ttu-id="b9843-128">También acelera la entrega de nuevas funciones en la aplicación.</span><span class="sxs-lookup"><span data-stu-id="b9843-128">It also accelerates delivery of new functions into the application.</span></span> <span data-ttu-id="b9843-129">La composición específica de las aplicaciones también le permite ejecutar y probar los microservicios de manera aislada y hacerlos evolucionar de forma autónoma a la vez que mantiene contratos claros entre ellos.</span><span class="sxs-lookup"><span data-stu-id="b9843-129">Fine-grained composition of applications also allows you to run and test microservices in isolation, and to evolve them autonomously while maintaining clear contracts between them.</span></span> <span data-ttu-id="b9843-130">Siempre y cuando no cambie las interfaces o los contratos, puede cambiar la implementación interna de cualquier microservicio o agregar nuevas funciones sin que ello interrumpa otros microservicios.</span><span class="sxs-lookup"><span data-stu-id="b9843-130">As long as you don't change the interfaces or contracts, you can change the internal implementation of any microservice or add new functionality without breaking other microservices.</span></span>

<span data-ttu-id="b9843-131">Después se indican aspectos importantes para habilitar el éxito de pasar a producción con un sistema basado en microservicios:</span><span class="sxs-lookup"><span data-stu-id="b9843-131">The following are important aspects to enable success in going into production with a microservices-based system:</span></span>

- <span data-ttu-id="b9843-132">Supervisión y comprobaciones de estado de los servicios y la infraestructura.</span><span class="sxs-lookup"><span data-stu-id="b9843-132">Monitoring and health checks of the services and infrastructure.</span></span>

- <span data-ttu-id="b9843-133">Infraestructura escalable para los servicios (es decir, la nube y orquestadores).</span><span class="sxs-lookup"><span data-stu-id="b9843-133">Scalable infrastructure for the services (that is, cloud and orchestrators).</span></span>

- <span data-ttu-id="b9843-134">Diseño de seguridad e implementación en varios niveles: autenticación, autorización, administración de secretos, comunicación segura, etc.</span><span class="sxs-lookup"><span data-stu-id="b9843-134">Security design and implementation at multiple levels: authentication, authorization, secrets management, secure communication, etc.</span></span>

- <span data-ttu-id="b9843-135">Entrega rápida de aplicaciones, en que normalmente distintos equipos que centran en microservicios diferentes.</span><span class="sxs-lookup"><span data-stu-id="b9843-135">Rapid application delivery, usually with different teams focusing on different microservices.</span></span>

- <span data-ttu-id="b9843-136">Infraestructura y prácticas de DevOps y CI/CD.</span><span class="sxs-lookup"><span data-stu-id="b9843-136">DevOps and CI/CD practices and infrastructure.</span></span>

<span data-ttu-id="b9843-137">En esta guía solo se cubren o introducen los tres primeros aspectos.</span><span class="sxs-lookup"><span data-stu-id="b9843-137">Of these, only the first three are covered or introduced in this guide.</span></span> <span data-ttu-id="b9843-138">Los dos últimos puntos, que están relacionados con el ciclo de vida de la aplicación, se tratan en el libro electrónico adicional [Ciclo de vida de aplicaciones de Docker en contenedor con la plataforma y las herramientas de Microsoft](https://aka.ms/dockerlifecycleebook).</span><span class="sxs-lookup"><span data-stu-id="b9843-138">The last two points, which are related to application lifecycle, are covered in the additional [Containerized Docker Application Lifecycle with Microsoft Platform and Tools](https://aka.ms/dockerlifecycleebook) e-book.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="b9843-139">Recursos adicionales</span><span class="sxs-lookup"><span data-stu-id="b9843-139">Additional resources</span></span>

- <span data-ttu-id="b9843-140">**Mark Russinovich. Microservices: Microservicios: una revolución de las aplicaciones con la tecnología de la nube** </span><span class="sxs-lookup"><span data-stu-id="b9843-140">**Mark Russinovich. Microservices: An application revolution powered by the cloud** </span></span>\
  <https://azure.microsoft.com/blog/microservices-an-application-revolution-powered-by-the-cloud/>

- <span data-ttu-id="b9843-141">**Martin Fowler. Microservicios** </span><span class="sxs-lookup"><span data-stu-id="b9843-141">**Martin Fowler. Microservices** </span></span>\
  <https://www.martinfowler.com/articles/microservices.html>

- <span data-ttu-id="b9843-142">**Martin Fowler. Requisitos previos de microservicios** </span><span class="sxs-lookup"><span data-stu-id="b9843-142">**Martin Fowler. Microservice Prerequisites** </span></span>\
  <https://martinfowler.com/bliki/MicroservicePrerequisites.html>

- <span data-ttu-id="b9843-143">**Jimmy Nilsson. Informática en la nube de fragmentos** </span><span class="sxs-lookup"><span data-stu-id="b9843-143">**Jimmy Nilsson. Chunk Cloud Computing** </span></span>\
  <https://www.infoq.com/articles/CCC-Jimmy-Nilsson>

- <span data-ttu-id="b9843-144">**Cesar de la Torre. Ciclo de vida de aplicaciones de Docker en contenedor con la plataforma y las herramientas de Microsoft;** (libro electrónico descargable) </span><span class="sxs-lookup"><span data-stu-id="b9843-144">**Cesar de la Torre. Containerized Docker Application Lifecycle with Microsoft Platform and Tools** (downloadable e-book) </span></span>\
  <https://aka.ms/dockerlifecycleebook>

>[!div class="step-by-step"]
><span data-ttu-id="b9843-145">[Anterior](service-oriented-architecture.md)
>[Siguiente](data-sovereignty-per-microservice.md)</span><span class="sxs-lookup"><span data-stu-id="b9843-145">[Previous](service-oriented-architecture.md)
[Next](data-sovereignty-per-microservice.md)</span></span>
