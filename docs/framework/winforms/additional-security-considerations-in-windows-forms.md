---
title: Consideraciones de seguridad adicionales
ms.date: 03/30/2017
helpviewer_keywords:
- Windows Forms, secure calls to Windows API
- security [Windows Forms]
- security [Windows Forms], calling APIs
- Clipboard [Windows Forms], securing access
ms.assetid: 15abda8b-0527-47c7-aedb-77ab595f2bf1
ms.openlocfilehash: c8d51a57194f1dc536bc4b5d0376987dbfd3b2cf
ms.sourcegitcommit: de17a7a0a37042f0d4406f5ae5393531caeb25ba
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/24/2020
ms.locfileid: "76739808"
---
# <a name="additional-security-considerations-in-windows-forms"></a><span data-ttu-id="51990-102">Consideraciones de seguridad adicionales en Windows Forms</span><span class="sxs-lookup"><span data-stu-id="51990-102">Additional Security Considerations in Windows Forms</span></span>
<span data-ttu-id="51990-103">.NET Framework configuración de seguridad puede hacer que la aplicación se ejecute de forma diferente en un entorno de confianza parcial que en el equipo local.</span><span class="sxs-lookup"><span data-stu-id="51990-103">.NET Framework security settings might cause your application to run differently in a partial trust environment than on your local computer.</span></span> <span data-ttu-id="51990-104">En el .NET Framework se restringe el acceso a los recursos locales críticos como el sistema de archivos, la red y las API no administradas, entre otras cosas.</span><span class="sxs-lookup"><span data-stu-id="51990-104">The .NET Framework restricts access to such critical local resources as the file system, network, and unmanaged APIs, among other things.</span></span> <span data-ttu-id="51990-105">La configuración de seguridad afecta a la capacidad de llamar a la API de Microsoft Windows u otras API que el sistema de seguridad no puede comprobar.</span><span class="sxs-lookup"><span data-stu-id="51990-105">The security settings affect the ability to call the Microsoft Windows API or other APIs that cannot be verified by the security system.</span></span> <span data-ttu-id="51990-106">La seguridad afecta también a otros aspectos de la aplicación, incluido el acceso a archivos y datos y su impresión.</span><span class="sxs-lookup"><span data-stu-id="51990-106">Security also affects other aspects of your application, including file and data access, and printing.</span></span> <span data-ttu-id="51990-107">Para más información sobre el acceso a archivos y datos en un entorno de confianza parcial, consulte [Acceso más seguro a archivos y datos en Windows Forms](more-secure-file-and-data-access-in-windows-forms.md).</span><span class="sxs-lookup"><span data-stu-id="51990-107">For more information about file and data access in a partial trust environment, see [More Secure File and Data Access in Windows Forms](more-secure-file-and-data-access-in-windows-forms.md).</span></span> <span data-ttu-id="51990-108">Para más información sobre cómo imprimir en un entorno de confianza parcial, consulte [Impresión más segura en Windows Forms](more-secure-printing-in-windows-forms.md).</span><span class="sxs-lookup"><span data-stu-id="51990-108">For more information about printing in a partial trust environment, see [More Secure Printing in Windows Forms](more-secure-printing-in-windows-forms.md).</span></span>  
  
 <span data-ttu-id="51990-109">En las secciones siguientes se explica cómo trabajar con el portapapeles, realizar la manipulación de ventanas y llamar a la API de Windows desde aplicaciones que se ejecutan en un entorno de confianza parcial.</span><span class="sxs-lookup"><span data-stu-id="51990-109">The following sections discuss how to work with the Clipboard, perform window manipulation, and call the Windows API from applications that are running in a partial trust environment.</span></span>  
  
## <a name="clipboard-access"></a><span data-ttu-id="51990-110">Acceso al Portapapeles</span><span class="sxs-lookup"><span data-stu-id="51990-110">Clipboard Access</span></span>  
 <span data-ttu-id="51990-111">La clase <xref:System.Security.Permissions.UIPermission> controla el acceso al portapapeles y el valor de enumeración <xref:System.Security.Permissions.UIPermissionClipboard> asociado indica el nivel de acceso.</span><span class="sxs-lookup"><span data-stu-id="51990-111">The <xref:System.Security.Permissions.UIPermission> class controls access to the Clipboard, and the associated <xref:System.Security.Permissions.UIPermissionClipboard> enumeration value indicates the level of access.</span></span> <span data-ttu-id="51990-112">En la tabla siguiente se muestran los niveles de permiso posibles.</span><span class="sxs-lookup"><span data-stu-id="51990-112">The following table shows the possible permission levels.</span></span>  
  
|<span data-ttu-id="51990-113">Valor UIPermissionClipboard</span><span class="sxs-lookup"><span data-stu-id="51990-113">UIPermissionClipboard value</span></span>|<span data-ttu-id="51990-114">Descripción</span><span class="sxs-lookup"><span data-stu-id="51990-114">Description</span></span>|  
|---------------------------------|-----------------|  
|<xref:System.Security.Permissions.UIPermissionClipboard.AllClipboard>|<span data-ttu-id="51990-115">El Portapapeles se puede utilizar sin límites.</span><span class="sxs-lookup"><span data-stu-id="51990-115">The Clipboard can be used without restriction.</span></span>|  
|<xref:System.Security.Permissions.UIPermissionClipboard.OwnClipboard>|<span data-ttu-id="51990-116">El Portapapeles se puede utilizar con ciertas limitaciones.</span><span class="sxs-lookup"><span data-stu-id="51990-116">The Clipboard can be used with some restrictions.</span></span> <span data-ttu-id="51990-117">La capacidad de colocar datos en el Portapapeles (operaciones del comando Copiar o Cortar) no está limitada.</span><span class="sxs-lookup"><span data-stu-id="51990-117">The ability to put data on the Clipboard (Copy or Cut command operations) is unrestricted.</span></span> <span data-ttu-id="51990-118">Los controles intrínsecos que acepten Pegar, como un cuadro de texto, pueden aceptar datos del Portapapeles, pero los controles de usuario no pueden leer el Portapapeles mediante programación.</span><span class="sxs-lookup"><span data-stu-id="51990-118">Intrinsic controls that accept paste, such as a text box, can accept Clipboard data, but user controls cannot programmatically read from the Clipboard.</span></span>|  
|<xref:System.Security.Permissions.UIPermissionClipboard.NoClipboard>|<span data-ttu-id="51990-119">No se puede usar el Portapapeles.</span><span class="sxs-lookup"><span data-stu-id="51990-119">The Clipboard cannot be used.</span></span>|  
  
 <span data-ttu-id="51990-120">De forma predeterminada, la zona Intranet local recibe el acceso <xref:System.Security.Permissions.UIPermissionClipboard.AllClipboard> y la zona Internet recibe <xref:System.Security.Permissions.UIPermissionClipboard.OwnClipboard> acceso.</span><span class="sxs-lookup"><span data-stu-id="51990-120">By default, the Local Intranet zone receives <xref:System.Security.Permissions.UIPermissionClipboard.AllClipboard> access and the Internet zone receives <xref:System.Security.Permissions.UIPermissionClipboard.OwnClipboard> access.</span></span> <span data-ttu-id="51990-121">Esto significa que la aplicación puede copiar datos en el Portapapeles, pero no puede leer el Portapapeles ni pegar datos en él mediante programación.</span><span class="sxs-lookup"><span data-stu-id="51990-121">This means that the application can copy data to the Clipboard, but the application cannot programmatically paste to or read from the Clipboard.</span></span> <span data-ttu-id="51990-122">Estas limitaciones impiden que los programas que no sean de plena confianza lean el contenido copiado en el Portapapeles por otra aplicación.</span><span class="sxs-lookup"><span data-stu-id="51990-122">These restrictions prevent programs without full trust from reading content copied to the Clipboard by another application.</span></span> <span data-ttu-id="51990-123">Si la aplicación requiere acceso total al Portapapeles pero no tiene los permisos necesarios, deberá conceder dichos permisos a la aplicación.</span><span class="sxs-lookup"><span data-stu-id="51990-123">If your application requires full Clipboard access but you do not have the permissions, you will have to elevate the permissions for your application.</span></span> <span data-ttu-id="51990-124">Para más información sobre la elevación de permisos, vea [Administración general de directivas de seguridad](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ed5htz45(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="51990-124">For more information about elevating permissions, see [General Security Policy Administration](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ed5htz45(v=vs.100)).</span></span>  
  
## <a name="window-manipulation"></a><span data-ttu-id="51990-125">Manipulación de ventanas</span><span class="sxs-lookup"><span data-stu-id="51990-125">Window Manipulation</span></span>  
 <span data-ttu-id="51990-126">La clase <xref:System.Security.Permissions.UIPermission> controla también el permiso para realizar la manipulación de ventanas y otras acciones relacionadas con la interfaz de usuario, y el valor de enumeración <xref:System.Security.Permissions.UIPermissionWindow> asociado indica el nivel de acceso.</span><span class="sxs-lookup"><span data-stu-id="51990-126">The <xref:System.Security.Permissions.UIPermission> class also controls permission to perform window manipulation and other UI-related actions, and the associated <xref:System.Security.Permissions.UIPermissionWindow> enumeration value indicates the level of access.</span></span> <span data-ttu-id="51990-127">En la tabla siguiente se muestran los niveles de permiso posibles.</span><span class="sxs-lookup"><span data-stu-id="51990-127">The following table shows the possible permission levels.</span></span>  
  
 <span data-ttu-id="51990-128">De forma predeterminada, la zona Intranet local recibe el acceso <xref:System.Security.Permissions.UIPermissionWindow.AllWindows> y la zona Internet recibe <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> acceso.</span><span class="sxs-lookup"><span data-stu-id="51990-128">By default, the Local Intranet zone receives <xref:System.Security.Permissions.UIPermissionWindow.AllWindows> access and the Internet zone receives <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> access.</span></span> <span data-ttu-id="51990-129">Esto significa que, en la zona Internet, la aplicación puede realizar la mayoría de las operaciones de ventanas de la interfaz de usuario, pero se modificará la apariencia de la ventana.</span><span class="sxs-lookup"><span data-stu-id="51990-129">This means that in the Internet zone, the application can perform most windowing and UI actions, but the window's appearance will be modified.</span></span> <span data-ttu-id="51990-130">La ventana modificada muestra una notificación en un globo la primera vez que se ejecuta, contiene el texto de la barra de título modificada y requiere un botón Cerrar en la barra de título.</span><span class="sxs-lookup"><span data-stu-id="51990-130">The modified window displays a balloon notification when first run, contains modified title bar text, and requires a close button on the title bar.</span></span> <span data-ttu-id="51990-131">La notificación del globo y la barra de título informan al usuario de la aplicación que esta se está ejecutando bajo confianza parcial.</span><span class="sxs-lookup"><span data-stu-id="51990-131">The balloon notification and the title bar identify to the user of the application that the application is running under partial trust.</span></span>  
  
|<span data-ttu-id="51990-132">Valor UIPermissionWindow</span><span class="sxs-lookup"><span data-stu-id="51990-132">UIPermissionWindow value</span></span>|<span data-ttu-id="51990-133">Descripción</span><span class="sxs-lookup"><span data-stu-id="51990-133">Description</span></span>|  
|------------------------------|-----------------|  
|<xref:System.Security.Permissions.UIPermissionWindow.AllWindows>|<span data-ttu-id="51990-134">Los usuarios pueden utilizar todas las ventanas y eventos de entrada de usuario sin restricciones.</span><span class="sxs-lookup"><span data-stu-id="51990-134">Users can use all windows and user input events without restriction.</span></span>|  
|<xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows>|<span data-ttu-id="51990-135">Los usuarios solo pueden utilizar ventanas de nivel superior y ventanas secundarias más seguras para dibujar, y solo pueden utilizar eventos de entrada de datos del usuario para la interfaz de usuario dentro de dichas ventanas de nivel superior y ventanas secundarias.</span><span class="sxs-lookup"><span data-stu-id="51990-135">Users can use only safer top-level windows and safer subwindows for drawing, and can use only user input events for the user interface within those top-level windows and subwindows.</span></span> <span data-ttu-id="51990-136">Estas ventanas más seguras están claramente etiquetadas y tienen restricciones de tamaño máximo y mínimo.</span><span class="sxs-lookup"><span data-stu-id="51990-136">These safer windows are clearly labeled and have minimum and maximum size restrictions.</span></span> <span data-ttu-id="51990-137">Las restricciones impiden ataques de suplantación potencialmente perjudiciales, como la imitación de pantallas de inicio de sesión del sistema o el escritorio del sistema, y restringe el acceso mediante programación a las ventanas principales, las API relacionadas con el foco y el uso del control de <xref:System.Windows.Forms.ToolTip>.</span><span class="sxs-lookup"><span data-stu-id="51990-137">The restrictions prevent potentially harmful spoofing attacks, such as imitating system logon screens or the system desktop, and restricts programmatic access to parent windows, focus-related APIs, and use of the <xref:System.Windows.Forms.ToolTip> control,</span></span>|  
|<xref:System.Security.Permissions.UIPermissionWindow.SafeSubWindows>|<span data-ttu-id="51990-138">Los usuarios solo pueden utilizar ventanas secundarias más seguras para dibujar, y solo pueden utilizar eventos de entrada del usuario para la interfaz de usuario dentro de esa ventana secundaria.</span><span class="sxs-lookup"><span data-stu-id="51990-138">Users can use only safer subwindows for drawing, and can use only user input events for the user interface within that subwindow.</span></span> <span data-ttu-id="51990-139">Un control mostrado en un explorador es un ejemplo de una ventana secundaria más segura.</span><span class="sxs-lookup"><span data-stu-id="51990-139">A control displayed within a browser is an example of a safer subwindow.</span></span>|  
|<xref:System.Security.Permissions.UIPermissionWindow.NoWindows>|<span data-ttu-id="51990-140">Los usuarios no pueden utilizar ninguna ventana ni ningún evento de interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="51990-140">Users cannot use any windows or user interface events.</span></span> <span data-ttu-id="51990-141">No se puede utilizar ninguna interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="51990-141">No user interface can be used.</span></span>|  
  
 <span data-ttu-id="51990-142">Cada nivel de permiso identificado por la enumeración <xref:System.Security.Permissions.UIPermissionWindow> permite menos acciones que el nivel superior.</span><span class="sxs-lookup"><span data-stu-id="51990-142">Each permission level identified by the <xref:System.Security.Permissions.UIPermissionWindow> enumeration allows fewer actions than the level above it.</span></span> <span data-ttu-id="51990-143">En las tablas siguientes se indican las acciones restringidas por los valores <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> y <xref:System.Security.Permissions.UIPermissionWindow.SafeSubWindows>.</span><span class="sxs-lookup"><span data-stu-id="51990-143">The following tables indicate the actions that are restricted by the <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> and <xref:System.Security.Permissions.UIPermissionWindow.SafeSubWindows> values.</span></span> <span data-ttu-id="51990-144">Para saber los permisos exactos necesarios para cada miembro, consulte el material de referencia de dicho miembro en la documentación de la biblioteca de clases de .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="51990-144">For exact permissions that are required for each member, see the reference for that member in the .NET Framework class library documentation.</span></span>  
  
 <span data-ttu-id="51990-145"><xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> permiso restringe las acciones que se muestran en la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="51990-145"><xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> permission restricts the actions listed in the following table.</span></span>  
  
|<span data-ttu-id="51990-146">Componente</span><span class="sxs-lookup"><span data-stu-id="51990-146">Component</span></span>|<span data-ttu-id="51990-147">Acciones restringidas</span><span class="sxs-lookup"><span data-stu-id="51990-147">Restricted actions</span></span>|  
|---------------|------------------------|  
|<xref:System.Windows.Forms.Application>|<span data-ttu-id="51990-148">-   Establecer la propiedad <xref:System.Windows.Forms.Application.SafeTopLevelCaptionFormat%2A>.</span><span class="sxs-lookup"><span data-stu-id="51990-148">-   Setting the <xref:System.Windows.Forms.Application.SafeTopLevelCaptionFormat%2A> property.</span></span>|  
|<xref:System.Windows.Forms.Control>|<span data-ttu-id="51990-149">-Obteniendo la propiedad <xref:System.Windows.Forms.Control.Parent%2A>.</span><span class="sxs-lookup"><span data-stu-id="51990-149">-   Getting the <xref:System.Windows.Forms.Control.Parent%2A> property.</span></span><br /><span data-ttu-id="51990-150">-   Establecer la propiedad `Region`.</span><span class="sxs-lookup"><span data-stu-id="51990-150">-   Setting the `Region` property.</span></span><br /><span data-ttu-id="51990-151">-Llamando al método <xref:System.Windows.Forms.Control.FindForm%2A>, <xref:System.Windows.Forms.Control.Focus%2A>, <xref:System.Windows.Forms.Control.FromChildHandle%2A> y <xref:System.Windows.Forms.Control.FromHandle%2A>, <xref:System.Windows.Forms.Control.PreProcessMessage%2A>, <xref:System.Windows.Forms.Control.ReflectMessage%2A>o <xref:System.Windows.Forms.Control.SetTopLevel%2A>.</span><span class="sxs-lookup"><span data-stu-id="51990-151">-   Calling the <xref:System.Windows.Forms.Control.FindForm%2A> , <xref:System.Windows.Forms.Control.Focus%2A>, <xref:System.Windows.Forms.Control.FromChildHandle%2A> and <xref:System.Windows.Forms.Control.FromHandle%2A>, <xref:System.Windows.Forms.Control.PreProcessMessage%2A>, <xref:System.Windows.Forms.Control.ReflectMessage%2A>, or <xref:System.Windows.Forms.Control.SetTopLevel%2A> method.</span></span><br /><span data-ttu-id="51990-152">-Llamar al método <xref:System.Windows.Forms.Control.GetChildAtPoint%2A> si el control devuelto no es un elemento secundario del control que realiza la llamada.</span><span class="sxs-lookup"><span data-stu-id="51990-152">-   Calling the <xref:System.Windows.Forms.Control.GetChildAtPoint%2A> method if the control returned is not a child of the calling control.</span></span><br /><span data-ttu-id="51990-153">-   Modificar el foco en un control contenedor.</span><span class="sxs-lookup"><span data-stu-id="51990-153">-   Modify control focus inside a container control.</span></span>|  
|<xref:System.Windows.Forms.Cursor>|<span data-ttu-id="51990-154">-   Establecer la propiedad <xref:System.Windows.Forms.Cursor.Clip%2A>.</span><span class="sxs-lookup"><span data-stu-id="51990-154">-   Setting the <xref:System.Windows.Forms.Cursor.Clip%2A> property.</span></span><br /><span data-ttu-id="51990-155">-Llamando al método <xref:System.Windows.Forms.Control.Hide%2A>.</span><span class="sxs-lookup"><span data-stu-id="51990-155">-   Calling the <xref:System.Windows.Forms.Control.Hide%2A> method.</span></span>|  
|<xref:System.Windows.Forms.DataGrid>|<span data-ttu-id="51990-156">-Llamando al método <xref:System.Windows.Forms.ContainerControl.ProcessTabKey%2A>.</span><span class="sxs-lookup"><span data-stu-id="51990-156">-   Calling the <xref:System.Windows.Forms.ContainerControl.ProcessTabKey%2A> method.</span></span>|  
|<xref:System.Windows.Forms.Form>|<span data-ttu-id="51990-157">-Obteniendo la propiedad <xref:System.Windows.Forms.Form.ActiveForm%2A> o <xref:System.Windows.Forms.Form.MdiParent%2A>.</span><span class="sxs-lookup"><span data-stu-id="51990-157">-   Getting the <xref:System.Windows.Forms.Form.ActiveForm%2A> or <xref:System.Windows.Forms.Form.MdiParent%2A> property.</span></span><br /><span data-ttu-id="51990-158">-Establecer la propiedad <xref:System.Windows.Forms.Form.ControlBox%2A>, <xref:System.Windows.Forms.Form.ShowInTaskbar%2A>o <xref:System.Windows.Forms.Form.TopMost%2A>.</span><span class="sxs-lookup"><span data-stu-id="51990-158">-   Setting the <xref:System.Windows.Forms.Form.ControlBox%2A>, <xref:System.Windows.Forms.Form.ShowInTaskbar%2A>, or <xref:System.Windows.Forms.Form.TopMost%2A> property.</span></span><br /><span data-ttu-id="51990-159">-Estableciendo la propiedad <xref:System.Windows.Forms.Form.Opacity%2A> por debajo del 50%.</span><span class="sxs-lookup"><span data-stu-id="51990-159">-   Setting the <xref:System.Windows.Forms.Form.Opacity%2A> property below 50%.</span></span><br /><span data-ttu-id="51990-160">: Establecer la propiedad <xref:System.Windows.Forms.Form.WindowState%2A> en <xref:System.Windows.Forms.FormWindowState.Minimized> mediante programación.</span><span class="sxs-lookup"><span data-stu-id="51990-160">-   Setting the <xref:System.Windows.Forms.Form.WindowState%2A> property to <xref:System.Windows.Forms.FormWindowState.Minimized> programmatically.</span></span><br /><span data-ttu-id="51990-161">-Llamando al método <xref:System.Windows.Forms.Form.Activate%2A>.</span><span class="sxs-lookup"><span data-stu-id="51990-161">-   Calling the <xref:System.Windows.Forms.Form.Activate%2A> method.</span></span><br /><span data-ttu-id="51990-162">-Usar los valores de enumeración <xref:System.Windows.Forms.FormBorderStyle.None>, <xref:System.Windows.Forms.FormBorderStyle.FixedToolWindow>y <xref:System.Windows.Forms.FormBorderStyle.SizableToolWindow><xref:System.Windows.Forms.FormBorderStyle>.</span><span class="sxs-lookup"><span data-stu-id="51990-162">-   Using the <xref:System.Windows.Forms.FormBorderStyle.None>, <xref:System.Windows.Forms.FormBorderStyle.FixedToolWindow>, and <xref:System.Windows.Forms.FormBorderStyle.SizableToolWindow><xref:System.Windows.Forms.FormBorderStyle> enumeration values.</span></span>|  
|<xref:System.Windows.Forms.NotifyIcon>|<span data-ttu-id="51990-163">-El uso del componente <xref:System.Windows.Forms.NotifyIcon> está completamente restringido.</span><span class="sxs-lookup"><span data-stu-id="51990-163">-   Using the <xref:System.Windows.Forms.NotifyIcon> component is completely restricted.</span></span>|  
  
 <span data-ttu-id="51990-164">El valor <xref:System.Security.Permissions.UIPermissionWindow.SafeSubWindows> restringe las acciones enumeradas en la tabla siguiente, además de las restricciones colocadas por el valor <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows>.</span><span class="sxs-lookup"><span data-stu-id="51990-164">The <xref:System.Security.Permissions.UIPermissionWindow.SafeSubWindows> value restricts the actions listed in the following table, in addition to the restrictions placed by the <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> value.</span></span>  
  
|<span data-ttu-id="51990-165">Componente</span><span class="sxs-lookup"><span data-stu-id="51990-165">Component</span></span>|<span data-ttu-id="51990-166">Acciones restringidas</span><span class="sxs-lookup"><span data-stu-id="51990-166">Restricted actions</span></span>|  
|---------------|------------------------|  
|<xref:System.Windows.Forms.CommonDialog>|<span data-ttu-id="51990-167">-Mostrar un cuadro de diálogo derivado de la clase <xref:System.Windows.Forms.CommonDialog>.</span><span class="sxs-lookup"><span data-stu-id="51990-167">-   Showing a dialog box derived from the <xref:System.Windows.Forms.CommonDialog> class.</span></span>|  
|<xref:System.Windows.Forms.Control>|<span data-ttu-id="51990-168">-Llamando al método <xref:System.Windows.Forms.Control.CreateGraphics%2A>.</span><span class="sxs-lookup"><span data-stu-id="51990-168">-   Calling the <xref:System.Windows.Forms.Control.CreateGraphics%2A> method.</span></span><br /><span data-ttu-id="51990-169">-   Establecer la propiedad <xref:System.Windows.Forms.Control.Cursor%2A>.</span><span class="sxs-lookup"><span data-stu-id="51990-169">-   Setting the <xref:System.Windows.Forms.Control.Cursor%2A> property.</span></span>|  
|<xref:System.Windows.Forms.Control.Cursor%2A>|<span data-ttu-id="51990-170">-   Establecer la propiedad <xref:System.Windows.Forms.Cursor.Current%2A>.</span><span class="sxs-lookup"><span data-stu-id="51990-170">-   Setting the <xref:System.Windows.Forms.Cursor.Current%2A> property.</span></span>|  
|<xref:System.Windows.Forms.MessageBox>|<span data-ttu-id="51990-171">-Llamando al método <xref:System.Windows.Forms.Form.Show%2A>.</span><span class="sxs-lookup"><span data-stu-id="51990-171">-   Calling the <xref:System.Windows.Forms.Form.Show%2A> method.</span></span>|  
  
### <a name="hosting-third-party-controls"></a><span data-ttu-id="51990-172">Hospedaje de controles de terceros</span><span class="sxs-lookup"><span data-stu-id="51990-172">Hosting Third-Party Controls</span></span>  
 <span data-ttu-id="51990-173">Otro tipo de manipulación de ventanas es posible si los formularios hospedan controles de terceros.</span><span class="sxs-lookup"><span data-stu-id="51990-173">Another kind of window manipulation can occur if your forms host third-party controls.</span></span> <span data-ttu-id="51990-174">Un control de terceros es cualquier <xref:System.Windows.Forms.UserControl> personalizado que no haya desarrollado y compilado usted mismo.</span><span class="sxs-lookup"><span data-stu-id="51990-174">A third-party control is any custom <xref:System.Windows.Forms.UserControl> that you have not developed and compiled yourself.</span></span> <span data-ttu-id="51990-175">Aunque el escenario de hospedaje es difícil de manipular, teóricamente es posible que un control de terceros expanda su superficie de representación para abarcar toda el área del formulario.</span><span class="sxs-lookup"><span data-stu-id="51990-175">Although the hosting scenario is hard to exploit, it is theoretically possible for a third-party control to expand its rendering surface to cover the entire area of your form.</span></span> <span data-ttu-id="51990-176">Después, el control podría imitar un cuadro de diálogo crítico y solicitar información tal como una combinación de nombre de usuario y contraseña o los números de cuenta bancaria de sus usuarios.</span><span class="sxs-lookup"><span data-stu-id="51990-176">This control could then mimic a critical dialog box, and request information such as username/password combinations or bank account numbers from your users.</span></span>  
  
 <span data-ttu-id="51990-177">Para limitar este riesgo potencial, utilice controles de terceros pertenecientes únicamente a proveedores de confianza.</span><span class="sxs-lookup"><span data-stu-id="51990-177">To limit this potential risk, use third-party controls only from vendors you can trust.</span></span> <span data-ttu-id="51990-178">Si utiliza controles de terceros que ha descargado de un origen que no puede comprobar, se recomienda que revise el código fuente en busca de posibles puntos vulnerables.</span><span class="sxs-lookup"><span data-stu-id="51990-178">If you use third-party controls you have downloaded from an unverifiable source, we recommend that you review the source code for potential exploits.</span></span> <span data-ttu-id="51990-179">Después de comprobar que el origen no es malintencionado, debería compilar el ensamblado para garantizar que el origen coincide con el ensamblado.</span><span class="sxs-lookup"><span data-stu-id="51990-179">After you've verified that the source is non-malicious, you should compile the assembly yourself to ensure that the source matches the assembly.</span></span>  
  
## <a name="windows-api-calls"></a><span data-ttu-id="51990-180">Llamadas a la API de Windows</span><span class="sxs-lookup"><span data-stu-id="51990-180">Windows API Calls</span></span>  
 <span data-ttu-id="51990-181">Si el diseño de la aplicación requiere una llamada a una función de la API de Windows, tiene acceso al código no administrado.</span><span class="sxs-lookup"><span data-stu-id="51990-181">If your application design requires calling a function from the Windows API, you are accessing unmanaged code.</span></span> <span data-ttu-id="51990-182">En este caso, las acciones del código en la ventana o el sistema operativo no se pueden determinar cuando se trabaja con valores o llamadas a la API de Windows.</span><span class="sxs-lookup"><span data-stu-id="51990-182">In this case the code's actions to the window or operating system cannot be determined when you are working with Windows API calls or values.</span></span> <span data-ttu-id="51990-183">La clase <xref:System.Security.Permissions.SecurityPermission> y el valor <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> de la enumeración <xref:System.Security.Permissions.SecurityPermissionFlag> controlan el acceso a código no administrado.</span><span class="sxs-lookup"><span data-stu-id="51990-183">The <xref:System.Security.Permissions.SecurityPermission> class and the <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> value of the <xref:System.Security.Permissions.SecurityPermissionFlag> enumeration control access to unmanaged code.</span></span> <span data-ttu-id="51990-184">Una aplicación solo puede tener acceso al código no administrado cuando se le concede el permiso <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode>.</span><span class="sxs-lookup"><span data-stu-id="51990-184">An application can access unmanaged code only when it is granted the <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> permission.</span></span> <span data-ttu-id="51990-185">De manera predeterminada, solo las aplicaciones que se ejecutan localmente pueden llamar a código no administrado.</span><span class="sxs-lookup"><span data-stu-id="51990-185">By default, only applications that are running locally can call unmanaged code.</span></span>  
  
 <span data-ttu-id="51990-186">Algunos miembros de Windows Forms proporcionan acceso no administrado que requiere el permiso <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode>.</span><span class="sxs-lookup"><span data-stu-id="51990-186">Some Windows Forms members provide unmanaged access that requires the <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> permission.</span></span> <span data-ttu-id="51990-187">En la tabla siguiente se enumeran los miembros del espacio de nombres <xref:System.Windows.Forms> que requieren el permiso.</span><span class="sxs-lookup"><span data-stu-id="51990-187">The following table lists the members in the <xref:System.Windows.Forms> namespace that require the permission.</span></span> <span data-ttu-id="51990-188">Para más información sobre los permisos necesarios para un miembro, consulte la documentación de la biblioteca de clases de .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="51990-188">For more information about the permissions that are required for a member, see the .NET Framework class library documentation.</span></span>  
  
|<span data-ttu-id="51990-189">Componente</span><span class="sxs-lookup"><span data-stu-id="51990-189">Component</span></span>|<span data-ttu-id="51990-190">Member</span><span class="sxs-lookup"><span data-stu-id="51990-190">Member</span></span>|  
|---------------|------------|  
|<xref:System.Windows.Forms.Application>|<span data-ttu-id="51990-191">Método -   <xref:System.Windows.Forms.Application.AddMessageFilter%2A></span><span class="sxs-lookup"><span data-stu-id="51990-191">-   <xref:System.Windows.Forms.Application.AddMessageFilter%2A> method</span></span><br /><span data-ttu-id="51990-192">-   propiedad <xref:System.Windows.Forms.Application.CurrentInputLanguage%2A></span><span class="sxs-lookup"><span data-stu-id="51990-192">-   <xref:System.Windows.Forms.Application.CurrentInputLanguage%2A> property</span></span><br /><span data-ttu-id="51990-193">Método -   `Exit`</span><span class="sxs-lookup"><span data-stu-id="51990-193">-   `Exit` method</span></span><br /><span data-ttu-id="51990-194">Método -   <xref:System.Windows.Forms.Application.ExitThread%2A></span><span class="sxs-lookup"><span data-stu-id="51990-194">-   <xref:System.Windows.Forms.Application.ExitThread%2A> method</span></span><br /><span data-ttu-id="51990-195">-   <xref:System.Windows.Forms.Application.ThreadException> evento</span><span class="sxs-lookup"><span data-stu-id="51990-195">-   <xref:System.Windows.Forms.Application.ThreadException> event</span></span>|  
|<xref:System.Windows.Forms.CommonDialog>|<span data-ttu-id="51990-196">Método -   <xref:System.Windows.Forms.CommonDialog.HookProc%2A></span><span class="sxs-lookup"><span data-stu-id="51990-196">-   <xref:System.Windows.Forms.CommonDialog.HookProc%2A> method</span></span><br /><span data-ttu-id="51990-197">-   <xref:System.Windows.Forms.CommonDialog.OwnerWndProc%2A>método)</span><span class="sxs-lookup"><span data-stu-id="51990-197">-   <xref:System.Windows.Forms.CommonDialog.OwnerWndProc%2A>\ method</span></span><br /><span data-ttu-id="51990-198">Método -   <xref:System.Windows.Forms.CommonDialog.Reset%2A></span><span class="sxs-lookup"><span data-stu-id="51990-198">-   <xref:System.Windows.Forms.CommonDialog.Reset%2A> method</span></span><br /><span data-ttu-id="51990-199">Método -   <xref:System.Windows.Forms.CommonDialog.RunDialog%2A></span><span class="sxs-lookup"><span data-stu-id="51990-199">-   <xref:System.Windows.Forms.CommonDialog.RunDialog%2A> method</span></span>|  
|<xref:System.Windows.Forms.Control>|<span data-ttu-id="51990-200">Método -   <xref:System.Windows.Forms.Control.CreateParams%2A></span><span class="sxs-lookup"><span data-stu-id="51990-200">-   <xref:System.Windows.Forms.Control.CreateParams%2A> method</span></span><br /><span data-ttu-id="51990-201">Método -   <xref:System.Windows.Forms.Control.DefWndProc%2A></span><span class="sxs-lookup"><span data-stu-id="51990-201">-   <xref:System.Windows.Forms.Control.DefWndProc%2A> method</span></span><br /><span data-ttu-id="51990-202">Método -   <xref:System.Windows.Forms.Control.DestroyHandle%2A></span><span class="sxs-lookup"><span data-stu-id="51990-202">-   <xref:System.Windows.Forms.Control.DestroyHandle%2A> method</span></span><br /><span data-ttu-id="51990-203">Método -   <xref:System.Windows.Forms.Control.WndProc%2A></span><span class="sxs-lookup"><span data-stu-id="51990-203">-   <xref:System.Windows.Forms.Control.WndProc%2A> method</span></span>|  
|<xref:System.Windows.Forms.Help>|<span data-ttu-id="51990-204">métodos de <xref:System.Windows.Forms.Help.ShowHelp%2A> de -   </span><span class="sxs-lookup"><span data-stu-id="51990-204">-   <xref:System.Windows.Forms.Help.ShowHelp%2A> methods</span></span><br /><span data-ttu-id="51990-205">Método -   <xref:System.Windows.Forms.Help.ShowHelpIndex%2A></span><span class="sxs-lookup"><span data-stu-id="51990-205">-   <xref:System.Windows.Forms.Help.ShowHelpIndex%2A> method</span></span>|  
|<xref:System.Windows.Forms.NativeWindow>|<span data-ttu-id="51990-206">-   <xref:System.Windows.Forms.NativeWindow> (clase)</span><span class="sxs-lookup"><span data-stu-id="51990-206">-   <xref:System.Windows.Forms.NativeWindow> class</span></span>|  
|<xref:System.Windows.Forms.Screen>|<span data-ttu-id="51990-207">Método -   <xref:System.Windows.Forms.Screen.FromHandle%2A></span><span class="sxs-lookup"><span data-stu-id="51990-207">-   <xref:System.Windows.Forms.Screen.FromHandle%2A> method</span></span>|  
|<xref:System.Windows.Forms.SendKeys>|<span data-ttu-id="51990-208">Método -   <xref:System.Windows.Forms.SendKeys.Send%2A></span><span class="sxs-lookup"><span data-stu-id="51990-208">-   <xref:System.Windows.Forms.SendKeys.Send%2A> method</span></span><br /><span data-ttu-id="51990-209">Método -   <xref:System.Windows.Forms.SendKeys.SendWait%2A></span><span class="sxs-lookup"><span data-stu-id="51990-209">-   <xref:System.Windows.Forms.SendKeys.SendWait%2A> method</span></span>|  
  
 <span data-ttu-id="51990-210">Si la aplicación no tiene permiso para llamar a código no administrado, la aplicación debe solicitar <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> permiso o debe tener en cuenta las formas alternativas de implementar características; en muchos casos, Windows Forms proporciona una alternativa administrada a las funciones de la API de Windows.</span><span class="sxs-lookup"><span data-stu-id="51990-210">If your application does not have permission to call unmanaged code, your application must request <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> permission, or you must consider alternative ways of implementing features; in many cases, Windows Forms provides a managed alternative to Windows API functions.</span></span> <span data-ttu-id="51990-211">Si no existen ningún medio alternativo y la aplicación debe tener acceso a código no administrado, deberá elevar los permisos a la aplicación.</span><span class="sxs-lookup"><span data-stu-id="51990-211">If no alternative means exist and the application must access unmanaged code, you will have to elevate the permissions for the application.</span></span>  
  
 <span data-ttu-id="51990-212">El permiso para llamar a código no administrado permite a una aplicación realizar casi todo.</span><span class="sxs-lookup"><span data-stu-id="51990-212">Permission to call unmanaged code allows an application to perform most anything.</span></span> <span data-ttu-id="51990-213">Por ello, este permiso para llamar a código no administrado únicamente se debe conceder a aplicaciones que procedan de un origen de confianza.</span><span class="sxs-lookup"><span data-stu-id="51990-213">Therefore, permission to call unmanaged code should only be granted for applications that come from a trusted source.</span></span> <span data-ttu-id="51990-214">De forma alternativa, dependiendo de la aplicación, la función que realiza la llamada al código no administrado podría ser opcional, o solo habilitarse en el entorno de plena confianza.</span><span class="sxs-lookup"><span data-stu-id="51990-214">Alternatively, depending on the application, the piece of application functionality that makes the call to unmanaged code could be optional, or enabled in the full trust environment only.</span></span> <span data-ttu-id="51990-215">Para más información sobre los permisos arriesgados, vea [Dangerous Permissions and Policy Administration](../misc/dangerous-permissions-and-policy-administration.md) (Permisos peligrosos y administración de directivas).</span><span class="sxs-lookup"><span data-stu-id="51990-215">For more information about dangerous permissions, see [Dangerous Permissions and Policy Administration](../misc/dangerous-permissions-and-policy-administration.md).</span></span> <span data-ttu-id="51990-216">Para más información sobre la elevación de permisos, vea [Administración general de directivas de seguridad](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ed5htz45(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="51990-216">For more information about elevating permissions, see [General Security Policy Administration](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ed5htz45(v=vs.100)).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="51990-217">Consulte también</span><span class="sxs-lookup"><span data-stu-id="51990-217">See also</span></span>

- [<span data-ttu-id="51990-218">Acceso más seguro a archivos y datos en Windows Forms</span><span class="sxs-lookup"><span data-stu-id="51990-218">More Secure File and Data Access in Windows Forms</span></span>](more-secure-file-and-data-access-in-windows-forms.md)
- [<span data-ttu-id="51990-219">Impresión más segura en Windows Forms</span><span class="sxs-lookup"><span data-stu-id="51990-219">More Secure Printing in Windows Forms</span></span>](more-secure-printing-in-windows-forms.md)
- [<span data-ttu-id="51990-220">Información general sobre la seguridad en Windows Forms</span><span class="sxs-lookup"><span data-stu-id="51990-220">Security in Windows Forms Overview</span></span>](security-in-windows-forms-overview.md)
- [<span data-ttu-id="51990-221">Windows Forms Security</span><span class="sxs-lookup"><span data-stu-id="51990-221">Windows Forms Security</span></span>](windows-forms-security.md)
- [<span data-ttu-id="51990-222">Proteger las aplicaciones ClickOnce</span><span class="sxs-lookup"><span data-stu-id="51990-222">Securing ClickOnce Applications</span></span>](/visualstudio/deployment/securing-clickonce-applications)
