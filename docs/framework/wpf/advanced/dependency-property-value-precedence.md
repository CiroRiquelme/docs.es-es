---
title: Prioridad de los valores de propiedades de dependencia
ms.date: 03/30/2017
helpviewer_keywords:
- dependency properties [WPF], classes as owners
- dependency properties [WPF], metadata
- classes [WPF], owners of dependency properties
- metadata [WPF], dependency properties
ms.assetid: 1fbada8e-4867-4ed1-8d97-62c07dad7ebc
ms.openlocfilehash: a9ff3a4f6ac08a0f7ec6dd9fc26bf190f43f3584
ms.sourcegitcommit: 011314e0c8eb4cf4a11d92078f58176c8c3efd2d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 02/09/2020
ms.locfileid: "77095208"
---
# <a name="dependency-property-value-precedence"></a><span data-ttu-id="111df-102">Prioridad de los valores de propiedades de dependencia</span><span class="sxs-lookup"><span data-stu-id="111df-102">Dependency Property Value Precedence</span></span>
<a name="introduction"></a> <span data-ttu-id="111df-103">En este tema se explica cómo puede afectar el trabajo del sistema de propiedades de [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] al valor de una propiedad de dependencia y se describe la precedencia de aplicación de los aspectos del sistema de propiedades al valor efectivo de una propiedad.</span><span class="sxs-lookup"><span data-stu-id="111df-103">This topic explains how the workings of the [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] property system can affect the value of a dependency property, and describes the precedence by which aspects of the property system apply to the effective value of a property.</span></span>  

<a name="prerequisites"></a>   
## <a name="prerequisites"></a><span data-ttu-id="111df-104">Prerequisites</span><span class="sxs-lookup"><span data-stu-id="111df-104">Prerequisites</span></span>  
 <span data-ttu-id="111df-105">En este tema, se supone que entiende las propiedades de dependencia desde la perspectiva de un consumidor de propiedades de dependencia existentes en las clases [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] y que ha leído [Información general sobre las propiedades de dependencia](dependency-properties-overview.md).</span><span class="sxs-lookup"><span data-stu-id="111df-105">This topic assumes that you understand dependency properties from the perspective of a consumer of existing dependency properties on [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] classes, and have read [Dependency Properties Overview](dependency-properties-overview.md).</span></span> <span data-ttu-id="111df-106">Para seguir los ejemplos de este tema, también debe comprender el lenguaje [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] y saber cómo escribir aplicaciones de [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="111df-106">To follow the examples in this topic, you should also understand [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] and know how to write [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] applications.</span></span>  
  
<a name="intro"></a>   
## <a name="the-wpf-property-system"></a><span data-ttu-id="111df-107">Sistema de propiedades de WPF</span><span class="sxs-lookup"><span data-stu-id="111df-107">The WPF Property System</span></span>  
 <span data-ttu-id="111df-108">El sistema de propiedades de [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] permite que el valor de las propiedades de dependencia se determine de forma eficaz mediante una serie de factores, que habilita características como la validación de propiedades en tiempo real, el enlace en tiempo de ejecución y la notificación de propiedades relacionadas de cambios a valores de otras propiedades.</span><span class="sxs-lookup"><span data-stu-id="111df-108">The [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system offers a powerful way to have the value of dependency properties be determined by a variety of factors, enabling features such as real-time property validation, late binding, and notifying related properties of changes to values for other properties.</span></span> <span data-ttu-id="111df-109">El orden y la lógica exactos que se usan para determinar los valores de las propiedades de dependencia son bastante complejos.</span><span class="sxs-lookup"><span data-stu-id="111df-109">The exact order and logic that is used to determine dependency property values is reasonably complex.</span></span> <span data-ttu-id="111df-110">Conocer este orden le evitará establecer propiedades innecesarias y puede eliminar la confusión sobre el motivo por el que un intento de influir en el valor de una propiedad de dependencia o de anticiparlo no dio como resultado el valor esperado.</span><span class="sxs-lookup"><span data-stu-id="111df-110">Knowing this order will help you avoid unnecessary property setting, and might also clear up confusion over exactly why some attempt to influence or anticipate a dependency property value did not end up resulting in the value you expected.</span></span>  
  
<a name="multiple_sets"></a>   
## <a name="dependency-properties-might-be-set-in-multiple-places"></a><span data-ttu-id="111df-111">Las propiedades de dependencia podrían ser "set" en varios lugares</span><span class="sxs-lookup"><span data-stu-id="111df-111">Dependency Properties Might Be "Set" in Multiple Places</span></span>  
 <span data-ttu-id="111df-112">A continuación se [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] ejemplo en el que la misma propiedad (<xref:System.Windows.Controls.Control.Background%2A>) tiene tres operaciones "SET" diferentes que pueden influir en el valor.</span><span class="sxs-lookup"><span data-stu-id="111df-112">The following is example [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] where the same property (<xref:System.Windows.Controls.Control.Background%2A>) has three different "set" operations that might influence the value.</span></span>  
  
 [!code-xaml[PropertiesOvwSupport#DPPrecedence](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page4.xaml#dpprecedence)]  
  
 <span data-ttu-id="111df-113">¿Qué color espera que se aplique aquí: rojo, verde o azul?</span><span class="sxs-lookup"><span data-stu-id="111df-113">Here, which color do you expect will apply—red, green, or blue?</span></span>  
  
 <span data-ttu-id="111df-114">A excepción de los valores animados y la coerción, los conjuntos de propiedades locales se establecen con la precedencia más alta.</span><span class="sxs-lookup"><span data-stu-id="111df-114">With the exception of animated values and coercion, local property sets are set at the highest precedence.</span></span> <span data-ttu-id="111df-115">Si establece un valor localmente, puede esperar que este se respete, incluso por encima de cualquier estilo o plantilla de control.</span><span class="sxs-lookup"><span data-stu-id="111df-115">If you set a value locally you can expect that the value will be honored, even above any styles or control templates.</span></span> <span data-ttu-id="111df-116">Aquí en el ejemplo, <xref:System.Windows.Controls.Control.Background%2A> se establece en red local.</span><span class="sxs-lookup"><span data-stu-id="111df-116">Here in the example, <xref:System.Windows.Controls.Control.Background%2A> is set to Red locally.</span></span> <span data-ttu-id="111df-117">Por lo tanto, el estilo definido en este ámbito, aunque sea un estilo implícito que, de otro modo, se aplicaría a todos los elementos de ese tipo en ese ámbito, no es la prioridad más alta para dar a la propiedad <xref:System.Windows.Controls.Control.Background%2A> su valor.</span><span class="sxs-lookup"><span data-stu-id="111df-117">Therefore, the style defined in this scope, even though it is an implicit style that would otherwise apply to all elements of that type in that scope, is not the highest precedence for giving the <xref:System.Windows.Controls.Control.Background%2A> property its value.</span></span>  <span data-ttu-id="111df-118">En el caso de quitar el valor local de Red desde esa instancia de Button, el estilo tendría precedencia y el botón obtendría el valor de Background del estilo.</span><span class="sxs-lookup"><span data-stu-id="111df-118">If you removed the local value of Red from that Button instance, then the style would have precedence and the button would obtain the Background value from the style.</span></span>  <span data-ttu-id="111df-119">Dentro del estilo, los desencadenadores tienen precedencia, por lo que el botón será azul si el mouse está encima de él y verde en caso contrario.</span><span class="sxs-lookup"><span data-stu-id="111df-119">Within the style, triggers take precedence, so the button will be blue if the mouse is over it, and green otherwise.</span></span>  
  
<a name="listing"></a>   
## <a name="dependency-property-setting-precedence-list"></a><span data-ttu-id="111df-120">Lista de precedencia de configuración de propiedades de dependencia</span><span class="sxs-lookup"><span data-stu-id="111df-120">Dependency Property Setting Precedence List</span></span>  
 <span data-ttu-id="111df-121">El siguiente es el orden definitivo que usa el sistema de propiedades al asignar los valores de tiempo de ejecución de las propiedades de dependencia.</span><span class="sxs-lookup"><span data-stu-id="111df-121">The following is the definitive order that the property system uses when assigning the run-time values of dependency properties.</span></span> <span data-ttu-id="111df-122">La precedencia más alta aparece primero.</span><span class="sxs-lookup"><span data-stu-id="111df-122">Highest precedence is listed first.</span></span> <span data-ttu-id="111df-123">Esta lista desarrolla algunas de las generalizaciones realizadas en la [Información general sobre las propiedades de dependencia](dependency-properties-overview.md).</span><span class="sxs-lookup"><span data-stu-id="111df-123">This list expands on some of the generalizations made in the [Dependency Properties Overview](dependency-properties-overview.md).</span></span>  
  
1. <span data-ttu-id="111df-124">**Coerción del sistema de propiedades.**</span><span class="sxs-lookup"><span data-stu-id="111df-124">**Property system coercion.**</span></span> <span data-ttu-id="111df-125">Para obtener más información sobre la coerción, consulte [Coerción, animación y valor base](#animations) más adelante en este tema.</span><span class="sxs-lookup"><span data-stu-id="111df-125">For details on coercion, see [Coercion, Animation, and Base Value](#animations) later in this topic.</span></span>  
  
2. <span data-ttu-id="111df-126">**Animaciones activas o animaciones con un comportamiento Hold.**</span><span class="sxs-lookup"><span data-stu-id="111df-126">**Active animations, or animations with a Hold behavior.**</span></span> <span data-ttu-id="111df-127">Para tener cualquier efecto práctico, una animación de una propiedad debe poder tener precedencia sobre el valor base (inanimado), aunque dicho valor se estableciera localmente.</span><span class="sxs-lookup"><span data-stu-id="111df-127">In order to have any practical effect, an animation of a property must be able to have precedence over the base (unanimated) value, even if that value was set locally.</span></span> <span data-ttu-id="111df-128">Para obtener más información, consulte [Coerción, animación y valor base](#animations) más adelante en este tema.</span><span class="sxs-lookup"><span data-stu-id="111df-128">For details, see [Coercion, Animation, and Base Value](#animations) later in this topic.</span></span>  
  
3. <span data-ttu-id="111df-129">**Valor local.**</span><span class="sxs-lookup"><span data-stu-id="111df-129">**Local value.**</span></span> <span data-ttu-id="111df-130">Un valor local se puede establecer a través de la comodidad de la propiedad "wrapper", que también equivale a establecerse como un atributo o elemento de propiedad en [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], o mediante una llamada a la API de <xref:System.Windows.DependencyObject.SetValue%2A> mediante una propiedad de una instancia específica.</span><span class="sxs-lookup"><span data-stu-id="111df-130">A local value might be set through the convenience of the "wrapper" property, which also equates to setting as an attribute or property element in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], or by a call to the <xref:System.Windows.DependencyObject.SetValue%2A> API using a property of a specific instance.</span></span> <span data-ttu-id="111df-131">Si establece un valor local mediante un enlace o un recurso, cada uno de estos actuará con la precedencia como si se hubiese establecido un valor directo.</span><span class="sxs-lookup"><span data-stu-id="111df-131">If you set a local value by using a binding or a resource, these each act in the precedence as if a direct value was set.</span></span>  
  
4. <span data-ttu-id="111df-132">**Propiedades de la plantilla TemplatedParent.**</span><span class="sxs-lookup"><span data-stu-id="111df-132">**TemplatedParent template properties.**</span></span> <span data-ttu-id="111df-133">Un elemento tiene un <xref:System.Windows.FrameworkElement.TemplatedParent%2A> si se creó como parte de una plantilla (un <xref:System.Windows.Controls.ControlTemplate> o <xref:System.Windows.DataTemplate>).</span><span class="sxs-lookup"><span data-stu-id="111df-133">An element has a <xref:System.Windows.FrameworkElement.TemplatedParent%2A> if it was created as part of a template (a <xref:System.Windows.Controls.ControlTemplate> or <xref:System.Windows.DataTemplate>).</span></span> <span data-ttu-id="111df-134">Para obtener más información sobre cuándo se aplica el caso anterior, consulte [TemplatedParent](#templatedparent) más adelante en este tema.</span><span class="sxs-lookup"><span data-stu-id="111df-134">For details on when this applies, see [TemplatedParent](#templatedparent) later in this topic.</span></span> <span data-ttu-id="111df-135">En la plantilla, se aplica la siguiente precedencia:</span><span class="sxs-lookup"><span data-stu-id="111df-135">Within the template, the following precedence applies:</span></span>  
  
    1. <span data-ttu-id="111df-136">Desencadenadores de la plantilla de <xref:System.Windows.FrameworkElement.TemplatedParent%2A>.</span><span class="sxs-lookup"><span data-stu-id="111df-136">Triggers from the <xref:System.Windows.FrameworkElement.TemplatedParent%2A> template.</span></span>  
  
    2. <span data-ttu-id="111df-137">Conjuntos de propiedades (normalmente a través de [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] atributos) en la plantilla de <xref:System.Windows.FrameworkElement.TemplatedParent%2A>.</span><span class="sxs-lookup"><span data-stu-id="111df-137">Property sets (typically through [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] attributes) in the <xref:System.Windows.FrameworkElement.TemplatedParent%2A> template.</span></span>  
  
5. <span data-ttu-id="111df-138">**Estilo implícito.**</span><span class="sxs-lookup"><span data-stu-id="111df-138">**Implicit style.**</span></span> <span data-ttu-id="111df-139">Solo se aplica a la propiedad `Style`.</span><span class="sxs-lookup"><span data-stu-id="111df-139">Applies only to the `Style` property.</span></span> <span data-ttu-id="111df-140">La propiedad `Style` se rellena con cualquier recurso de estilo que tenga una clave que coincida con el tipo de ese elemento.</span><span class="sxs-lookup"><span data-stu-id="111df-140">The `Style` property is filled by any style resource with a key that matches the type of that element.</span></span> <span data-ttu-id="111df-141">Ese recurso de estilo debe existir en la página o la aplicación; la búsqueda de un recurso de estilo implícito no continúa en los temas.</span><span class="sxs-lookup"><span data-stu-id="111df-141">That style resource must exist either in the page or the application; lookup for an implicit style resource does not proceed into the themes.</span></span>  
  
6. <span data-ttu-id="111df-142">**Desencadenadores de estilo.**</span><span class="sxs-lookup"><span data-stu-id="111df-142">**Style triggers.**</span></span> <span data-ttu-id="111df-143">Desencadenadores dentro de los estilos de una página o aplicación (estos estilos pueden ser explícitos o implícitos, pero no pueden ser predeterminados, con una precedencia más baja).</span><span class="sxs-lookup"><span data-stu-id="111df-143">The triggers within styles from page or application (these styles might be either explicit or implicit styles, but not from the default styles, which have lower precedence).</span></span>  
  
7. <span data-ttu-id="111df-144">**Desencadenadores de plantilla.**</span><span class="sxs-lookup"><span data-stu-id="111df-144">**Template triggers.**</span></span> <span data-ttu-id="111df-145">Cualquier desencadenador de una plantilla dentro de un estilo o una plantilla aplicada directamente.</span><span class="sxs-lookup"><span data-stu-id="111df-145">Any trigger from a template within a style, or a directly applied template.</span></span>  
  
8. <span data-ttu-id="111df-146">**Establecedores de estilo.**</span><span class="sxs-lookup"><span data-stu-id="111df-146">**Style setters.**</span></span> <span data-ttu-id="111df-147">Valores de una <xref:System.Windows.Setter> dentro de los estilos de una página o aplicación.</span><span class="sxs-lookup"><span data-stu-id="111df-147">Values from a <xref:System.Windows.Setter> within styles from page or application.</span></span>  
  
9. <span data-ttu-id="111df-148">**Estilo (tema) predeterminado.**</span><span class="sxs-lookup"><span data-stu-id="111df-148">**Default (theme) style.**</span></span> <span data-ttu-id="111df-149">Para obtener más información sobre cuándo se aplica y cómo se relacionan los estilos de tema con las plantillas dentro de los estilos de tema, consulte [Estilos (temas) predeterminados](#themestyles) más adelante en este tema.</span><span class="sxs-lookup"><span data-stu-id="111df-149">For details on when this applies, and how theme styles relate to the templates within theme styles, see [Default (Theme) Styles](#themestyles) later in this topic.</span></span> <span data-ttu-id="111df-150">Dentro de un estilo predeterminado, se aplica el orden de precedencia siguiente:</span><span class="sxs-lookup"><span data-stu-id="111df-150">Within a default style, the following order of precedence applies:</span></span>  
  
    1. <span data-ttu-id="111df-151">Desencadenadores activos del estilo de tema.</span><span class="sxs-lookup"><span data-stu-id="111df-151">Active triggers in the theme style.</span></span>  
  
    2. <span data-ttu-id="111df-152">Establecedores del estilo de tema.</span><span class="sxs-lookup"><span data-stu-id="111df-152">Setters in the theme style.</span></span>  
  
10. <span data-ttu-id="111df-153">**Herencia.**</span><span class="sxs-lookup"><span data-stu-id="111df-153">**Inheritance.**</span></span> <span data-ttu-id="111df-154">Algunas propiedades de dependencia heredan sus valores del elemento primario a los elementos secundarios, de manera que no se tienen que establecer específicamente en cada elemento de una aplicación.</span><span class="sxs-lookup"><span data-stu-id="111df-154">A few dependency properties inherit their values from parent element to child elements, such that they need not be set specifically on each element throughout an application.</span></span> <span data-ttu-id="111df-155">Para obtener información detallada, consulte [Herencia de valores de propiedad](property-value-inheritance.md).</span><span class="sxs-lookup"><span data-stu-id="111df-155">For details see [Property Value Inheritance](property-value-inheritance.md).</span></span>  
  
11. <span data-ttu-id="111df-156">**Valor predeterminado de los metadatos de las propiedades de dependencia.**</span><span class="sxs-lookup"><span data-stu-id="111df-156">**Default value from dependency property metadata.**</span></span> <span data-ttu-id="111df-157">Cualquier propiedad de dependencia puede tener un valor predeterminado establecido en el registro del sistema de propiedades de esa propiedad concreta.</span><span class="sxs-lookup"><span data-stu-id="111df-157">Any given dependency property may have a default value as established by the property system registration of that particular property.</span></span> <span data-ttu-id="111df-158">Además, las clases derivadas que heredan una propiedad de dependencia tienen la opción de invalidar esos metadatos (incluido el valor predeterminado) por tipo.</span><span class="sxs-lookup"><span data-stu-id="111df-158">Also, derived classes that inherit a dependency property have the option to override that metadata (including the default value) on a per-type basis.</span></span> <span data-ttu-id="111df-159">Para obtener más información, consulte [Metadados de las propiedades de dependencia](dependency-property-metadata.md).</span><span class="sxs-lookup"><span data-stu-id="111df-159">See [Dependency Property Metadata](dependency-property-metadata.md) for more information.</span></span> <span data-ttu-id="111df-160">Puesto que la herencia se comprueba antes que el valor predeterminado, para una propiedad heredada, un valor predeterminado de un elemento primario tiene precedencia sobre un elemento secundario.</span><span class="sxs-lookup"><span data-stu-id="111df-160">Because inheritance is checked before default value, for an inherited property, a parent element default value takes precedence over a child element.</span></span>  <span data-ttu-id="111df-161">Por consiguiente, si una propiedad heredable no está establecida en ningún lugar, se usa el valor predeterminado tal como se especifica en la raíz o el elemento primario, en lugar del valor predeterminado del elemento secundario.</span><span class="sxs-lookup"><span data-stu-id="111df-161">Consequently, if an inheritable property is not set anywhere, the default value as specified on the root or parent is used instead of the child element default value.</span></span>  
  
<a name="templatedparent"></a>   
## <a name="templatedparent"></a><span data-ttu-id="111df-162">TemplatedParent</span><span class="sxs-lookup"><span data-stu-id="111df-162">TemplatedParent</span></span>  
 <span data-ttu-id="111df-163">TemplatedParent, como un elemento de precedencia, no se aplica a ninguna propiedad de un elemento que se declara directamente en la marcación de aplicación estándar.</span><span class="sxs-lookup"><span data-stu-id="111df-163">TemplatedParent as a precedence item does not apply to any property of an element that you declare directly in standard application markup.</span></span> <span data-ttu-id="111df-164">El concepto de TemplatedParent existe solo para los elementos secundarios dentro de un árbol visual que se genera a través de la aplicación de la plantilla.</span><span class="sxs-lookup"><span data-stu-id="111df-164">The TemplatedParent concept exists only for child items within a visual tree that come into existence through the application of the template.</span></span> <span data-ttu-id="111df-165">Cuando el sistema de propiedades busca un valor en la plantilla de <xref:System.Windows.FrameworkElement.TemplatedParent%2A>, está buscando en la plantilla que creó ese elemento.</span><span class="sxs-lookup"><span data-stu-id="111df-165">When the property system searches the <xref:System.Windows.FrameworkElement.TemplatedParent%2A> template for a value, it is searching the template that created that element.</span></span> <span data-ttu-id="111df-166">Los valores de propiedad de la plantilla <xref:System.Windows.FrameworkElement.TemplatedParent%2A> suelen actuar como si se hubieran establecido como un valor local en el elemento secundario, pero esta menor prioridad en comparación con el valor local existe porque las plantillas están potencialmente compartidas.</span><span class="sxs-lookup"><span data-stu-id="111df-166">The property values from the <xref:System.Windows.FrameworkElement.TemplatedParent%2A> template generally act as if they were set as a local value on the child element, but this lesser precedence versus the local value exists because the templates are potentially shared.</span></span> <span data-ttu-id="111df-167">Para obtener información detallada, consulte <xref:System.Windows.FrameworkElement.TemplatedParent%2A>.</span><span class="sxs-lookup"><span data-stu-id="111df-167">For details, see <xref:System.Windows.FrameworkElement.TemplatedParent%2A>.</span></span>  
  
<a name="style_property"></a>   
## <a name="the-style-property"></a><span data-ttu-id="111df-168">Propiedad Style</span><span class="sxs-lookup"><span data-stu-id="111df-168">The Style Property</span></span>  
 <span data-ttu-id="111df-169">El orden de búsqueda descrito anteriormente se aplica a todas las propiedades de dependencia posibles excepto a una: la propiedad <xref:System.Windows.FrameworkElement.Style%2A>.</span><span class="sxs-lookup"><span data-stu-id="111df-169">The order of lookup described earlier applies to all possible dependency properties except one: the <xref:System.Windows.FrameworkElement.Style%2A> property.</span></span> <span data-ttu-id="111df-170">La propiedad <xref:System.Windows.FrameworkElement.Style%2A> es única en que no se puede aplicar estilo a sí misma, por lo que no se aplican los elementos de prioridad 5 a 8.</span><span class="sxs-lookup"><span data-stu-id="111df-170">The <xref:System.Windows.FrameworkElement.Style%2A> property is unique in that it cannot itself be styled, so the precedence items 5 through 8 do not apply.</span></span> <span data-ttu-id="111df-171">Además, no se recomienda animar o forzar la <xref:System.Windows.FrameworkElement.Style%2A> (y animar <xref:System.Windows.FrameworkElement.Style%2A> requeriría una clase de animación personalizada).</span><span class="sxs-lookup"><span data-stu-id="111df-171">Also, either animating or coercing <xref:System.Windows.FrameworkElement.Style%2A> is not recommended (and animating <xref:System.Windows.FrameworkElement.Style%2A> would require a custom animation class).</span></span> <span data-ttu-id="111df-172">Esto deja tres maneras de que se pueda establecer la propiedad <xref:System.Windows.FrameworkElement.Style%2A>:</span><span class="sxs-lookup"><span data-stu-id="111df-172">This leaves three ways that the <xref:System.Windows.FrameworkElement.Style%2A> property might be set:</span></span>  
  
- <span data-ttu-id="111df-173">**Estilo explícito.**</span><span class="sxs-lookup"><span data-stu-id="111df-173">**Explicit style.**</span></span> <span data-ttu-id="111df-174">La propiedad <xref:System.Windows.FrameworkElement.Style%2A> se establece directamente.</span><span class="sxs-lookup"><span data-stu-id="111df-174">The <xref:System.Windows.FrameworkElement.Style%2A> property is set directly.</span></span> <span data-ttu-id="111df-175">En la mayoría de los escenarios, el estilo no se define en línea, sino que se hace referencia a este como un recurso, por la clave explícita.</span><span class="sxs-lookup"><span data-stu-id="111df-175">In most scenarios, the style is not defined inline, but instead is referenced as a resource, by explicit key.</span></span> <span data-ttu-id="111df-176">En este caso, la propia propiedad Style actúa como si fuera un valor local, el elemento de precedencia 3.</span><span class="sxs-lookup"><span data-stu-id="111df-176">In this case the Style property itself acts as if it were a local value, precedence item 3.</span></span>  
  
- <span data-ttu-id="111df-177">**Estilo implícito.**</span><span class="sxs-lookup"><span data-stu-id="111df-177">**Implicit style.**</span></span> <span data-ttu-id="111df-178">La propiedad <xref:System.Windows.FrameworkElement.Style%2A> no se establece directamente.</span><span class="sxs-lookup"><span data-stu-id="111df-178">The <xref:System.Windows.FrameworkElement.Style%2A> property is not set directly.</span></span> <span data-ttu-id="111df-179">Sin embargo, el <xref:System.Windows.FrameworkElement.Style%2A> existe en algún nivel de la secuencia de búsqueda de recursos (página, aplicación) y se codifica mediante una clave de recurso que coincide con el tipo al que se va a aplicar el estilo.</span><span class="sxs-lookup"><span data-stu-id="111df-179">However, the <xref:System.Windows.FrameworkElement.Style%2A> exists at some level in the resource lookup sequence (page, application) and is keyed using a resource key that matches the type the style is to be applied to.</span></span> <span data-ttu-id="111df-180">En este caso, la propia propiedad <xref:System.Windows.FrameworkElement.Style%2A> actúa con una prioridad identificada en la secuencia como elemento 5.</span><span class="sxs-lookup"><span data-stu-id="111df-180">In this case, the <xref:System.Windows.FrameworkElement.Style%2A> property itself acts by a precedence identified in the sequence as item 5.</span></span> <span data-ttu-id="111df-181">Esta condición se puede detectar mediante el uso de <xref:System.Windows.DependencyPropertyHelper> en la propiedad <xref:System.Windows.FrameworkElement.Style%2A> y buscar <xref:System.Windows.BaseValueSource.ImplicitStyleReference> en los resultados.</span><span class="sxs-lookup"><span data-stu-id="111df-181">This condition can be detected by using <xref:System.Windows.DependencyPropertyHelper> against the <xref:System.Windows.FrameworkElement.Style%2A> property and looking for <xref:System.Windows.BaseValueSource.ImplicitStyleReference> in the results.</span></span>  
  
- <span data-ttu-id="111df-182">**Estilo predeterminado**, también conocido como **estilo del tema.**</span><span class="sxs-lookup"><span data-stu-id="111df-182">**Default style**, also known as **theme style.**</span></span> <span data-ttu-id="111df-183">La propiedad <xref:System.Windows.FrameworkElement.Style%2A> no se establece directamente y, de hecho, se leerá como `null` hasta el tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="111df-183">The <xref:System.Windows.FrameworkElement.Style%2A> property is not set directly, and in fact will read as `null` up until run time.</span></span> <span data-ttu-id="111df-184">En este caso, el estilo procede de la evaluación del tema en tiempo de ejecución que forma parte del motor de presentación de [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="111df-184">In this case, the style comes from the run-time theme evaluation that is part of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] presentation engine.</span></span>  
  
 <span data-ttu-id="111df-185">En el caso de los estilos implícitos que no están en los temas, el tipo debe coincidir exactamente: una clase derivada de `Button``MyButton` no usará implícitamente un estilo para `Button`.</span><span class="sxs-lookup"><span data-stu-id="111df-185">For implicit styles not in themes, the type must match exactly - a `MyButton` `Button`-derived class will not implicitly use a style for `Button`.</span></span>  
  
<a name="themestyles"></a>   
## <a name="default-theme-styles"></a><span data-ttu-id="111df-186">Estilos (temas) predeterminados</span><span class="sxs-lookup"><span data-stu-id="111df-186">Default (Theme) Styles</span></span>  
 <span data-ttu-id="111df-187">Todos los controles que se suministran con [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] tienen un estilo predeterminado.</span><span class="sxs-lookup"><span data-stu-id="111df-187">Every control that ships with [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] has a default style.</span></span> <span data-ttu-id="111df-188">Ese estilo predeterminado puede variar según el tema, motivo por el cual se denomina a veces "estilo de tema".</span><span class="sxs-lookup"><span data-stu-id="111df-188">That default style potentially varies by theme, which is why this default style is sometimes referred to as a theme style.</span></span>  
  
 <span data-ttu-id="111df-189">La información más importante que se encuentra dentro de un estilo predeterminado para un control es su plantilla de control, que existe en el estilo de tema como un establecedor para su propiedad <xref:System.Windows.Controls.Control.Template%2A>.</span><span class="sxs-lookup"><span data-stu-id="111df-189">The most important information that is found within a default style for a control is its control template, which exists in the theme style as a setter for its <xref:System.Windows.Controls.Control.Template%2A> property.</span></span> <span data-ttu-id="111df-190">Si no hubiera ninguna plantilla en los estilos predeterminados, un control sin una plantilla personalizada como parte de un estilo personalizado no tendría ninguna apariencia visual.</span><span class="sxs-lookup"><span data-stu-id="111df-190">If there were no template from default styles, a control without a custom template as part of a custom style would have no visual appearance at all.</span></span> <span data-ttu-id="111df-191">La plantilla del estilo predeterminado proporciona a la apariencia visual de cada control una estructura básica, además de definir las conexiones entre las propiedades definidas en el árbol visual de la plantilla y la clase de control correspondiente.</span><span class="sxs-lookup"><span data-stu-id="111df-191">The template from the default style gives the visual appearance of each control a basic structure, and also defines the connections between properties defined in the visual tree of the template and the corresponding control class.</span></span> <span data-ttu-id="111df-192">Cada control expone un conjunto de propiedades que puede influir en la apariencia visual del control sin reemplazar completamente la plantilla.</span><span class="sxs-lookup"><span data-stu-id="111df-192">Each control exposes a set of properties that can influence the visual appearance of the control without completely replacing the template.</span></span> <span data-ttu-id="111df-193">Por ejemplo, considere la apariencia visual predeterminada de un control <xref:System.Windows.Controls.Primitives.Thumb>, que es un componente de un <xref:System.Windows.Controls.Primitives.ScrollBar>.</span><span class="sxs-lookup"><span data-stu-id="111df-193">For example, consider the default visual appearance of a <xref:System.Windows.Controls.Primitives.Thumb> control, which is a component of a <xref:System.Windows.Controls.Primitives.ScrollBar>.</span></span>  
  
 <span data-ttu-id="111df-194">Una <xref:System.Windows.Controls.Primitives.Thumb> tiene algunas propiedades personalizables.</span><span class="sxs-lookup"><span data-stu-id="111df-194">A <xref:System.Windows.Controls.Primitives.Thumb> has certain customizable properties.</span></span> <span data-ttu-id="111df-195">La plantilla predeterminada de una <xref:System.Windows.Controls.Primitives.Thumb> crea un árbol visual o de estructura básica con varios componentes <xref:System.Windows.Controls.Border> anidados para crear una apariencia biselada.</span><span class="sxs-lookup"><span data-stu-id="111df-195">The default template of a <xref:System.Windows.Controls.Primitives.Thumb> creates a basic structure / visual tree with several nested <xref:System.Windows.Controls.Border> components to create a bevel look.</span></span> <span data-ttu-id="111df-196">Si una propiedad que forma parte de la plantilla está destinada a exponerse para su personalización mediante la clase <xref:System.Windows.Controls.Primitives.Thumb>, esa propiedad debe estar expuesta por un [TemplateBinding](templatebinding-markup-extension.md)en la plantilla.</span><span class="sxs-lookup"><span data-stu-id="111df-196">If a property that is part of the template is intended to be exposed for customization by the <xref:System.Windows.Controls.Primitives.Thumb> class, then that property must be exposed by a [TemplateBinding](templatebinding-markup-extension.md), within the template.</span></span> <span data-ttu-id="111df-197">En el caso de <xref:System.Windows.Controls.Primitives.Thumb>, varias propiedades de estos bordes comparten un enlace de plantilla a propiedades como <xref:System.Windows.Controls.Border.Background%2A> o <xref:System.Windows.Controls.Border.BorderThickness%2A>.</span><span class="sxs-lookup"><span data-stu-id="111df-197">In the case of <xref:System.Windows.Controls.Primitives.Thumb>, various properties of these borders share a template binding to properties such as <xref:System.Windows.Controls.Border.Background%2A> or <xref:System.Windows.Controls.Border.BorderThickness%2A>.</span></span> <span data-ttu-id="111df-198">No obstante, otras propiedades u organizaciones visuales están codificadas de forma rígida en la plantilla de control o enlazadas a valores que proceden directamente del tema, y no se pueden cambiar a poco de reemplazar la plantilla completa.</span><span class="sxs-lookup"><span data-stu-id="111df-198">But certain other properties or visual arrangements are hard-coded into the control template or are bound to values that come directly from the theme, and cannot be changed short of replacing the entire template.</span></span> <span data-ttu-id="111df-199">Por lo general, si una propiedad procede de un elemento primario con plantilla y no se expone mediante un enlace a plantilla, no puede ajustarse mediante estilos porque no hay ninguna forma sencilla de establecerla como destino.</span><span class="sxs-lookup"><span data-stu-id="111df-199">Generally, if a property comes from a templated parent and is not exposed by a template binding, it cannot be adjusted by styles because there is no easy way to target it.</span></span> <span data-ttu-id="111df-200">No obstante, aún se podría influir en esa propiedad mediante la herencia de valores de propiedad de la plantilla aplicada o el valor predeterminado.</span><span class="sxs-lookup"><span data-stu-id="111df-200">But that property could still be influenced by property value inheritance in the applied template, or by default value.</span></span>  
  
 <span data-ttu-id="111df-201">Los estilos de tema usan un tipo como clave en sus definiciones.</span><span class="sxs-lookup"><span data-stu-id="111df-201">The theme styles use a type as the key in their definitions.</span></span> <span data-ttu-id="111df-202">Sin embargo, cuando los temas se aplican a una instancia de elemento determinada, la búsqueda de temas para este tipo se realiza mediante la comprobación de la propiedad <xref:System.Windows.FrameworkElement.DefaultStyleKey%2A> en un control.</span><span class="sxs-lookup"><span data-stu-id="111df-202">However, when themes are applied to a given element instance, themes lookup for this type is performed by checking the <xref:System.Windows.FrameworkElement.DefaultStyleKey%2A> property on a control.</span></span> <span data-ttu-id="111df-203">Esto es lo contrario a usar el literal Type, como hacen los estilos implícitos.</span><span class="sxs-lookup"><span data-stu-id="111df-203">This is in contrast to using the literal Type, as implicit styles do.</span></span> <span data-ttu-id="111df-204">El valor de <xref:System.Windows.FrameworkElement.DefaultStyleKey%2A> heredaría de las clases derivadas aunque el implementador no lo cambiara (la forma prevista de cambiar la propiedad no es invalidarla en el nivel de propiedad, pero para cambiar su valor predeterminado en los metadatos de la propiedad).</span><span class="sxs-lookup"><span data-stu-id="111df-204">The value of <xref:System.Windows.FrameworkElement.DefaultStyleKey%2A> would inherit to derived classes even if the implementer did not change it (the intended way of changing the property is not to override it at the property level, but to instead change its default value in property metadata).</span></span> <span data-ttu-id="111df-205">Este direccionamiento indirecto permite que las clases base definan los estilos de tema de elementos derivados que, de lo contrario, no tendrían ningún estilo (o más importante aún, no tendrían ninguna plantilla dentro de ese estilo y no tendrían, por tanto, ninguna apariencia visual predeterminada en absoluto).</span><span class="sxs-lookup"><span data-stu-id="111df-205">This indirection enables base classes to define the theme styles for derived elements that do not otherwise have a style (or more importantly, do not have a template within that style and would thus have no default visual appearance at all).</span></span> <span data-ttu-id="111df-206">Por lo tanto, puede derivar `MyButton` de <xref:System.Windows.Controls.Button> y seguirá teniendo la <xref:System.Windows.Controls.Button> plantilla predeterminada.</span><span class="sxs-lookup"><span data-stu-id="111df-206">Thus, you can derive `MyButton` from <xref:System.Windows.Controls.Button> and will still get the <xref:System.Windows.Controls.Button> default template.</span></span> <span data-ttu-id="111df-207">Si fuera el autor del control de `MyButton` y quería un comportamiento diferente, podría invalidar los metadatos de la propiedad de dependencia para que <xref:System.Windows.FrameworkElement.DefaultStyleKey%2A> en `MyButton` devuelva otra clave y, a continuación, definir los estilos de tema relevantes, incluida la plantilla para `MyButton` que debe empaquetar con el control de `MyButton`.</span><span class="sxs-lookup"><span data-stu-id="111df-207">If you were the control author of `MyButton` and you wanted a different behavior, you could override the dependency property metadata for <xref:System.Windows.FrameworkElement.DefaultStyleKey%2A> on `MyButton` to return a different key, and then define the relevant theme styles including template for `MyButton` that you must package with your `MyButton` control.</span></span> <span data-ttu-id="111df-208">Para obtener más detalles sobre los temas, los estilos y la creación de controles, consulte [Información general sobre la creación de controles](../controls/control-authoring-overview.md).</span><span class="sxs-lookup"><span data-stu-id="111df-208">For more details on themes, styles, and control authoring, see [Control Authoring Overview](../controls/control-authoring-overview.md).</span></span>  
  
<a name="resources"></a>   
## <a name="dynamic-resource-references-and-binding"></a><span data-ttu-id="111df-209">Enlace y referencias de recursos dinámicos</span><span class="sxs-lookup"><span data-stu-id="111df-209">Dynamic Resource References and Binding</span></span>  
 <span data-ttu-id="111df-210">Las operaciones de enlace y referencias de recursos dinámicos respetan la precedencia de la ubicación en la que están establecidas.</span><span class="sxs-lookup"><span data-stu-id="111df-210">Dynamic resource references and binding operations respect the precedence of the location at which they are set.</span></span> <span data-ttu-id="111df-211">Por ejemplo, un recurso dinámico aplicado a un valor local actúa por elemento de precedencia 3, un enlace para un establecedor de propiedad dentro de un estilo de tema se aplica al elemento de precedencia 9 y así sucesivamente.</span><span class="sxs-lookup"><span data-stu-id="111df-211">For example, a dynamic resource applied to a local value acts per precedence item 3, a binding for a property setter within a theme style applies at precedence item 9, and so on.</span></span> <span data-ttu-id="111df-212">Dado que el enlace y las referencias de recursos dinámicos deben ser capaces de obtener los valores del estado de tiempo de ejecución de la aplicación, esto implica que el proceso real de determinar la precedencia de los valores de propiedad para cualquier propiedad determinada se extiende también al tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="111df-212">Because dynamic resource references and binding must both be able to obtain values from the run time state of the application, this entails that the actual process of determining the property value precedence for any given property extends into the run time as well.</span></span>  
  
 <span data-ttu-id="111df-213">Las referencias de recursos dinámicos no forman parte del sistema de propiedades en sentido estricto, pero tienen un orden de búsqueda propio que interactúa con la secuencia citada anteriormente.</span><span class="sxs-lookup"><span data-stu-id="111df-213">Dynamic resource references are not strictly speaking part of the property system, but they do have a lookup order of their own which interacts with the sequence listed above.</span></span> <span data-ttu-id="111df-214">Esa precedencia se documenta con más detalle en [Recursos XAML](../../../desktop-wpf/fundamentals/xaml-resources-define.md).</span><span class="sxs-lookup"><span data-stu-id="111df-214">That precedence is documented more thoroughly in the [XAML Resources](../../../desktop-wpf/fundamentals/xaml-resources-define.md).</span></span> <span data-ttu-id="111df-215">El resumen básico de esa precedencia es: elemento a raíz de la página, aplicación, tema y sistema.</span><span class="sxs-lookup"><span data-stu-id="111df-215">The basic summation of that precedence is: element to page root, application, theme, system.</span></span>  
  
 <span data-ttu-id="111df-216">Los enlaces y los recursos dinámicos tienen la precedencia de donde se establecieron, pero el valor se aplaza.</span><span class="sxs-lookup"><span data-stu-id="111df-216">Dynamic resources and bindings have the precedence of where they were set, but the value is deferred.</span></span> <span data-ttu-id="111df-217">Una consecuencia de esto es que, si establece un recurso dinámico o un enlace en un valor local, cualquier cambio en el valor local reemplazará el recurso dinámico o el enlace completamente.</span><span class="sxs-lookup"><span data-stu-id="111df-217">One consequence of this is that if you set a dynamic resource or binding to a local value, any change to the local value replaces the dynamic resource or binding entirely.</span></span> <span data-ttu-id="111df-218">Incluso si llama al método <xref:System.Windows.DependencyObject.ClearValue%2A> para borrar el valor establecido localmente, no se restaurará el recurso dinámico o el enlace.</span><span class="sxs-lookup"><span data-stu-id="111df-218">Even if you call the <xref:System.Windows.DependencyObject.ClearValue%2A> method to clear the locally set value, the dynamic resource or binding will not be restored.</span></span> <span data-ttu-id="111df-219">De hecho, si llama a <xref:System.Windows.DependencyObject.ClearValue%2A> en una propiedad que tenga un recurso dinámico o un enlace (sin ningún valor local literal), se borrarán también con la llamada <xref:System.Windows.DependencyObject.ClearValue%2A>.</span><span class="sxs-lookup"><span data-stu-id="111df-219">In fact, if you call <xref:System.Windows.DependencyObject.ClearValue%2A> on a property that has a dynamic resource or binding in place (with no literal local value), they are cleared by the <xref:System.Windows.DependencyObject.ClearValue%2A> call too.</span></span>  
  
<a name="setcurrentvalue"></a>   
## <a name="setcurrentvalue"></a><span data-ttu-id="111df-220">SetCurrentValue</span><span class="sxs-lookup"><span data-stu-id="111df-220">SetCurrentValue</span></span>  
 <span data-ttu-id="111df-221">El método <xref:System.Windows.DependencyObject.SetCurrentValue%2A> es otra manera de establecer una propiedad, pero no se encuentra en orden de prioridad.</span><span class="sxs-lookup"><span data-stu-id="111df-221">The <xref:System.Windows.DependencyObject.SetCurrentValue%2A> method is another way to set a property, but it is not in the order of precedence.</span></span> <span data-ttu-id="111df-222">En su lugar, <xref:System.Windows.DependencyObject.SetCurrentValue%2A> le permite cambiar el valor de una propiedad sin sobrescribir el origen de un valor anterior.</span><span class="sxs-lookup"><span data-stu-id="111df-222">Instead, <xref:System.Windows.DependencyObject.SetCurrentValue%2A> enables you to change the value of a property without overwriting the source of a previous value.</span></span> <span data-ttu-id="111df-223">Puede usar <xref:System.Windows.DependencyObject.SetCurrentValue%2A> siempre que desee establecer un valor sin asignar a ese valor la prioridad de un valor local.</span><span class="sxs-lookup"><span data-stu-id="111df-223">You can use <xref:System.Windows.DependencyObject.SetCurrentValue%2A> any time that you want to set a value without giving that value the precedence of a local value.</span></span> <span data-ttu-id="111df-224">Por ejemplo, si una propiedad se establece mediante un desencadenador y luego se le asigna otro valor a través de <xref:System.Windows.DependencyObject.SetCurrentValue%2A>, el sistema de propiedades seguirá respetando el desencadenador y la propiedad cambiará si se produce la acción del desencadenador.</span><span class="sxs-lookup"><span data-stu-id="111df-224">For example, if a property is set by a trigger and then assigned another value via <xref:System.Windows.DependencyObject.SetCurrentValue%2A>, the property system still respects the trigger and the property will change if the trigger’s action occurs.</span></span> <span data-ttu-id="111df-225"><xref:System.Windows.DependencyObject.SetCurrentValue%2A> le permite cambiar el valor de la propiedad sin darle un origen con una prioridad más alta.</span><span class="sxs-lookup"><span data-stu-id="111df-225"><xref:System.Windows.DependencyObject.SetCurrentValue%2A> enables you to change the property’s value without giving it a source with a higher precedence.</span></span> <span data-ttu-id="111df-226">Del mismo modo, puede usar <xref:System.Windows.DependencyObject.SetCurrentValue%2A> para cambiar el valor de una propiedad sin sobrescribir un enlace.</span><span class="sxs-lookup"><span data-stu-id="111df-226">Likewise, you can use <xref:System.Windows.DependencyObject.SetCurrentValue%2A> to change the value of a property without overwriting a binding.</span></span>  
  
<a name="animations"></a>   
## <a name="coercion-animations-and-base-value"></a><span data-ttu-id="111df-227">Coerción, animaciones y valor base</span><span class="sxs-lookup"><span data-stu-id="111df-227">Coercion, Animations, and Base Value</span></span>  
 <span data-ttu-id="111df-228">Tanto la coerción como la animación actúan sobre un valor que se denomina el "valor base" en este SDK.</span><span class="sxs-lookup"><span data-stu-id="111df-228">Coercion and animation both act on a value that is termed as the "base value" throughout this SDK.</span></span> <span data-ttu-id="111df-229">El valor base es, por tanto, cualquier valor que se determine mediante la evaluación ascendente de los elementos hasta alcanzar el elemento 2.</span><span class="sxs-lookup"><span data-stu-id="111df-229">The base value is thus whatever value is determined through evaluating upwards in the items until item 2 is reached.</span></span>  
  
 <span data-ttu-id="111df-230">Para una animación, el valor base puede tener un efecto en el valor animado si la animación no especifica los valores "From" y "To" para ciertos comportamientos o si se revierte deliberadamente al valor base al completarse.</span><span class="sxs-lookup"><span data-stu-id="111df-230">For an animation, the base value can have an effect on the animated value, if that animation does not specify both "From" and "To" for certain behaviors, or if the animation deliberately reverts to the base value when completed.</span></span> <span data-ttu-id="111df-231">Para verlo en la práctica, ejecute el [Ejemplo de valores de destino de animación From, To y By](https://github.com/Microsoft/WPF-Samples/tree/master/Animation/TargetValues).</span><span class="sxs-lookup"><span data-stu-id="111df-231">To see this in practice, run the [From, To, and By Animation Target Values Sample](https://github.com/Microsoft/WPF-Samples/tree/master/Animation/TargetValues).</span></span> <span data-ttu-id="111df-232">Intente establecer los valores locales del alto del rectángulo del ejemplo, de modo que el valor local inicial difiera de cualquier valor "From" de la animación.</span><span class="sxs-lookup"><span data-stu-id="111df-232">Try setting the local values of the rectangle height in the example, such that the initial local value differs from any "From" in the animation.</span></span> <span data-ttu-id="111df-233">Observará que las animaciones se inician inmediatamente mediante los valores "From" y reemplazan el valor base una vez iniciadas.</span><span class="sxs-lookup"><span data-stu-id="111df-233">You will note that the animations start right away using the "From" values and replace the base value once started.</span></span> <span data-ttu-id="111df-234">La animación podría especificar que se devuelva al valor encontrado antes de la animación una vez completada especificando el <xref:System.Windows.Media.Animation.FillBehavior>STOP.</span><span class="sxs-lookup"><span data-stu-id="111df-234">The animation might specify to return to the value found before animation once it is completed by specifying the Stop <xref:System.Windows.Media.Animation.FillBehavior>.</span></span> <span data-ttu-id="111df-235">Después, se usa la precedencia normal para la determinación del valor base.</span><span class="sxs-lookup"><span data-stu-id="111df-235">Afterwards, normal precedence is used for the base value determination.</span></span>  
  
 <span data-ttu-id="111df-236">Varias animaciones podrían aplicarse a una propiedad única y cada una de estas animaciones se podría haber definido desde diferentes puntos de la precedencia de valores.</span><span class="sxs-lookup"><span data-stu-id="111df-236">Multiple animations might be applied to a single property, with each of these animations possibly having been defined from different points in the value precedence.</span></span> <span data-ttu-id="111df-237">Sin embargo, estas animaciones compondrán potencialmente sus valores, en lugar de aplicar la animación de mayor precedencia simplemente.</span><span class="sxs-lookup"><span data-stu-id="111df-237">However, these animations will potentially composite their values, rather than just applying the animation from the higher precedence.</span></span> <span data-ttu-id="111df-238">Esto depende de la exactitud con la que estén definidas las animaciones y del tipo de valor que se esté animando.</span><span class="sxs-lookup"><span data-stu-id="111df-238">This depends on exactly how the animations are defined, and the type of the value that is being animated.</span></span> <span data-ttu-id="111df-239">Para obtener más información sobre la animación de propiedades, consulte [Información general sobre animaciones](../graphics-multimedia/animation-overview.md).</span><span class="sxs-lookup"><span data-stu-id="111df-239">For more information about animating properties, see [Animation Overview](../graphics-multimedia/animation-overview.md).</span></span>  
  
 <span data-ttu-id="111df-240">La coerción se aplica en el nivel más alto de todos.</span><span class="sxs-lookup"><span data-stu-id="111df-240">Coercion applies at the highest level of all.</span></span> <span data-ttu-id="111df-241">Incluso una animación que ya se está ejecutando está sujeta a la coerción de valores.</span><span class="sxs-lookup"><span data-stu-id="111df-241">Even an already running animation is subject to value coercion.</span></span> <span data-ttu-id="111df-242">Ciertas propiedades de dependencia existentes en [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] tienen la coerción integrada.</span><span class="sxs-lookup"><span data-stu-id="111df-242">Certain existing dependency properties in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] have built-in coercion.</span></span> <span data-ttu-id="111df-243">Para una propiedad de dependencia personalizada, defina el comportamiento de la coerción para una propiedad de dependencia personalizada escribiendo un <xref:System.Windows.CoerceValueCallback> y pasando la devolución de llamada como parte de los metadatos al crear la propiedad.</span><span class="sxs-lookup"><span data-stu-id="111df-243">For a custom dependency property, you define the coercion behavior for a custom dependency property by writing a <xref:System.Windows.CoerceValueCallback> and passing the callback as part of metadata when you create the property.</span></span> <span data-ttu-id="111df-244">También puede invalidar el comportamiento de la coerción de las propiedades existentes mediante la invalidación de los metadatos de esa propiedad en una clase derivada.</span><span class="sxs-lookup"><span data-stu-id="111df-244">You can also override coercion behavior of existing properties by overriding the metadata on that property in a derived class.</span></span> <span data-ttu-id="111df-245">La coerción interactúa con el valor base de forma que se aplican las restricciones en la coerción, ya que esas restricciones existen en el momento, pero el valor base se sigue conservando.</span><span class="sxs-lookup"><span data-stu-id="111df-245">Coercion interacts with the base value in such a way that the constraints on coercion are applied as those constraints exist at the time, but the base value is still retained.</span></span> <span data-ttu-id="111df-246">Por lo tanto, si las restricciones en la coerción se levantan posteriormente, la coerción devolverá el valor más próximo posible a ese valor base y la influencia de la coerción sobre una propiedad cesará potencialmente en cuanto se levanten todas las restricciones.</span><span class="sxs-lookup"><span data-stu-id="111df-246">Therefore, if constraints in coercion are later lifted, the coercion will return the closest value possible to that base value, and potentially the coercion influence on a property will cease as soon as all constraints are lifted.</span></span> <span data-ttu-id="111df-247">Para obtener más información sobre el comportamiento de la coerción, consulte [Devoluciones de llamada y validación de las propiedades de dependencia](dependency-property-callbacks-and-validation.md).</span><span class="sxs-lookup"><span data-stu-id="111df-247">For more information about coercion behavior, see [Dependency Property Callbacks and Validation](dependency-property-callbacks-and-validation.md).</span></span>  
  
<a name="triggers"></a>   
## <a name="trigger-behaviors"></a><span data-ttu-id="111df-248">Comportamientos de los desencadenadores</span><span class="sxs-lookup"><span data-stu-id="111df-248">Trigger Behaviors</span></span>  
 <span data-ttu-id="111df-249">Los controles suelen definir los comportamientos de los desencadenadores como parte de su estilo predeterminado en los temas.</span><span class="sxs-lookup"><span data-stu-id="111df-249">Controls often define trigger behaviors as part of their default style in themes.</span></span> <span data-ttu-id="111df-250">Establecer las propiedades locales en los controles puede impedir que los desencadenadores sean capaces de responder a eventos controlados por el usuario, ya sea de manera visual o conductual.</span><span class="sxs-lookup"><span data-stu-id="111df-250">Setting local properties on controls might prevent the triggers from being able to respond to user-driven events either visually or behaviorally.</span></span> <span data-ttu-id="111df-251">El uso más común de un desencadenador de propiedad es para las propiedades de control o estado, como <xref:System.Windows.Controls.Primitives.Selector.IsSelected%2A>.</span><span class="sxs-lookup"><span data-stu-id="111df-251">The most common use of a property trigger is for control or state properties such as <xref:System.Windows.Controls.Primitives.Selector.IsSelected%2A>.</span></span> <span data-ttu-id="111df-252">Por ejemplo, de forma predeterminada, cuando una <xref:System.Windows.Controls.Button> está deshabilitada (se `false`desencadenador de <xref:System.Windows.UIElement.IsEnabled%2A>), el valor de <xref:System.Windows.Controls.Control.Foreground%2A> en el estilo de tema es el que hace que el control aparezca "atenuado".</span><span class="sxs-lookup"><span data-stu-id="111df-252">For example, by default when a <xref:System.Windows.Controls.Button> is disabled (trigger for <xref:System.Windows.UIElement.IsEnabled%2A> is `false`) then the <xref:System.Windows.Controls.Control.Foreground%2A> value in the theme style is what causes the control to appear "grayed out".</span></span> <span data-ttu-id="111df-253">Sin embargo, si ha establecido un valor de <xref:System.Windows.Controls.Control.Foreground%2A> local, el conjunto de propiedades local sobrescribirá el color gris normal, incluso en este escenario desencadenado por la propiedad.</span><span class="sxs-lookup"><span data-stu-id="111df-253">But if you have set a local <xref:System.Windows.Controls.Control.Foreground%2A> value, that normal gray-out color will be overruled in precedence by your local property set, even in this property-triggered scenario.</span></span> <span data-ttu-id="111df-254">Tenga precaución al establecer valores de propiedades con comportamientos de desencadenador de nivel de tema y asegúrese de no interferir excesivamente en la experiencia de usuario prevista para este control.</span><span class="sxs-lookup"><span data-stu-id="111df-254">Be cautious of setting values for properties that have theme-level trigger behaviors and make sure you are not unduly interfering with the intended user experience for that control.</span></span>  
  
<a name="clearvalue"></a>   
## <a name="clearvalue-and-value-precedence"></a><span data-ttu-id="111df-255">Precedencia de los valores y ClearValue</span><span class="sxs-lookup"><span data-stu-id="111df-255">ClearValue and Value Precedence</span></span>  
 <span data-ttu-id="111df-256">El método <xref:System.Windows.DependencyObject.ClearValue%2A> proporciona un medio conveniente para borrar cualquier valor aplicado localmente de una propiedad de dependencia que se establece en un elemento.</span><span class="sxs-lookup"><span data-stu-id="111df-256">The <xref:System.Windows.DependencyObject.ClearValue%2A> method provides an expedient means to clear any locally applied value from a dependency property that is set on an element.</span></span> <span data-ttu-id="111df-257">Sin embargo, llamar a <xref:System.Windows.DependencyObject.ClearValue%2A> no es una garantía de que el valor predeterminado tal y como se establece en los metadatos durante el registro de la propiedad es el nuevo valor efectivo.</span><span class="sxs-lookup"><span data-stu-id="111df-257">However, calling <xref:System.Windows.DependencyObject.ClearValue%2A> is not a guarantee that the default as established in metadata during property registration is the new effective value.</span></span> <span data-ttu-id="111df-258">Todos los demás participantes en la precedencia de valores siguen estando activos.</span><span class="sxs-lookup"><span data-stu-id="111df-258">All of the other participants in value precedence are still active.</span></span> <span data-ttu-id="111df-259">Solo el valor establecido localmente se quitó de la secuencia de precedencia.</span><span class="sxs-lookup"><span data-stu-id="111df-259">Only the locally set value has been removed from the precedence sequence.</span></span> <span data-ttu-id="111df-260">Por ejemplo, si llama a <xref:System.Windows.DependencyObject.ClearValue%2A> en una propiedad en la que la propiedad también se establece mediante un estilo de tema, el valor del tema se aplica como el nuevo valor en lugar del valor predeterminado basado en metadatos.</span><span class="sxs-lookup"><span data-stu-id="111df-260">For example, if you call <xref:System.Windows.DependencyObject.ClearValue%2A> on a property where that property is also set by a theme style, then the theme value is applied as the new value rather than the metadata-based default.</span></span> <span data-ttu-id="111df-261">Si desea sacar todos los participantes del valor de propiedad del proceso y establecer el valor en el valor predeterminado de los metadatos registrados, puede obtener ese valor predeterminado de forma definitiva consultando los metadatos de la propiedad de dependencia y, a continuación, puede usar el valor predeterminado para establecer localmente la propiedad con una llamada a <xref:System.Windows.DependencyObject.SetValue%2A>.</span><span class="sxs-lookup"><span data-stu-id="111df-261">If you want to take all property value participants out of the process and set the value to the registered metadata default, you can obtain that default value definitively by querying the dependency property metadata, and then you can use the default value to locally set the property with a call to <xref:System.Windows.DependencyObject.SetValue%2A>.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="111df-262">Consulte también</span><span class="sxs-lookup"><span data-stu-id="111df-262">See also</span></span>

- <xref:System.Windows.DependencyObject>
- <xref:System.Windows.DependencyProperty>
- [<span data-ttu-id="111df-263">Información general sobre las propiedades de dependencia</span><span class="sxs-lookup"><span data-stu-id="111df-263">Dependency Properties Overview</span></span>](dependency-properties-overview.md)
- [<span data-ttu-id="111df-264">Propiedades de dependencia personalizadas</span><span class="sxs-lookup"><span data-stu-id="111df-264">Custom Dependency Properties</span></span>](custom-dependency-properties.md)
- [<span data-ttu-id="111df-265">Devoluciones de llamada y validación de las propiedades de dependencia</span><span class="sxs-lookup"><span data-stu-id="111df-265">Dependency Property Callbacks and Validation</span></span>](dependency-property-callbacks-and-validation.md)
