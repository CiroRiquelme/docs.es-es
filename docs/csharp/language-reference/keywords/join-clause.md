---
title: 'Cláusula join: Referencia de C#'
ms.date: 07/20/2015
f1_keywords:
- join
- join_CSharpKeyword
helpviewer_keywords:
- join clause [C#]
- join keyword [C#]
ms.assetid: 76e9df84-092c-41a6-9537-c3f1cbd7f0fb
ms.openlocfilehash: 8e52e9db241392b67818b7316767dd97bd38432a
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 03/14/2020
ms.locfileid: "75713403"
---
# <a name="join-clause-c-reference"></a><span data-ttu-id="c0cba-102">join (Cláusula, Referencia de C#)</span><span class="sxs-lookup"><span data-stu-id="c0cba-102">join clause (C# Reference)</span></span>

<span data-ttu-id="c0cba-103">La cláusula `join` es útil para asociar elementos de secuencias de origen diferentes que no tienen ninguna relación directa en el modelo de objetos.</span><span class="sxs-lookup"><span data-stu-id="c0cba-103">The `join` clause is useful for associating elements from different source sequences that have no direct relationship in the object model.</span></span> <span data-ttu-id="c0cba-104">El único requisito es que los elementos de cada origen compartan algún valor del que se pueda comparar la igualdad.</span><span class="sxs-lookup"><span data-stu-id="c0cba-104">The only requirement is that the elements in each source share some value that can be compared for equality.</span></span> <span data-ttu-id="c0cba-105">Por ejemplo, imagínese que un distribuidor de comida tiene una lista de proveedores de un determinado producto y una lista de compradores.</span><span class="sxs-lookup"><span data-stu-id="c0cba-105">For example, a food distributor might have a list of suppliers of a certain product, and a list of buyers.</span></span> <span data-ttu-id="c0cba-106">Se puede usar una cláusula `join`, por ejemplo, para crear una lista de los proveedores y compradores de dicho producto que se encuentran en la misma región especificada.</span><span class="sxs-lookup"><span data-stu-id="c0cba-106">A `join` clause can be used, for example, to create a list of the suppliers and buyers of that product who are all in the same specified region.</span></span>

<span data-ttu-id="c0cba-107">La cláusula `join` toma dos secuencias de origen como entrada.</span><span class="sxs-lookup"><span data-stu-id="c0cba-107">A `join` clause takes two source sequences as input.</span></span> <span data-ttu-id="c0cba-108">Los elementos de cada secuencia deben ser o deben contener una propiedad que se pueda comparar con una propiedad correspondiente en la otra secuencia.</span><span class="sxs-lookup"><span data-stu-id="c0cba-108">The elements in each sequence must either be or contain a property that can be compared to a corresponding property in the other sequence.</span></span> <span data-ttu-id="c0cba-109">La cláusula `join` compara la igualdad de las claves especificadas mediante la palabra clave especial `equals`.</span><span class="sxs-lookup"><span data-stu-id="c0cba-109">The `join` clause compares the specified keys for equality by using the special `equals` keyword.</span></span> <span data-ttu-id="c0cba-110">Todas las combinaciones efectuadas por la cláusula `join` son combinaciones de igualdad.</span><span class="sxs-lookup"><span data-stu-id="c0cba-110">All joins performed by the `join` clause are equijoins.</span></span> <span data-ttu-id="c0cba-111">La forma de la salida de una cláusula `join` depende del tipo específico de combinación que se va a efectuar.</span><span class="sxs-lookup"><span data-stu-id="c0cba-111">The shape of the output of a `join` clause depends on the specific type of join you are performing.</span></span> <span data-ttu-id="c0cba-112">Estos son los tres tipos de combinación más comunes:</span><span class="sxs-lookup"><span data-stu-id="c0cba-112">The following are three most common join types:</span></span>

- <span data-ttu-id="c0cba-113">Combinación interna</span><span class="sxs-lookup"><span data-stu-id="c0cba-113">Inner join</span></span>

- <span data-ttu-id="c0cba-114">Combinación agrupada</span><span class="sxs-lookup"><span data-stu-id="c0cba-114">Group join</span></span>

- <span data-ttu-id="c0cba-115">Combinación externa izquierda</span><span class="sxs-lookup"><span data-stu-id="c0cba-115">Left outer join</span></span>

## <a name="inner-join"></a><span data-ttu-id="c0cba-116">Combinación interna</span><span class="sxs-lookup"><span data-stu-id="c0cba-116">Inner join</span></span>

<span data-ttu-id="c0cba-117">En el ejemplo siguiente se muestra una combinación de igualdad interna simple.</span><span class="sxs-lookup"><span data-stu-id="c0cba-117">The following example shows a simple inner equijoin.</span></span> <span data-ttu-id="c0cba-118">Esta consulta genera una secuencia plana de pares de "nombre de producto y categoría".</span><span class="sxs-lookup"><span data-stu-id="c0cba-118">This query produces a flat sequence of "product name / category" pairs.</span></span> <span data-ttu-id="c0cba-119">La misma cadena de categoría aparecerá en varios elementos.</span><span class="sxs-lookup"><span data-stu-id="c0cba-119">The same category string will appear in multiple elements.</span></span> <span data-ttu-id="c0cba-120">Si un elemento de `categories` no tiene ningún `products` que coincida, dicha categoría no aparecerá en los resultados.</span><span class="sxs-lookup"><span data-stu-id="c0cba-120">If an element from `categories` has no matching `products`, that category will not appear in the results.</span></span>

[!code-csharp[cscsrefQueryKeywords#24](~/samples/snippets/csharp/VS_Snippets_VBCSharp/CsCsrefQueryKeywords/CS/Join.cs#24)]

<span data-ttu-id="c0cba-121">Para obtener más información, vea [Realizar combinaciones internas](../../linq/perform-inner-joins.md).</span><span class="sxs-lookup"><span data-stu-id="c0cba-121">For more information, see [Perform inner joins](../../linq/perform-inner-joins.md).</span></span>

## <a name="group-join"></a><span data-ttu-id="c0cba-122">Combinación agrupada</span><span class="sxs-lookup"><span data-stu-id="c0cba-122">Group join</span></span>

<span data-ttu-id="c0cba-123">Una cláusula `join` con una expresión `into` se denomina "combinación agrupada".</span><span class="sxs-lookup"><span data-stu-id="c0cba-123">A `join` clause with an `into` expression is called a group join.</span></span>

[!code-csharp[cscsrefQueryKeywords#25](~/samples/snippets/csharp/VS_Snippets_VBCSharp/CsCsrefQueryKeywords/CS/Join.cs#25)]

<span data-ttu-id="c0cba-124">Las combinaciones agrupadas generan una secuencia de resultados jerárquicos que asocia los elementos de la secuencia de origen izquierda con uno o más elementos coincidentes de la secuencia de origen derecha.</span><span class="sxs-lookup"><span data-stu-id="c0cba-124">A group join produces a hierarchical result sequence, which associates elements in the left source sequence with one or more matching elements in the right side source sequence.</span></span> <span data-ttu-id="c0cba-125">Las combinaciones agrupadas no tienen ningún equivalente en términos relacionales; son básicamente una secuencia de matrices de objetos.</span><span class="sxs-lookup"><span data-stu-id="c0cba-125">A group join has no equivalent in relational terms; it is essentially a sequence of object arrays.</span></span>

<span data-ttu-id="c0cba-126">Si no se encuentra ningún elemento de la secuencia de origen derecha para que coincida con un elemento del origen izquierdo, la cláusula `join` generará una matriz vacía para ese elemento.</span><span class="sxs-lookup"><span data-stu-id="c0cba-126">If no elements from the right source sequence are found to match an element in the left source, the `join` clause will produce an empty array for that item.</span></span> <span data-ttu-id="c0cba-127">Por lo tanto, la combinación agrupada es básicamente una combinación de igualdad interna, salvo que la secuencia del resultado se organiza en grupos.</span><span class="sxs-lookup"><span data-stu-id="c0cba-127">Therefore, the group join is still basically an inner-equijoin except that the result sequence is organized into groups.</span></span>

<span data-ttu-id="c0cba-128">Si solo selecciona los resultados de una combinación agrupada, puede tener acceso a los elementos, pero no podrá identificar la clave en la que coinciden.</span><span class="sxs-lookup"><span data-stu-id="c0cba-128">If you just select the results of a group join, you can access the items, but you cannot identify the key that they match on.</span></span> <span data-ttu-id="c0cba-129">Por lo tanto, suele resultar más útil seleccionar los resultados de la combinación agrupada en un nuevo tipo que también tenga el nombre de la clave, como se muestra en el ejemplo anterior.</span><span class="sxs-lookup"><span data-stu-id="c0cba-129">Therefore, it is generally more useful to select the results of the group join into a new type that also has the key name, as shown in the previous example.</span></span>

<span data-ttu-id="c0cba-130">Por supuesto, también puede usar el resultado de una combinación agrupada como generador de otra subconsulta:</span><span class="sxs-lookup"><span data-stu-id="c0cba-130">You can also, of course, use the result of a group join as the generator of another subquery:</span></span>

[!code-csharp[cscsrefQueryKeywords#26](~/samples/snippets/csharp/VS_Snippets_VBCSharp/CsCsrefQueryKeywords/CS/Join.cs#26)]

<span data-ttu-id="c0cba-131">Para obtener más información, vea [Realizar combinaciones agrupadas](../../linq/perform-grouped-joins.md).</span><span class="sxs-lookup"><span data-stu-id="c0cba-131">For more information, see [Perform grouped joins](../../linq/perform-grouped-joins.md).</span></span>

## <a name="left-outer-join"></a><span data-ttu-id="c0cba-132">Combinación externa izquierda</span><span class="sxs-lookup"><span data-stu-id="c0cba-132">Left outer join</span></span>

<span data-ttu-id="c0cba-133">En una combinación externa izquierda se devuelven todos los elementos de la secuencia de origen izquierda, incluso si no hay elementos coincidentes en la secuencia derecha.</span><span class="sxs-lookup"><span data-stu-id="c0cba-133">In a left outer join, all the elements in the left source sequence are returned, even if no matching elements are in the right sequence.</span></span> <span data-ttu-id="c0cba-134">Para efectuar una combinación externa izquierda en LINQ, use el método `DefaultIfEmpty` junto con una combinación agrupada para especificar un elemento derecho predeterminado para que se genere si un elemento izquierdo no tiene coincidencias.</span><span class="sxs-lookup"><span data-stu-id="c0cba-134">To perform a left outer join in LINQ, use the `DefaultIfEmpty` method in combination with a group join to specify a default right-side element to produce if a left-side element has no matches.</span></span> <span data-ttu-id="c0cba-135">Puede usar `null` como valor predeterminado para cualquier tipo de referencia, aunque también puede especificar un tipo predeterminado definido por el usuario.</span><span class="sxs-lookup"><span data-stu-id="c0cba-135">You can use `null` as the default value for any reference type, or you can specify a user-defined default type.</span></span> <span data-ttu-id="c0cba-136">En el ejemplo siguiente se muestra un tipo predeterminado definido por el usuario:</span><span class="sxs-lookup"><span data-stu-id="c0cba-136">In the following example, a user-defined default type is shown:</span></span>

[!code-csharp[cscsrefQueryKeywords#27](~/samples/snippets/csharp/VS_Snippets_VBCSharp/CsCsrefQueryKeywords/CS/Join.cs#27)]

<span data-ttu-id="c0cba-137">Para obtener más información, vea [Realizar operaciones de combinación externa izquierda](../../linq/perform-left-outer-joins.md).</span><span class="sxs-lookup"><span data-stu-id="c0cba-137">For more information, see [Perform left outer joins](../../linq/perform-left-outer-joins.md).</span></span>

## <a name="the-equals-operator"></a><span data-ttu-id="c0cba-138">El operador de igualdad</span><span class="sxs-lookup"><span data-stu-id="c0cba-138">The equals operator</span></span>

<span data-ttu-id="c0cba-139">La cláusula `join` efectúa una combinación de igualdad.</span><span class="sxs-lookup"><span data-stu-id="c0cba-139">A `join` clause performs an equijoin.</span></span> <span data-ttu-id="c0cba-140">En otras palabras, solo puede basar las coincidencias en la igualdad de dos claves.</span><span class="sxs-lookup"><span data-stu-id="c0cba-140">In other words, you can only base matches on the equality of two keys.</span></span> <span data-ttu-id="c0cba-141">No se admiten otros tipos de comparaciones, como "mayor que" o "no es igual a".</span><span class="sxs-lookup"><span data-stu-id="c0cba-141">Other types of comparisons such as "greater than" or "not equals" are not supported.</span></span> <span data-ttu-id="c0cba-142">Para aclarar que todas las combinaciones son combinaciones de igualdad, la cláusula `join` usa la palabra clave `equals` en lugar del operador `==`.</span><span class="sxs-lookup"><span data-stu-id="c0cba-142">To make clear that all joins are equijoins, the `join` clause uses the `equals` keyword instead of the `==` operator.</span></span> <span data-ttu-id="c0cba-143">La palabra clave `equals` solo se puede usar en una cláusula `join` y difiere del operador `==` en un aspecto importante.</span><span class="sxs-lookup"><span data-stu-id="c0cba-143">The `equals` keyword can only be used in a `join` clause and it differs from the `==` operator in one important way.</span></span> <span data-ttu-id="c0cba-144">Con `equals`, la clave izquierda usa la secuencia de origen externa, mientras que la clave derecha usa el origen interno.</span><span class="sxs-lookup"><span data-stu-id="c0cba-144">With `equals`, the left key consumes the outer source sequence, and the right key consumes the inner source.</span></span> <span data-ttu-id="c0cba-145">El origen externo solo está en el ámbito del lado izquierdo de `equals`, mientras que la secuencia de origen interna solo está en el ámbito del lado derecho.</span><span class="sxs-lookup"><span data-stu-id="c0cba-145">The outer source is only in scope on the left side of `equals` and the inner source sequence is only in scope on the right side.</span></span>

## <a name="non-equijoins"></a><span data-ttu-id="c0cba-146">Combinaciones de desigualdad</span><span class="sxs-lookup"><span data-stu-id="c0cba-146">Non-equijoins</span></span>

<span data-ttu-id="c0cba-147">Puede efectuar combinaciones de desigualdad, combinaciones cruzadas y otras operaciones de combinación personalizadas usando varias cláusulas `from` para introducir nuevas secuencias en una consulta de manera independiente.</span><span class="sxs-lookup"><span data-stu-id="c0cba-147">You can perform non-equijoins, cross joins, and other custom join operations by using multiple `from` clauses to introduce new sequences independently into a query.</span></span> <span data-ttu-id="c0cba-148">Para obtener más información, vea [Realizar operaciones de combinación personalizadas](../../linq/perform-custom-join-operations.md).</span><span class="sxs-lookup"><span data-stu-id="c0cba-148">For more information, see [Perform custom join operations](../../linq/perform-custom-join-operations.md).</span></span>

## <a name="joins-on-object-collections-vs-relational-tables"></a><span data-ttu-id="c0cba-149">Uniones en las colecciones de objetos frente a las tablas relacionales</span><span class="sxs-lookup"><span data-stu-id="c0cba-149">Joins on object collections vs. relational tables</span></span>

<span data-ttu-id="c0cba-150">En una expresión de consulta LINQ, las operaciones de combinación se efectúan en las colecciones de objetos.</span><span class="sxs-lookup"><span data-stu-id="c0cba-150">In a LINQ query expression, join operations are performed on object collections.</span></span> <span data-ttu-id="c0cba-151">Las colecciones de objetos no se pueden "combinar" exactamente igual que dos tablas relacionales.</span><span class="sxs-lookup"><span data-stu-id="c0cba-151">Object collections cannot be "joined" in exactly the same way as two relational tables.</span></span> <span data-ttu-id="c0cba-152">En LINQ, las cláusulas `join` explícitas solo son necesarias cuando dos secuencias de origen no están unidas por ninguna relación.</span><span class="sxs-lookup"><span data-stu-id="c0cba-152">In LINQ, explicit `join` clauses are only required when two source sequences are not tied by any relationship.</span></span> <span data-ttu-id="c0cba-153">Cuando se trabaja con [!INCLUDE[vbtecdlinq](~/includes/vbtecdlinq-md.md)], las tablas de claves externas se representan en el modelo de objetos como propiedades de la tabla principal.</span><span class="sxs-lookup"><span data-stu-id="c0cba-153">When working with [!INCLUDE[vbtecdlinq](~/includes/vbtecdlinq-md.md)], foreign key tables are represented in the object model as properties of the primary table.</span></span> <span data-ttu-id="c0cba-154">Por ejemplo, en la base de datos Northwind, la tabla Customer (Cliente) tiene una relación de clave externa con la tabla Orders (Pedidos).</span><span class="sxs-lookup"><span data-stu-id="c0cba-154">For example, in the Northwind database, the Customer table has a foreign key relationship with the Orders table.</span></span> <span data-ttu-id="c0cba-155">Al asignar las tablas al modelo de objetos, la clase Customer tiene una propiedad Orders que contiene la colección Orders asociada a ese cliente.</span><span class="sxs-lookup"><span data-stu-id="c0cba-155">When you map the tables to the object model, the Customer class has an Orders property that contains the collection of Orders associated with that Customer.</span></span> <span data-ttu-id="c0cba-156">De hecho, la combinación ya se ha llevado a cabo automáticamente.</span><span class="sxs-lookup"><span data-stu-id="c0cba-156">In effect, the join has already been done for you.</span></span>

<span data-ttu-id="c0cba-157">Para obtener más información sobre las consultas en tablas relacionadas en el contexto de [!INCLUDE[vbtecdlinq](~/includes/vbtecdlinq-md.md)], vea [Cómo: Asignar relaciones de base de datos](../../../framework/data/adonet/sql/linq/how-to-map-database-relationships.md).</span><span class="sxs-lookup"><span data-stu-id="c0cba-157">For more information about querying across related tables in the context of [!INCLUDE[vbtecdlinq](~/includes/vbtecdlinq-md.md)], see [How to: Map Database Relationships](../../../framework/data/adonet/sql/linq/how-to-map-database-relationships.md).</span></span>

## <a name="composite-keys"></a><span data-ttu-id="c0cba-158">Claves compuestas</span><span class="sxs-lookup"><span data-stu-id="c0cba-158">Composite keys</span></span>

<span data-ttu-id="c0cba-159">Puede probar la igualdad de varios valores mediante una clave compuesta.</span><span class="sxs-lookup"><span data-stu-id="c0cba-159">You can test for equality of multiple values by using a composite key.</span></span> <span data-ttu-id="c0cba-160">Para obtener más información, vea [Realizar una unión usando claves compuestas](../../linq/join-by-using-composite-keys.md).</span><span class="sxs-lookup"><span data-stu-id="c0cba-160">For more information, see [Join by using composite keys](../../linq/join-by-using-composite-keys.md).</span></span> <span data-ttu-id="c0cba-161">Las claves compuestas también se pueden usar en una cláusula `group`.</span><span class="sxs-lookup"><span data-stu-id="c0cba-161">Composite keys can be also used in a `group` clause.</span></span>

## <a name="example"></a><span data-ttu-id="c0cba-162">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="c0cba-162">Example</span></span>

<span data-ttu-id="c0cba-163">En el ejemplo siguiente se comparan los resultados de una combinación interna, una combinación agrupada y una combinación externa izquierda en los mismos orígenes de datos mediante las mismas claves coincidentes.</span><span class="sxs-lookup"><span data-stu-id="c0cba-163">The following example compares the results of an inner join, a group join, and a left outer join on the same data sources by using the same matching keys.</span></span> <span data-ttu-id="c0cba-164">Se ha agregado algún código adicional a estos ejemplos para aclarar los resultados en la pantalla de la consola.</span><span class="sxs-lookup"><span data-stu-id="c0cba-164">Some extra code is added to these examples to clarify the results in the console display.</span></span>

[!code-csharp[cscsrefQueryKeywords#23](~/samples/snippets/csharp/VS_Snippets_VBCSharp/CsCsrefQueryKeywords/CS/Join.cs#23)]

## <a name="remarks"></a><span data-ttu-id="c0cba-165">Comentarios</span><span class="sxs-lookup"><span data-stu-id="c0cba-165">Remarks</span></span>

<span data-ttu-id="c0cba-166">Una cláusula `join` que no va seguida de `into` se convierte en una llamada al método <xref:System.Linq.Enumerable.Join%2A>.</span><span class="sxs-lookup"><span data-stu-id="c0cba-166">A `join` clause that is not followed by `into` is translated into a <xref:System.Linq.Enumerable.Join%2A> method call.</span></span> <span data-ttu-id="c0cba-167">Una cláusula `join` que va seguida de `into` se convierte en una llamada al método <xref:System.Linq.Enumerable.GroupJoin%2A>.</span><span class="sxs-lookup"><span data-stu-id="c0cba-167">A `join` clause that is followed by `into` is translated to a <xref:System.Linq.Enumerable.GroupJoin%2A> method call.</span></span>

## <a name="see-also"></a><span data-ttu-id="c0cba-168">Vea también</span><span class="sxs-lookup"><span data-stu-id="c0cba-168">See also</span></span>

- [<span data-ttu-id="c0cba-169">Palabras clave para consultas (LINQ)</span><span class="sxs-lookup"><span data-stu-id="c0cba-169">Query Keywords (LINQ)</span></span>](query-keywords.md)
- [<span data-ttu-id="c0cba-170">Language-Integrated Query (LINQ)</span><span class="sxs-lookup"><span data-stu-id="c0cba-170">Language Integrated Query (LINQ)</span></span>](../../linq/index.md)
- [<span data-ttu-id="c0cba-171">Operaciones de combinación</span><span class="sxs-lookup"><span data-stu-id="c0cba-171">Join Operations</span></span>](../../programming-guide/concepts/linq/join-operations.md)
- [<span data-ttu-id="c0cba-172">group (cláusula)</span><span class="sxs-lookup"><span data-stu-id="c0cba-172">group clause</span></span>](group-clause.md)
- [<span data-ttu-id="c0cba-173">Realizar operaciones de combinación externa izquierda</span><span class="sxs-lookup"><span data-stu-id="c0cba-173">Perform left outer joins</span></span>](../../linq/perform-left-outer-joins.md)
- [<span data-ttu-id="c0cba-174">Realizar combinaciones internas</span><span class="sxs-lookup"><span data-stu-id="c0cba-174">Perform inner joins</span></span>](../../linq/perform-inner-joins.md)
- [<span data-ttu-id="c0cba-175">Realizar combinaciones agrupadas</span><span class="sxs-lookup"><span data-stu-id="c0cba-175">Perform grouped joins</span></span>](../../linq/perform-grouped-joins.md)
- [<span data-ttu-id="c0cba-176">Ordenar los resultados de una cláusula join</span><span class="sxs-lookup"><span data-stu-id="c0cba-176">Order the results of a join clause</span></span>](../../linq/order-the-results-of-a-join-clause.md)
- [<span data-ttu-id="c0cba-177">Realizar una unión usando claves compuestas</span><span class="sxs-lookup"><span data-stu-id="c0cba-177">Join by using composite keys</span></span>](../../linq/join-by-using-composite-keys.md)
- [<span data-ttu-id="c0cba-178">Sistemas de base de datos compatible para Visual Studio</span><span class="sxs-lookup"><span data-stu-id="c0cba-178">Compatible database systems for Visual Studio</span></span>](/visualstudio/data-tools/installing-database-systems-tools-and-samples)
