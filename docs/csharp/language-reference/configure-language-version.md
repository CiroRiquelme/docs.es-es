---
title: 'Control de versiones del lenguaje C#: Guía de C#'
description: Obtenga información sobre cómo se determina la versión del lenguaje C# en función del proyecto y los motivos de esa decisión. Obtenga información sobre cómo invalidar el valor predeterminado de forma manual.
ms.date: 02/21/2020
ms.openlocfilehash: 850c4a860878593d80aaa3b7b38efaff9e003f43
ms.sourcegitcommit: 73aa9653547a1cd70ee6586221f79cc29b588ebd
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 04/23/2020
ms.locfileid: "82102664"
---
# <a name="c-language-versioning"></a><span data-ttu-id="de5aa-104">Control de versiones del lenguaje C#</span><span class="sxs-lookup"><span data-stu-id="de5aa-104">C# language versioning</span></span>

<span data-ttu-id="de5aa-105">El compilador de C# más actualizado determina una versión de lenguaje predeterminada basada en los marcos o las plataformas de destino del proyecto.</span><span class="sxs-lookup"><span data-stu-id="de5aa-105">The latest C# compiler determines a default language version based on your project's target framework or frameworks.</span></span> <span data-ttu-id="de5aa-106">Visual Studio no proporciona una interfaz de usuario para cambiar el valor, pero se puede cambiar si se modifica el archivo *csproj*.</span><span class="sxs-lookup"><span data-stu-id="de5aa-106">Visual Studio doesn't provide a UI to change the value, but you can change it by editing the *csproj* file.</span></span> <span data-ttu-id="de5aa-107">La opción predeterminada garantiza que se use la versión del lenguaje más reciente compatible con el marco de trabajo de destino.</span><span class="sxs-lookup"><span data-stu-id="de5aa-107">The choice of default ensures that you use the latest language version compatible with your target framework.</span></span> <span data-ttu-id="de5aa-108">Se beneficia del acceso a las características de lenguaje más recientes compatibles con el destino del proyecto.</span><span class="sxs-lookup"><span data-stu-id="de5aa-108">You benefit from access to the latest language features compatible with your project's target.</span></span> <span data-ttu-id="de5aa-109">Esta opción predeterminada también garantiza que no se use un lenguaje que requiera tipos o el comportamiento en tiempo de ejecución no esté disponible en la plataforma de destino.</span><span class="sxs-lookup"><span data-stu-id="de5aa-109">This default choice also ensures you don't use a language that requires types or runtime behavior not available in your target framework.</span></span> <span data-ttu-id="de5aa-110">La elección de una versión del lenguaje más reciente que la predeterminada puede provocar errores en tiempo de compilación y en tiempo de ejecución difíciles de diagnosticar.</span><span class="sxs-lookup"><span data-stu-id="de5aa-110">Choosing a language version newer than the default can cause hard to diagnose compile-time and runtime errors.</span></span>

<span data-ttu-id="de5aa-111">Las reglas de este artículo se aplican al compilador ofrecido con Visual Studio 2019 o al SDK de .NET Core 3.0.</span><span class="sxs-lookup"><span data-stu-id="de5aa-111">The rules in this article apply to the compiler delivered with Visual Studio 2019 or the .NET Core 3.0 SDK.</span></span> <span data-ttu-id="de5aa-112">Los compiladores de C# que forman parte de la instalación de Visual Studio 2017 o versiones anteriores del SDK de .NET Core tienen como destino C# 7.0 de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="de5aa-112">The C# compilers that are part of the Visual Studio 2017 installation or earlier .NET Core SDK versions target C# 7.0 by default.</span></span>

<span data-ttu-id="de5aa-113">C# 8.0 (y versiones posteriores) solo se admite en .NET Core 3.x y versiones más recientes.</span><span class="sxs-lookup"><span data-stu-id="de5aa-113">C# 8.0 (and higher) is supported only on .NET Core 3.x and newer versions.</span></span> <span data-ttu-id="de5aa-114">Muchas de las características más recientes requieren características de biblioteca y runtime introducidas en .NET Core 3.x:</span><span class="sxs-lookup"><span data-stu-id="de5aa-114">Many of the newest features require library and runtime features introduced in .NET Core 3.x:</span></span>

- <span data-ttu-id="de5aa-115">La implementación de miembro de interfaz predeterminada requiere nuevas características en el CLR de .NET Core 3.0.</span><span class="sxs-lookup"><span data-stu-id="de5aa-115">Default interface member implementation requires new features in the .NET Core 3.0 CLR.</span></span>
- <span data-ttu-id="de5aa-116">Las secuencias asincrónicas requieren los nuevos tipos <xref:System.IAsyncDisposable?displayProperty=nameWithType>, <xref:System.Collections.Generic.IAsyncEnumerable%601?displayProperty=nameWithType> y <xref:System.Collections.Generic.IAsyncEnumerator%601?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="de5aa-116">Async streams require the new types <xref:System.IAsyncDisposable?displayProperty=nameWithType>, <xref:System.Collections.Generic.IAsyncEnumerable%601?displayProperty=nameWithType>, and <xref:System.Collections.Generic.IAsyncEnumerator%601?displayProperty=nameWithType>.</span></span>
- <span data-ttu-id="de5aa-117">Los índices y los intervalos requieren los nuevos tipos <xref:System.Index?displayProperty=nameWithType> y <xref:System.Range?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="de5aa-117">Indexes and Ranges require the new types <xref:System.Index?displayProperty=nameWithType> and <xref:System.Range?displayProperty=nameWithType>.</span></span>
- <span data-ttu-id="de5aa-118">Los tipos de referencia que admiten un valor NULL hacen uso de varios [atributos](attributes/nullable-analysis.md) para proporcionar mejores advertencias.</span><span class="sxs-lookup"><span data-stu-id="de5aa-118">Nullable reference types make use of several [attributes](attributes/nullable-analysis.md) to provide better warnings.</span></span> <span data-ttu-id="de5aa-119">Esos atributos se han agregado en .NET Core 3.0.</span><span class="sxs-lookup"><span data-stu-id="de5aa-119">Those attributes were added in .NET Core 3.0.</span></span> <span data-ttu-id="de5aa-120">Otras plataformas de destino no se han anotado con ninguno de estos atributos.</span><span class="sxs-lookup"><span data-stu-id="de5aa-120">Other target frameworks haven't been annotated with any of these attributes.</span></span> <span data-ttu-id="de5aa-121">Esto significa que es posible que las advertencias que admiten un valor NULL no reflejen con precisión los posibles problemas.</span><span class="sxs-lookup"><span data-stu-id="de5aa-121">That means nullable warnings may not accurately reflect potential issues.</span></span>

## <a name="defaults"></a><span data-ttu-id="de5aa-122">Valores predeterminados</span><span class="sxs-lookup"><span data-stu-id="de5aa-122">Defaults</span></span>

<span data-ttu-id="de5aa-123">El compilador determina un valor predeterminado según estas reglas:</span><span class="sxs-lookup"><span data-stu-id="de5aa-123">The compiler determines a default based on these rules:</span></span>

|<span data-ttu-id="de5aa-124">Marco de destino</span><span class="sxs-lookup"><span data-stu-id="de5aa-124">Target framework</span></span>|<span data-ttu-id="de5aa-125">version</span><span class="sxs-lookup"><span data-stu-id="de5aa-125">version</span></span>|<span data-ttu-id="de5aa-126">Versión predeterminada del lenguaje C#</span><span class="sxs-lookup"><span data-stu-id="de5aa-126">C# language version default</span></span>|
|----------------|-------|---------------------------|
|<span data-ttu-id="de5aa-127">.NET Core</span><span class="sxs-lookup"><span data-stu-id="de5aa-127">.NET Core</span></span>|<span data-ttu-id="de5aa-128">3.x</span><span class="sxs-lookup"><span data-stu-id="de5aa-128">3.x</span></span>|<span data-ttu-id="de5aa-129">C# 8.0</span><span class="sxs-lookup"><span data-stu-id="de5aa-129">C# 8.0</span></span>|
|<span data-ttu-id="de5aa-130">.NET Core</span><span class="sxs-lookup"><span data-stu-id="de5aa-130">.NET Core</span></span>|<span data-ttu-id="de5aa-131">2.x</span><span class="sxs-lookup"><span data-stu-id="de5aa-131">2.x</span></span>|<span data-ttu-id="de5aa-132">C# 7.3</span><span class="sxs-lookup"><span data-stu-id="de5aa-132">C# 7.3</span></span>|
|<span data-ttu-id="de5aa-133">.NET Standard</span><span class="sxs-lookup"><span data-stu-id="de5aa-133">.NET Standard</span></span>|<span data-ttu-id="de5aa-134">2.1</span><span class="sxs-lookup"><span data-stu-id="de5aa-134">2.1</span></span>|<span data-ttu-id="de5aa-135">C# 8.0</span><span class="sxs-lookup"><span data-stu-id="de5aa-135">C# 8.0</span></span>|
|<span data-ttu-id="de5aa-136">.NET Standard</span><span class="sxs-lookup"><span data-stu-id="de5aa-136">.NET Standard</span></span>|<span data-ttu-id="de5aa-137">2.0</span><span class="sxs-lookup"><span data-stu-id="de5aa-137">2.0</span></span>|<span data-ttu-id="de5aa-138">C# 7.3</span><span class="sxs-lookup"><span data-stu-id="de5aa-138">C# 7.3</span></span>|
|<span data-ttu-id="de5aa-139">.NET Standard</span><span class="sxs-lookup"><span data-stu-id="de5aa-139">.NET Standard</span></span>|<span data-ttu-id="de5aa-140">1.x</span><span class="sxs-lookup"><span data-stu-id="de5aa-140">1.x</span></span>|<span data-ttu-id="de5aa-141">C# 7.3</span><span class="sxs-lookup"><span data-stu-id="de5aa-141">C# 7.3</span></span>|
|<span data-ttu-id="de5aa-142">.NET Framework</span><span class="sxs-lookup"><span data-stu-id="de5aa-142">.NET Framework</span></span>|<span data-ttu-id="de5aa-143">todo</span><span class="sxs-lookup"><span data-stu-id="de5aa-143">all</span></span>|<span data-ttu-id="de5aa-144">C# 7.3</span><span class="sxs-lookup"><span data-stu-id="de5aa-144">C# 7.3</span></span>|

<span data-ttu-id="de5aa-145">Cuando el proyecto tiene como destino un marco en versión preliminar que tenga una versión de lenguaje preliminar correspondiente, la versión de lenguaje que se usa es la que está en versión preliminar.</span><span class="sxs-lookup"><span data-stu-id="de5aa-145">When your project targets a preview framework that has a corresponding preview language version, the language version used is the preview language version.</span></span> <span data-ttu-id="de5aa-146">Puede usar las características más recientes con esa versión preliminar en cualquier entorno, sin que afecte a los proyectos que tienen como destino una versión de .NET Core publicada.</span><span class="sxs-lookup"><span data-stu-id="de5aa-146">You use the latest features with that preview in any environment, without affecting projects that target a released .NET Core version.</span></span>

## <a name="override-a-default"></a><span data-ttu-id="de5aa-147">Invalidación de un valor predeterminado</span><span class="sxs-lookup"><span data-stu-id="de5aa-147">Override a default</span></span>

<span data-ttu-id="de5aa-148">Si debe especificar su versión de C# explícitamente, puede hacerlo de varias maneras:</span><span class="sxs-lookup"><span data-stu-id="de5aa-148">If you must specify your C# version explicitly, you can do so in several ways:</span></span>

- <span data-ttu-id="de5aa-149">Editar manualmente el [archivo del proyecto](#edit-the-project-file).</span><span class="sxs-lookup"><span data-stu-id="de5aa-149">Manually edit your [project file](#edit-the-project-file).</span></span>
- <span data-ttu-id="de5aa-150">Establecer la versión del lenguaje [para varios proyectos en un subdirectorio](#configure-multiple-projects).</span><span class="sxs-lookup"><span data-stu-id="de5aa-150">Set the language version [for multiple projects in a subdirectory](#configure-multiple-projects).</span></span>
- <span data-ttu-id="de5aa-151">Configurar la opción dl compilador [Reemplace la opción del compilador `-langversion`](compiler-options/langversion-compiler-option.md).</span><span class="sxs-lookup"><span data-stu-id="de5aa-151">Configure the [`-langversion` compiler option](compiler-options/langversion-compiler-option.md).</span></span>

### <a name="edit-the-project-file"></a><span data-ttu-id="de5aa-152">Edición del archivo del proyecto</span><span class="sxs-lookup"><span data-stu-id="de5aa-152">Edit the project file</span></span>

<span data-ttu-id="de5aa-153">Puede establecer la versión del lenguaje en el archivo del proyecto.</span><span class="sxs-lookup"><span data-stu-id="de5aa-153">You can set the language version in your project file.</span></span> <span data-ttu-id="de5aa-154">Por ejemplo, si quiere acceder explícitamente a las características en versión preliminar, agregue un elemento similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="de5aa-154">For example, if you explicitly want access to preview features, add an element like this:</span></span>

```xml
<PropertyGroup>
   <LangVersion>preview</LangVersion>
</PropertyGroup>
```

<span data-ttu-id="de5aa-155">El valor `preview` usa la versión preliminar más reciente disponible del lenguaje C# que admite el compilador.</span><span class="sxs-lookup"><span data-stu-id="de5aa-155">The value `preview` uses the latest available preview C# language version that your compiler supports.</span></span>

### <a name="configure-multiple-projects"></a><span data-ttu-id="de5aa-156">Configurar varios proyectos</span><span class="sxs-lookup"><span data-stu-id="de5aa-156">Configure multiple projects</span></span>

<span data-ttu-id="de5aa-157">Para configurar varios proyectos, se puede crear un archivo **Directory.Build.props** que contenga el elemento `<LangVersion>`.</span><span class="sxs-lookup"><span data-stu-id="de5aa-157">To configure multiple projects, you can create a **Directory.Build.props** file that contains the `<LangVersion>` element.</span></span> <span data-ttu-id="de5aa-158">Por lo general, esto se hace en el directorio de la solución.</span><span class="sxs-lookup"><span data-stu-id="de5aa-158">You typically do that in your solution directory.</span></span> <span data-ttu-id="de5aa-159">Agregue lo siguiente a un archivo **Directory.Build.props** en el directorio de la solución:</span><span class="sxs-lookup"><span data-stu-id="de5aa-159">Add the following to a **Directory.Build.props** file in your solution directory:</span></span>

```xml
<Project>
 <PropertyGroup>
   <LangVersion>preview</LangVersion>
 </PropertyGroup>
</Project>
```

<span data-ttu-id="de5aa-160">Las compilaciones de todos los subdirectorios del directorio que contenga ese archivo usarán la sintaxis de la versión preliminar de C#.</span><span class="sxs-lookup"><span data-stu-id="de5aa-160">Builds in all subdirectories of the directory containing that file will use the preview C# version.</span></span> <span data-ttu-id="de5aa-161">Para obtener más información, consulte el artículo [Personalizar una compilación](/visualstudio/msbuild/customize-your-build).</span><span class="sxs-lookup"><span data-stu-id="de5aa-161">For more information, see the article on [Customize your build](/visualstudio/msbuild/customize-your-build).</span></span>

## <a name="c-language-version-reference"></a><span data-ttu-id="de5aa-162">Referencia de la versión del lenguaje C#</span><span class="sxs-lookup"><span data-stu-id="de5aa-162">C# language version reference</span></span>

<span data-ttu-id="de5aa-163">En la siguiente tabla se muestran las versiones actuales del lenguaje C#.</span><span class="sxs-lookup"><span data-stu-id="de5aa-163">The following table shows all current C# language versions.</span></span> <span data-ttu-id="de5aa-164">Es posible que el compilador no entienda necesariamente todos los valores si es más antiguo.</span><span class="sxs-lookup"><span data-stu-id="de5aa-164">Your compiler may not necessarily understand every value if it's older.</span></span> <span data-ttu-id="de5aa-165">Si instala .NET Core 3.0 o posterior, tiene acceso a todo lo que aparece.</span><span class="sxs-lookup"><span data-stu-id="de5aa-165">If you install .NET Core 3.0 or later, then you have access to everything listed.</span></span>

|<span data-ttu-id="de5aa-166">Valor</span><span class="sxs-lookup"><span data-stu-id="de5aa-166">Value</span></span>|<span data-ttu-id="de5aa-167">Significado</span><span class="sxs-lookup"><span data-stu-id="de5aa-167">Meaning</span></span>|
|------------|-------------|
|<span data-ttu-id="de5aa-168">preview</span><span class="sxs-lookup"><span data-stu-id="de5aa-168">preview</span></span>|<span data-ttu-id="de5aa-169">El compilador acepta toda la sintaxis de lenguaje válida de la última versión preliminar.</span><span class="sxs-lookup"><span data-stu-id="de5aa-169">The compiler accepts all valid language syntax from the latest preview version.</span></span>|
|<span data-ttu-id="de5aa-170">latest</span><span class="sxs-lookup"><span data-stu-id="de5aa-170">latest</span></span>|<span data-ttu-id="de5aa-171">El compilador acepta la sintaxis de la última versión del compilador (incluida las versión secundaria).</span><span class="sxs-lookup"><span data-stu-id="de5aa-171">The compiler accepts syntax from the latest released version of the compiler (including minor version).</span></span>|
|<span data-ttu-id="de5aa-172">latestMajor</span><span class="sxs-lookup"><span data-stu-id="de5aa-172">latestMajor</span></span>|<span data-ttu-id="de5aa-173">El compilador acepta la sintaxis de la versión principal más reciente del compilador.</span><span class="sxs-lookup"><span data-stu-id="de5aa-173">The compiler accepts syntax from the latest released major version of the compiler.</span></span>|
|<span data-ttu-id="de5aa-174">8.0</span><span class="sxs-lookup"><span data-stu-id="de5aa-174">8.0</span></span>|<span data-ttu-id="de5aa-175">El compilador acepta solo la sintaxis que se incluye en C# 8.0 o versiones anteriores.</span><span class="sxs-lookup"><span data-stu-id="de5aa-175">The compiler accepts only syntax that is included in C# 8.0 or lower.</span></span>|
|<span data-ttu-id="de5aa-176">7.3</span><span class="sxs-lookup"><span data-stu-id="de5aa-176">7.3</span></span>|<span data-ttu-id="de5aa-177">El compilador acepta solo la sintaxis que se incluye en C# 7.3 o versiones anteriores.</span><span class="sxs-lookup"><span data-stu-id="de5aa-177">The compiler accepts only syntax that is included in C# 7.3 or lower.</span></span>|
|<span data-ttu-id="de5aa-178">7.2</span><span class="sxs-lookup"><span data-stu-id="de5aa-178">7.2</span></span>|<span data-ttu-id="de5aa-179">El compilador acepta solo la sintaxis que se incluye en C# 7.2 o versiones anteriores.</span><span class="sxs-lookup"><span data-stu-id="de5aa-179">The compiler accepts only syntax that is included in C# 7.2 or lower.</span></span>|
|<span data-ttu-id="de5aa-180">7.1</span><span class="sxs-lookup"><span data-stu-id="de5aa-180">7.1</span></span>|<span data-ttu-id="de5aa-181">El compilador acepta solo la sintaxis que se incluye en C# 7.1 o versiones anteriores.</span><span class="sxs-lookup"><span data-stu-id="de5aa-181">The compiler accepts only syntax that is included in C# 7.1 or lower.</span></span>|
|<span data-ttu-id="de5aa-182">7</span><span class="sxs-lookup"><span data-stu-id="de5aa-182">7</span></span>|<span data-ttu-id="de5aa-183">El compilador acepta solo la sintaxis que se incluye en C# 7.0 o versiones anteriores.</span><span class="sxs-lookup"><span data-stu-id="de5aa-183">The compiler accepts only syntax that is included in C# 7.0 or lower.</span></span>|
|<span data-ttu-id="de5aa-184">6</span><span class="sxs-lookup"><span data-stu-id="de5aa-184">6</span></span>|<span data-ttu-id="de5aa-185">El compilador acepta solo la sintaxis que se incluye en C# 6.0 o versiones anteriores.</span><span class="sxs-lookup"><span data-stu-id="de5aa-185">The compiler accepts only syntax that is included in C# 6.0 or lower.</span></span>|
|<span data-ttu-id="de5aa-186">5</span><span class="sxs-lookup"><span data-stu-id="de5aa-186">5</span></span>|<span data-ttu-id="de5aa-187">El compilador acepta solo la sintaxis que se incluye en C# 5.0 o versiones anteriores.</span><span class="sxs-lookup"><span data-stu-id="de5aa-187">The compiler accepts only syntax that is included in C# 5.0 or lower.</span></span>|
|<span data-ttu-id="de5aa-188">4</span><span class="sxs-lookup"><span data-stu-id="de5aa-188">4</span></span>|<span data-ttu-id="de5aa-189">El compilador acepta solo la sintaxis que se incluye en C# 4.0 o versiones anteriores.</span><span class="sxs-lookup"><span data-stu-id="de5aa-189">The compiler accepts only syntax that is included in C# 4.0 or lower.</span></span>|
|<span data-ttu-id="de5aa-190">3</span><span class="sxs-lookup"><span data-stu-id="de5aa-190">3</span></span>|<span data-ttu-id="de5aa-191">El compilador acepta solo la sintaxis que se incluye en C# 3.0 o versiones anteriores.</span><span class="sxs-lookup"><span data-stu-id="de5aa-191">The compiler accepts only syntax that is included in C# 3.0 or lower.</span></span>|
|<span data-ttu-id="de5aa-192">ISO-2</span><span class="sxs-lookup"><span data-stu-id="de5aa-192">ISO-2</span></span>|<span data-ttu-id="de5aa-193">El compilador acepta solo la sintaxis que se incluye en ISO/IEC 23270:2006 C# (2.0).</span><span class="sxs-lookup"><span data-stu-id="de5aa-193">The compiler accepts only syntax that is included in ISO/IEC 23270:2006 C# (2.0).</span></span> |
|<span data-ttu-id="de5aa-194">ISO-1</span><span class="sxs-lookup"><span data-stu-id="de5aa-194">ISO-1</span></span>|<span data-ttu-id="de5aa-195">El compilador acepta solo la sintaxis que se incluye en ISO/IEC 23270:2003 C# (1.0/1.2).</span><span class="sxs-lookup"><span data-stu-id="de5aa-195">The compiler accepts only syntax that is included in ISO/IEC 23270:2003 C# (1.0/1.2).</span></span> |
